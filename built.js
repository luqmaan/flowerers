!function(){var t,n,e;!function(r){function o(t,n){return x.call(t,n)}function i(t,n){var e,r,o,i,u,a,s,c,f,l,h,p=n&&n.split("/"),g=m.map,d=g&&g["*"]||{};if(t&&"."===t.charAt(0))if(n){for(p=p.slice(0,p.length-1),t=t.split("/"),u=t.length-1,m.nodeIdCompat&&b.test(t[u])&&(t[u]=t[u].replace(b,"")),t=p.concat(t),f=0;f<t.length;f+=1)if(h=t[f],"."===h)t.splice(f,1),f-=1;else if(".."===h){if(1===f&&(".."===t[2]||".."===t[0]))break;f>0&&(t.splice(f-1,2),f-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||d)&&g){for(e=t.split("/"),f=e.length;f>0;f-=1){if(r=e.slice(0,f).join("/"),p)for(l=p.length;l>0;l-=1)if(o=g[p.slice(0,l).join("/")],o&&(o=o[r])){i=o,a=f;break}if(i)break;!s&&d&&d[r]&&(s=d[r],c=f)}!i&&s&&(i=s,a=c),i&&(e.splice(0,a,i),t=e.join("/"))}return t}function u(t,n){return function(){return p.apply(r,w.call(arguments,0).concat([t,n]))}}function a(t){return function(n){return i(n,t)}}function s(t){return function(n){v[t]=n}}function c(t){if(o(y,t)){var n=y[t];delete y[t],_[t]=!0,h.apply(r,n)}if(!o(v,t)&&!o(_,t))throw new Error("No "+t);return v[t]}function f(t){var n,e=t?t.indexOf("!"):-1;return e>-1&&(n=t.substring(0,e),t=t.substring(e+1,t.length)),[n,t]}function l(t){return function(){return m&&m.config&&m.config[t]||{}}}var h,p,g,d,v={},y={},m={},_={},x=Object.prototype.hasOwnProperty,w=[].slice,b=/\.js$/;g=function(t,n){var e,r=f(t),o=r[0];return t=r[1],o&&(o=i(o,n),e=c(o)),o?t=e&&e.normalize?e.normalize(t,a(n)):i(t,n):(t=i(t,n),r=f(t),o=r[0],t=r[1],o&&(e=c(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:e}},d={require:function(t){return u(t)},exports:function(t){var n=v[t];return"undefined"!=typeof n?n:v[t]={}},module:function(t){return{id:t,uri:"",exports:v[t],config:l(t)}}},h=function(t,n,e,i){var a,f,l,h,p,m,x=[],w=typeof e;if(i=i||t,"undefined"===w||"function"===w){for(n=!n.length&&e.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(h=g(n[p],i),f=h.f,"require"===f)x[p]=d.require(t);else if("exports"===f)x[p]=d.exports(t),m=!0;else if("module"===f)a=x[p]=d.module(t);else if(o(v,f)||o(y,f)||o(_,f))x[p]=c(f);else{if(!h.p)throw new Error(t+" missing "+f);h.p.load(h.n,u(i,!0),s(f),{}),x[p]=v[f]}l=e?e.apply(v[t],x):void 0,t&&(a&&a.exports!==r&&a.exports!==v[t]?v[t]=a.exports:l===r&&m||(v[t]=l))}else t&&(v[t]=e)},t=n=p=function(t,n,e,o,i){if("string"==typeof t)return d[t]?d[t](n):c(g(t,n).f);if(!t.splice){if(m=t,m.deps&&p(m.deps,m.callback),!n)return;n.splice?(t=n,n=e,e=null):t=r}return n=n||function(){},"function"==typeof e&&(e=o,o=i),o?h(r,t,n,e):setTimeout(function(){h(r,t,n,e)},4),p},p.config=function(t){return p(t)},t._defined=v,e=function(t,n,e){n.splice||(e=n,n=[]),o(v,t)||o(y,t)||(y[t]=[t,n,e])},e.amd={jQuery:!0}}(),e("../bower_components/almond/almond",function(){}),e("domReady",[],function(){function t(t){var n;for(n=0;n<t.length;n+=1)t[n](c)}function n(){var n=f;s&&n.length&&(f=[],t(n))}function e(){s||(s=!0,u&&clearInterval(u),n())}function r(t){return s?t(c):f.push(t),r}var o,i,u,a="undefined"!=typeof window&&window.document,s=!a,c=a?document:null,f=[];if(a){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1);else if(window.attachEvent){window.attachEvent("onload",e),i=document.createElement("div");try{o=null===window.frameElement}catch(l){}i.doScroll&&o&&window.external&&(u=setInterval(function(){try{i.doScroll(),e()}catch(t){}},30))}"complete"===document.readyState&&e()}return r.version="2.0.1",r.load=function(t,n,e,o){o.isBuild?e(null):r(e)},r}),function(t){t("when/lib/timer",["require"],function(t){var n,e,r,o;n=t;try{e=n("vertx"),r=function(t,n){return e.setTimer(n,t)},o=e.cancelTimer}catch(i){r=function(t,n){return setTimeout(t,n)},o=function(t){return clearTimeout(t)}}return{set:r,clear:o}})}("function"==typeof e&&e.amd?e:function(t){module.exports=t(n)}),function(t){t("when/lib/TimeoutError",[],function(){function t(n){Error.call(this),this.message=n,this.name=t.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t})}("function"==typeof e&&e.amd?e:function(t){module.exports=t()}),function(t){t("when/lib/decorators/timed",["require","../timer","../TimeoutError"],function(t){function n(t,n,r,o){return e.set(function(){t(r,o,n)},n)}var e=t("../timer"),r=t("../TimeoutError");return function(t){function o(t,e,r){n(i,t,e,r)}function i(t,n){n.resolve(t)}function u(t,n,e){var o="undefined"==typeof t?new r("timed out after "+e+"ms"):t;n.reject(o)}return t.prototype.delay=function(t){var n=this._beget();return this._handler.fold(o,t,void 0,n._handler),n},t.prototype.timeout=function(t,r){var o=this._beget(),i=o._handler,a=n(u,t,r,o._handler);return this._handler.visit(i,function(t){e.clear(a),this.resolve(t)},function(t){e.clear(a),this.reject(t)},i.notify),o},t}})}("function"==typeof e&&e.amd?e:function(t){module.exports=t(n)}),function(t){t("when/lib/decorators/array",[],function(){return function(t){function n(n){return new t(function(t,e){function o(t){i.push(t),0===--u&&e(i)}var i=[],u=r(n,t,o);0===u&&e(new RangeError("any() input must not be empty"))})}function e(n,e){return new t(function(t,o,i){function u(n){l>0&&(--l,c.push(n),0===l&&t(c))}function a(t){s>0&&(--s,f.push(t),0===s&&o(f))}var s,c=[],f=[],l=r(n,u,a,i);e=Math.max(e,0),s=l-e+1,l=Math.min(e,l),e>l?o(new RangeError("some() input must contain at least "+e+" element(s), but had "+l)):0===l&&t(c)})}function r(t,n,e,r){return l.call(t,function(t,o){return p(o).then(n,e,r),t+1},0)}function o(t,n){function e(t,e){return n(e,t)}return"object"!=typeof t?p([]):g(f(function(t,n){return p(t).fold(e,n)},t))}function i(t,n){return g(t).then(function(t){return g(f(n,t)).then(function(n){for(var e,r=n.length,o=new Array(r),i=0,u=0;r>i;++i)e=n[i],(void 0!==e||i in n)&&n[i]&&(o[u++]=t[i]);return o.length=u,o})})}function u(t){return g(f(function(t){function n(){return t.inspect()}return t=p(t),t.then(n,n)},t))}function a(t,n){var e=c(n);return arguments.length>2?l.call(t,e,arguments[2]):l.call(t,e)}function s(t,n){var e=c(n);return arguments.length>2?h.call(t,e,arguments[2]):h.call(t,e)}function c(t){return function(n,e,r){return p(n).then(function(n){return p(e).then(function(e){return t(n,e,r)})})}}function f(t,n){for(var e,r=n.length,o=new Array(r),i=0;r>i;++i)e=n[i],(void 0!==e||i in n)&&(o[i]=t(n[i],i));return o}var l=Array.prototype.reduce,h=Array.prototype.reduceRight,p=t.resolve,g=t.all;return t.any=n,t.some=e,t.settle=u,t.map=o,t.filter=i,t.reduce=a,t.reduceRight=s,t.prototype.spread=function(t){return this.then(g).then(function(n){return t.apply(void 0,n)})},t}})}("function"==typeof e&&e.amd?e:function(t){module.exports=t()}),function(t){t("when/lib/decorators/flow",[],function(){function t(){throw new TypeError("catch predicate must be a function")}function n(t,n){return e(n)?t instanceof n:n(t)}function e(t){return t===Error||null!=t&&t.prototype instanceof Error}function r(t){return function(){return t.call(this)}}return function(e){function o(t,e){return function(r){return n(r,e)?t.call(this,r):i(r)}}var i=e.reject,u=e.prototype["catch"];return e.prototype.done=function(t,n){this._handler.visit(this._handler.receiver,t,n)},e.prototype["catch"]=e.prototype.otherwise=function(n){return 1===arguments.length?u.call(this,n):"function"!=typeof n?this.ensure(t):u.call(this,o(arguments[1],n))},e.prototype["finally"]=e.prototype.ensure=function(t){if("function"!=typeof t)return this;var n=r(t);return this.then(n,n)["yield"](this)},e.prototype["else"]=e.prototype.orElse=function(t){return this.then(void 0,function(){return t})},e.prototype["yield"]=function(t){return this.then(function(){return t})},e.prototype.tap=function(t){return this.then(t)["yield"](this)},e}})}("function"==typeof e&&e.amd?e:function(t){module.exports=t()}),function(t){t("when/lib/decorators/fold",[],function(){return function(t){return t.prototype.fold=function(n,e){var r=this._beget();return this._handler.fold(function(e,r,o){t._handler(e).fold(function(t,e,r){r.resolve(n.call(this,e,t))},r,this,o)},e,r._handler.receiver,r._handler),r},t}})}("function"==typeof e&&e.amd?e:function(t){module.exports=t()}),function(t){t("when/lib/decorators/inspect",[],function(){return function(t){function n(t){var n=t.state();return 0===n?{state:"pending"}:n>0?{state:"fulfilled",value:t.value}:{state:"rejected",reason:t.value}}return t.prototype.inspect=function(){return n(t._handler(this))},t}})}("function"==typeof e&&e.amd?e:function(t){module.exports=t()}),function(t){t("when/lib/decorators/iterate",[],function(){return function(t){function n(t,n,r,o){return e(function(n){return[n,t(n)]},n,r,o)}function e(t,n,o,i){function u(i,u){return r(o(i)).then(function(){return e(t,n,o,u)})}return r(i).then(function(e){return r(n(e)).then(function(n){return n?e:r(t(e)).spread(u)})})}var r=t.resolve;return t.iterate=n,t.unfold=e,t}})}("function"==typeof e&&e.amd?e:function(t){module.exports=t()}),function(t){t("when/lib/decorators/progress",[],function(){return function(t){return t.prototype.progress=function(t){return this.then(void 0,void 0,t)},t}})}("function"==typeof e&&e.amd?e:function(t){module.exports=t()}),function(t){t("when/lib/decorators/with",[],function(){return function(t){return t.prototype["with"]=t.prototype.withThis=function(t){var n=this._beget(),e=n._handler;return e.receiver=t,this._handler.chain(e,t),n},t}})}("function"==typeof e&&e.amd?e:function(t){module.exports=t()}),function(t){t("when/lib/decorators/unhandledRejection",["require","../timer"],function(t){function n(t){var n="object"==typeof t&&t.stack?t.stack:e(t);return t instanceof Error?n:n+" (WARNING: non-Error used)"}function e(t){var n=String(t);return"[object Object]"===n&&"undefined"!=typeof JSON&&(n=r(t,n)),n}function r(t,n){try{return JSON.stringify(t)}catch(t){return n}}function o(t){throw t}function i(){}var u=t("../timer");return function(t){function r(t){t.handled||(p.push(t),f("Potentially unhandled rejection ["+t.id+"] "+n(t.value)))}function a(t){var n=p.indexOf(t);n>=0&&(p.splice(n,1),l("Handled previous rejection ["+t.id+"] "+e(t.value)))}function s(t,n){h.push(t,n),g||(g=!0,g=u.set(c,0))}function c(){for(g=!1;h.length>0;)h.shift()(h.shift())}var f=i,l=i;"undefined"!=typeof console&&(f="undefined"!=typeof console.error?function(t){console.error(t)}:function(t){console.log(t)},l="undefined"!=typeof console.info?function(t){console.info(t)}:function(t){console.log(t)}),t.onPotentiallyUnhandledRejection=function(t){s(r,t)},t.onPotentiallyUnhandledRejectionHandled=function(t){s(a,t)},t.onFatalRejection=function(t){s(o,t.value)};var h=[],p=[],g=!1;return t}})}("function"==typeof e&&e.amd?e:function(t){module.exports=t(n)}),function(t){t("when/lib/makePromise",[],function(){return function(t){function n(t,n){this._handler=t===l?n:e(t)}function e(t){function n(t){o.resolve(t)}function e(t){o.reject(t)}function r(t){o.notify(t)}var o=new p;try{t(n,e,r)}catch(i){e(i)}return o}function r(t){return k(t)?t:new n(l,new d(c(t)))}function o(t){return new n(l,new d(new m(t)))}function i(){return F}function u(){return new n(l,new p)}function a(t){function e(t,n,e){this[t]=n,0===--s&&e.become(new y(this))}var r,o,i,u,a=new p,s=t.length>>>0,c=new Array(s);for(r=0;r<t.length;++r)if(i=t[r],void 0!==i||r in t)if(S(i))if(o=k(i)?i._handler.join():f(i),u=o.state(),0===u)o.fold(e,r,c,a);else{if(!(u>0)){a.become(o);break}c[r]=o.value,--s}else c[r]=i,--s;else--s;return 0===s&&a.become(new y(c)),new n(l,a)}function s(t){if(Object(t)===t&&0===t.length)return i();var e,r,o=new p;for(e=0;e<t.length;++e)r=t[e],void 0!==r&&e in t&&c(r).visit(o,o.resolve,o.reject);return new n(l,o)}function c(t){return k(t)?t._handler.join():S(t)?f(t):new y(t)}function f(t){try{var n=t.then;return"function"==typeof n?new v(n,t):new y(t)}catch(e){return new m(e)}}function l(){}function h(){}function p(t,e){n.createContext(this,e),this.consumers=void 0,this.receiver=t,this.handler=void 0,this.resolved=!1}function g(t){this.handler=t}function d(t){g.call(this,t)}function v(t,n){p.call(this),O.enqueue(new j(t,n,this))}function y(t){n.createContext(this),this.value=t}function m(t){n.createContext(this),this.id=++I,this.value=t,this.handled=!1,this.reported=!1,this._report()}function _(t,n){this.rejection=t,this.context=n}function x(t){this.rejection=t}function w(){return new m(new TypeError("Promise cycle"))}function b(t,n){this.continuation=t,this.handler=n}function M(t,n){this.handler=n,this.value=t}function j(t,n,e){this._then=t,this.thenable=n,this.resolver=e}function E(t,n,e,r,o){try{t.call(n,e,r,o)}catch(i){r(i)}}function k(t){return t instanceof n}function S(t){return("object"==typeof t||"function"==typeof t)&&null!==t}function N(t,e,r,o){return"function"!=typeof t?o.become(e):(n.enterContext(e),q(t,e.value,r,o),void n.exitContext())}function A(t,e,r,o,i){return"function"!=typeof t?i.become(r):(n.enterContext(r),C(t,e,r.value,o,i),void n.exitContext())}function T(t,e,r,o,i){return"function"!=typeof t?i.notify(e):(n.enterContext(r),z(t,e,o,i),void n.exitContext())}function q(t,n,e,r){try{r.become(c(t.call(e,n)))}catch(o){r.become(new m(o))}}function C(t,n,e,r,o){try{t.call(r,n,e,o)}catch(i){o.become(new m(i))}}function z(t,n,e,r){try{r.notify(t.call(e,n))}catch(o){r.notify(o)}}function L(t,n){n.prototype=P(t.prototype),n.prototype.constructor=n}function R(){}var O=t.scheduler,P=Object.create||function(t){function n(){}return n.prototype=t,new n};n.resolve=r,n.reject=o,n.never=i,n._defer=u,n._handler=c,n.prototype.then=function(t,e){var r=this._handler;if("function"!=typeof t&&r.join().state()>0)return new n(l,r);var o=this._beget(),i=o._handler;return r.chain(i,r.receiver,t,e,arguments.length>2?arguments[2]:void 0),o},n.prototype["catch"]=function(t){return this.then(void 0,t)},n.prototype._beget=function(){var t=this._handler,n=new p(t.receiver,t.join().context);return new this.constructor(l,n)},n.all=a,n.race=s,l.prototype.when=l.prototype.become=l.prototype.notify=l.prototype.fail=l.prototype._unreport=l.prototype._report=R,l.prototype._state=0,l.prototype.state=function(){return this._state},l.prototype.join=function(){for(var t=this;void 0!==t.handler;)t=t.handler;return t},l.prototype.chain=function(t,n,e,r,o){this.when({resolver:t,receiver:n,fulfilled:e,rejected:r,progress:o})},l.prototype.visit=function(t,n,e,r){this.chain(D,t,n,e,r)},l.prototype.fold=function(t,n,e,r){this.visit(r,function(r){t.call(e,n,r,this)},r.reject,r.notify)},L(l,h),h.prototype.become=function(t){t.fail()};var D=new h;L(l,p),p.prototype._state=0,p.prototype.resolve=function(t){this.become(c(t))},p.prototype.reject=function(t){this.resolved||this.become(new m(t))},p.prototype.join=function(){if(!this.resolved)return this;for(var t=this;void 0!==t.handler;)if(t=t.handler,t===this)return this.handler=w();return t},p.prototype.run=function(){var t=this.consumers,n=this.join();this.consumers=void 0;for(var e=0;e<t.length;++e)n.when(t[e])},p.prototype.become=function(t){this.resolved||(this.resolved=!0,this.handler=t,void 0!==this.consumers&&O.enqueue(this),void 0!==this.context&&t._report(this.context))},p.prototype.when=function(t){this.resolved?O.enqueue(new b(t,this.handler)):void 0===this.consumers?this.consumers=[t]:this.consumers.push(t)},p.prototype.notify=function(t){this.resolved||O.enqueue(new M(t,this))},p.prototype.fail=function(t){var n="undefined"==typeof t?this.context:t;this.resolved&&this.handler.join().fail(n)},p.prototype._report=function(t){this.resolved&&this.handler.join()._report(t)},p.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},L(l,g),g.prototype._report=function(t){this.join()._report(t)},g.prototype._unreport=function(){this.join()._unreport()},L(g,d),d.prototype.when=function(t){O.enqueue(new b(t,this))},L(p,v),L(l,y),y.prototype._state=1,y.prototype.fold=function(t,n,e,r){A(t,n,this,e,r)},y.prototype.when=function(t){N(t.fulfilled,this,t.receiver,t.resolver)};var I=0;L(l,m),m.prototype._state=-1,m.prototype.fold=function(t,n,e,r){r.become(this)},m.prototype.when=function(t){"function"==typeof t.rejected&&this._unreport(),N(t.rejected,this,t.receiver,t.resolver)},m.prototype._report=function(t){O.afterQueue(new _(this,t))},m.prototype._unreport=function(){this.handled=!0,O.afterQueue(new x(this))},m.prototype.fail=function(t){n.onFatalRejection(this,void 0===t?this.context:t)},_.prototype.run=function(){this.rejection.handled||(this.rejection.reported=!0,n.onPotentiallyUnhandledRejection(this.rejection,this.context))},x.prototype.run=function(){this.rejection.reported&&n.onPotentiallyUnhandledRejectionHandled(this.rejection)},n.createContext=n.enterContext=n.exitContext=n.onPotentiallyUnhandledRejection=n.onPotentiallyUnhandledRejectionHandled=n.onFatalRejection=R;var U=new l,F=new n(l,U);return b.prototype.run=function(){this.handler.join().when(this.continuation)},M.prototype.run=function(){var t=this.handler.consumers;if(void 0!==t)for(var n,e=0;e<t.length;++e)n=t[e],T(n.progress,this.value,this.handler,n.receiver,n.resolver)},j.prototype.run=function(){function t(t){r.resolve(t)}function n(t){r.reject(t)}function e(t){r.notify(t)}var r=this.resolver;E(this._then,this.thenable,t,n,e)},n}})}("function"==typeof e&&e.amd?e:function(t){module.exports=t()}),function(t){t("when/lib/Queue",[],function(){function t(t){this.head=this.tail=this.length=0,this.buffer=new Array(1<<t)}return t.prototype.push=function(t){return this.length===this.buffer.length&&this._ensureCapacity(2*this.length),this.buffer[this.tail]=t,this.tail=this.tail+1&this.buffer.length-1,++this.length,this.length},t.prototype.shift=function(){var t=this.buffer[this.head];return this.buffer[this.head]=void 0,this.head=this.head+1&this.buffer.length-1,--this.length,t},t.prototype._ensureCapacity=function(t){var n,e=this.head,r=this.buffer,o=new Array(t),i=0;if(0===e)for(n=this.length;n>i;++i)o[i]=r[i];else{for(t=r.length,n=this.tail;t>e;++i,++e)o[i]=r[e];for(e=0;n>e;++i,++e)o[i]=r[e]}this.buffer=o,this.head=0,this.tail=this.length},t})}("function"==typeof e&&e.amd?e:function(t){module.exports=t()}),function(t){t("when/lib/Scheduler",["require","./Queue"],function(t){function n(t){this._async=t,this._queue=new r(15),this._afterQueue=new r(5),this._running=!1;var n=this;this.drain=function(){n._drain()}}function e(t){for(;t.length>0;)t.shift().run()}var r=t("./Queue");return n.prototype.enqueue=function(t){this._add(this._queue,t)},n.prototype.afterQueue=function(t){this._add(this._afterQueue,t)},n.prototype._drain=function(){e(this._queue),this._running=!1,e(this._afterQueue)},n.prototype._add=function(t,n){t.push(n),this._running||(this._running=!0,this._async(this.drain))},n})}("function"==typeof e&&e.amd?e:function(t){module.exports=t(n)}),function(t){t("when/lib/async",["require"],function(t){var n,e;return n="undefined"!=typeof process&&null!==process&&"function"==typeof process.nextTick?function(t){process.nextTick(t)}:(e="function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver)?function(t,n){function e(){var t=r;r=void 0,t()}var r,o=t.createElement("div"),i=new n(e);return i.observe(o,{attributes:!0}),function(t){r=t,o.setAttribute("class","x")}}(document,e):function(t){try{return t("vertx").runOnLoop||t("vertx").runOnContext}catch(n){}var e=setTimeout;return function(t){e(t,0)}}(t)})}("function"==typeof e&&e.amd?e:function(t){module.exports=t(n)}),function(t){t("when/lib/Promise",["require","./makePromise","./Scheduler","./async"],function(t){var n=t("./makePromise"),e=t("./Scheduler"),r=t("./async");return n({scheduler:new e(r)})})}("function"==typeof e&&e.amd?e:function(t){module.exports=t(n)}),function(t){t("when/when",["require","./lib/decorators/timed","./lib/decorators/array","./lib/decorators/flow","./lib/decorators/fold","./lib/decorators/inspect","./lib/decorators/iterate","./lib/decorators/progress","./lib/decorators/with","./lib/decorators/unhandledRejection","./lib/TimeoutError","./lib/Promise"],function(t){function n(t,n,e){var r=k.resolve(t);return arguments.length<2?r:arguments.length>3?r.then(n,e,arguments[3]):r.then(n,e)}function e(t){return new k(t)}function r(t){return function(){return i(t,this,S.call(arguments))}}function o(t){return i(t,this,S.call(arguments,1))}function i(t,n,e){return k.all(e).then(function(e){return t.apply(n,e)})}function u(){return new a}function a(){function t(t){r._handler.resolve(t)}function n(t){r._handler.reject(t)}function e(t){r._handler.notify(t)}var r=k._defer();this.promise=r,this.resolve=t,this.reject=n,this.notify=e,this.resolver={resolve:t,reject:n,notify:e}}function s(t){return t&&"function"==typeof t.then}function c(){return k.all(arguments)}function f(t){return n(t,k.all)}function l(t){return n(t,k.settle)}function h(t,e){return n(t,function(t){return k.map(t,e)})}function p(t,e){return n(t,function(t){return k.filter(t,e)})}function g(t){var e=S.call(arguments,1);return n(t,function(t){return e.unshift(t),k.reduce.apply(k,e)})}function d(t){var e=S.call(arguments,1);return n(t,function(t){return e.unshift(t),k.reduceRight.apply(k,e)})}var v=t("./lib/decorators/timed"),y=t("./lib/decorators/array"),m=t("./lib/decorators/flow"),_=t("./lib/decorators/fold"),x=t("./lib/decorators/inspect"),w=t("./lib/decorators/iterate"),b=t("./lib/decorators/progress"),M=t("./lib/decorators/with"),j=t("./lib/decorators/unhandledRejection"),E=t("./lib/TimeoutError"),k=[y,m,_,w,b,x,M,v,j].reduce(function(t,n){return n(t)},t("./lib/Promise")),S=Array.prototype.slice;return n.promise=e,n.resolve=k.resolve,n.reject=k.reject,n.lift=r,n["try"]=o,n.attempt=o,n.iterate=k.iterate,n.unfold=k.unfold,n.join=c,n.all=f,n.settle=l,n.any=r(k.any),n.some=r(k.some),n.race=r(k.race),n.map=h,n.filter=p,n.reduce=g,n.reduceRight=d,n.isPromiseLike=s,n.Promise=k,n.defer=u,n.TimeoutError=E,n})}("function"==typeof e&&e.amd?e:function(t){module.exports=t(n)}),e("when",["when/when"],function(t){return t}),!function(){function t(t,n){return n>t?-1:t>n?1:t>=n?0:0/0}function n(t){return null!=t&&!isNaN(t)}function r(t){return{left:function(n,e,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=n.length);o>r;){var i=r+o>>>1;t(n[i],e)<0?r=i+1:o=i}return r},right:function(n,e,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=n.length);o>r;){var i=r+o>>>1;t(n[i],e)>0?o=i:r=i+1}return r}}}function o(t){return t.length}function i(t){for(var n=1;t*n%1;)n*=10;return n}function u(t,n){try{for(var e in n)Object.defineProperty(t.prototype,e,{value:n[e],enumerable:!1})}catch(r){t.prototype=n}}function a(){}function s(t){return aa+t in this}function c(t){return t=aa+t,t in this&&delete this[t]}function f(){var t=[];return this.forEach(function(n){t.push(n)}),t}function l(){var t=0;for(var n in this)n.charCodeAt(0)===sa&&++t;return t}function h(){for(var t in this)if(t.charCodeAt(0)===sa)return!1;return!0}function p(){}function g(t,n,e){return function(){var r=e.apply(n,arguments);return r===n?t:r}}function d(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.substring(1);for(var e=0,r=ca.length;r>e;++e){var o=ca[e]+n;if(o in t)return o}}function v(){}function y(){}function m(t){function n(){for(var n,r=e,o=-1,i=r.length;++o<i;)(n=r[o].on)&&n.apply(this,arguments);return t}var e=[],r=new a;return n.on=function(n,o){var i,u=r.get(n);return arguments.length<2?u&&u.on:(u&&(u.on=null,e=e.slice(0,i=e.indexOf(u)).concat(e.slice(i+1)),r.remove(n)),o&&e.push(r.set(n,{on:o})),t)},n}function _(){Xu.event.preventDefault()}function x(){for(var t,n=Xu.event;t=n.sourceEvent;)n=t;return n}function w(t){for(var n=new y,e=0,r=arguments.length;++e<r;)n[arguments[e]]=m(n);return n.of=function(e,r){return function(o){try{var i=o.sourceEvent=Xu.event;o.target=t,Xu.event=o,n[o.type].apply(e,r)}finally{Xu.event=i}}},n}function b(t){return la(t,va),t}function M(t){return"function"==typeof t?t:function(){return ha(t,this)}}function j(t){return"function"==typeof t?t:function(){return pa(t,this)}}function E(t,n){function e(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function o(){this.setAttribute(t,n)}function i(){this.setAttributeNS(t.space,t.local,n)}function u(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}function a(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}return t=Xu.ns.qualify(t),null==n?t.local?r:e:"function"==typeof n?t.local?a:u:t.local?i:o}function k(t){return t.trim().replace(/\s+/g," ")}function S(t){return new RegExp("(?:^|\\s+)"+Xu.requote(t)+"(?:\\s+|$)","g")}function N(t){return(t+"").trim().split(/^|\s+/)}function A(t,n){function e(){for(var e=-1;++e<o;)t[e](this,n)}function r(){for(var e=-1,r=n.apply(this,arguments);++e<o;)t[e](this,r)}t=N(t).map(T);var o=t.length;return"function"==typeof n?r:e}function T(t){var n=S(t);return function(e,r){if(o=e.classList)return r?o.add(t):o.remove(t);var o=e.getAttribute("class")||"";r?(n.lastIndex=0,n.test(o)||e.setAttribute("class",k(o+" "+t))):e.setAttribute("class",k(o.replace(n," ")))}}function q(t,n,e){function r(){this.style.removeProperty(t)}function o(){this.style.setProperty(t,n,e)}function i(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}return null==n?r:"function"==typeof n?i:o}function C(t,n){function e(){delete this[t]}function r(){this[t]=n}function o(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}return null==n?e:"function"==typeof n?o:r}function z(t){return"function"==typeof t?t:(t=Xu.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function L(t){return{__data__:t}}function R(t){return function(){return da(this,t)}}function O(n){return arguments.length||(n=t),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function P(t,n){for(var e=0,r=t.length;r>e;e++)for(var o,i=t[e],u=0,a=i.length;a>u;u++)(o=i[u])&&n(o,u,e);return t}function D(t){return la(t,ma),t}function I(t){var n,e;return function(r,o,i){var u,a=t[i].update,s=a.length;for(i!=e&&(e=i,n=0),o>=n&&(n=o+1);!(u=a[n])&&++n<s;);return u}}function U(){var t=this.__transition__;t&&++t.active}function F(t,n,e){function r(){var n=this[u];n&&(this.removeEventListener(t,n,n.$),delete this[u])}function o(){var o=s(n,Ku(arguments));r.call(this),this.addEventListener(t,this[u]=o,o.$=e),o._=n}function i(){var n,e=new RegExp("^__on([^.]+)"+Xu.requote(t)+"$");for(var r in this)if(n=r.match(e)){var o=this[r];this.removeEventListener(n[1],o,o.$),delete this[r]}}var u="__on"+t,a=t.indexOf("."),s=H;a>0&&(t=t.substring(0,a));var c=xa.get(t);return c&&(t=c,s=J),a?n?o:r:n?v:i}function H(t,n){return function(e){var r=Xu.event;Xu.event=e,n[0]=this.__data__;try{t.apply(this,n)}finally{Xu.event=r}}}function J(t,n){var e=H(t,n);return function(t){var n=this,r=t.relatedTarget;r&&(r===n||8&r.compareDocumentPosition(n))||e.call(n,t)}}function B(){var t=".dragsuppress-"+ ++ba,n="click"+t,e=Xu.select($u).on("touchmove"+t,_).on("dragstart"+t,_).on("selectstart"+t,_);if(wa){var r=Zu.style,o=r[wa];r[wa]="none"}return function(i){function u(){e.on(n,null)}e.on(t,null),wa&&(r[wa]=o),i&&(e.on(n,function(){_(),u()},!0),setTimeout(u,0))}}function G(t,n){n.changedTouches&&(n=n.changedTouches[0]);var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();if(0>Ma&&($u.scrollX||$u.scrollY)){e=Xu.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=e[0][0].getScreenCTM();Ma=!(o.f||o.e),e.remove()}return Ma?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function X(){return Xu.event.changedTouches[0].identifier}function Y(){return Xu.event.target}function K(){return $u}function V(t){return t>0?1:0>t?-1:0}function Z(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function $(t){return t>1?0:-1>t?ja:Math.acos(t)}function Q(t){return t>1?ka:-1>t?-ka:Math.asin(t)}function W(t){return((t=Math.exp(t))-1/t)/2}function tn(t){return((t=Math.exp(t))+1/t)/2}function nn(t){return((t=Math.exp(2*t))-1)/(t+1)}function en(t){return(t=Math.sin(t/2))*t}function rn(){}function on(t,n,e){return this instanceof on?(this.h=+t,this.s=+n,void(this.l=+e)):arguments.length<2?t instanceof on?new on(t.h,t.s,t.l):_n(""+t,xn,on):new on(t,n,e)}function un(t,n,e){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?i+(u-i)*t/60:180>t?u:240>t?i+(u-i)*(240-t)/60:i}function o(t){return Math.round(255*r(t))}var i,u;return t=isNaN(t)?0:(t%=360)<0?t+360:t,n=isNaN(n)?0:0>n?0:n>1?1:n,e=0>e?0:e>1?1:e,u=.5>=e?e*(1+n):e+n-e*n,i=2*e-u,new dn(o(t+120),o(t),o(t-120))}function an(t,n,e){return this instanceof an?(this.h=+t,this.c=+n,void(this.l=+e)):arguments.length<2?t instanceof an?new an(t.h,t.c,t.l):t instanceof cn?ln(t.l,t.a,t.b):ln((t=wn((t=Xu.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new an(t,n,e)}function sn(t,n,e){return isNaN(t)&&(t=0),isNaN(n)&&(n=0),new cn(e,Math.cos(t*=Aa)*n,Math.sin(t)*n)}function cn(t,n,e){return this instanceof cn?(this.l=+t,this.a=+n,void(this.b=+e)):arguments.length<2?t instanceof cn?new cn(t.l,t.a,t.b):t instanceof an?sn(t.l,t.c,t.h):wn((t=dn(t)).r,t.g,t.b):new cn(t,n,e)}function fn(t,n,e){var r=(t+16)/116,o=r+n/500,i=r-e/200;return o=hn(o)*Ua,r=hn(r)*Fa,i=hn(i)*Ha,new dn(gn(3.2404542*o-1.5371385*r-.4985314*i),gn(-.969266*o+1.8760108*r+.041556*i),gn(.0556434*o-.2040259*r+1.0572252*i))}function ln(t,n,e){return t>0?new an(Math.atan2(e,n)*Ta,Math.sqrt(n*n+e*e),t):new an(0/0,0/0,t)}function hn(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function pn(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function gn(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function dn(t,n,e){return this instanceof dn?(this.r=~~t,this.g=~~n,void(this.b=~~e)):arguments.length<2?t instanceof dn?new dn(t.r,t.g,t.b):_n(""+t,dn,un):new dn(t,n,e)}function vn(t){return new dn(t>>16,t>>8&255,255&t)}function yn(t){return vn(t)+""}function mn(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function _n(t,n,e){var r,o,i,u=0,a=0,s=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(o=r[2].split(","),r[1]){case"hsl":return e(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return n(Mn(o[0]),Mn(o[1]),Mn(o[2]))}return(i=Ga.get(t))?n(i.r,i.g,i.b):(null==t||"#"!==t.charAt(0)||isNaN(i=parseInt(t.substring(1),16))||(4===t.length?(u=(3840&i)>>4,u=u>>4|u,a=240&i,a=a>>4|a,s=15&i,s=s<<4|s):7===t.length&&(u=(16711680&i)>>16,a=(65280&i)>>8,s=255&i)),n(u,a,s))}function xn(t,n,e){var r,o,i=Math.min(t/=255,n/=255,e/=255),u=Math.max(t,n,e),a=u-i,s=(u+i)/2;return a?(o=.5>s?a/(u+i):a/(2-u-i),r=t==u?(n-e)/a+(e>n?6:0):n==u?(e-t)/a+2:(t-n)/a+4,r*=60):(r=0/0,o=s>0&&1>s?0:r),new on(r,o,s)}function wn(t,n,e){t=bn(t),n=bn(n),e=bn(e);var r=pn((.4124564*t+.3575761*n+.1804375*e)/Ua),o=pn((.2126729*t+.7151522*n+.072175*e)/Fa),i=pn((.0193339*t+.119192*n+.9503041*e)/Ha);return cn(116*o-16,500*(r-o),200*(o-i))}function bn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Mn(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}function jn(t){return"function"==typeof t?t:function(){return t}}function En(t){return t}function kn(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Sn(n,e,t,r)}}function Sn(t,n,e,r){function o(){var t,n=s.status;if(!n&&s.responseText||n>=200&&300>n||304===n){try{t=e.call(i,s)}catch(r){return void u.error.call(i,r)}u.load.call(i,t)}else u.error.call(i,s)}var i={},u=Xu.dispatch("beforesend","progress","load","error"),a={},s=new XMLHttpRequest,c=null;return!$u.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=o:s.onreadystatechange=function(){s.readyState>3&&o()
},s.onprogress=function(t){var n=Xu.event;Xu.event=t;try{u.progress.call(i,s)}finally{Xu.event=n}},i.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?a[t]:(null==n?delete a[t]:a[t]=n+"",i)},i.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",i):n},i.responseType=function(t){return arguments.length?(c=t,i):c},i.response=function(t){return e=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(Ku(arguments)))}}),i.send=function(e,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),s.open(e,t,!0),null==n||"accept"in a||(a.accept=n+",*/*"),s.setRequestHeader)for(var f in a)s.setRequestHeader(f,a[f]);return null!=n&&s.overrideMimeType&&s.overrideMimeType(n),null!=c&&(s.responseType=c),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),u.beforesend.call(i,s),s.send(null==r?null:r),i},i.abort=function(){return s.abort(),i},Xu.rebind(i,u,"on"),null==r?i:i.get(Nn(r))}function Nn(t){return 1===t.length?function(n,e){t(null==n?e:null)}:t}function An(){var t=Tn(),n=qn()-t;n>24?(isFinite(n)&&(clearTimeout(Va),Va=setTimeout(An,n)),Ka=0):(Ka=1,$a(An))}function Tn(){var t=Date.now();for(Za=Xa;Za;)t>=Za.t&&(Za.f=Za.c(t-Za.t)),Za=Za.n;return t}function qn(){for(var t,n=Xa,e=1/0;n;)n.f?n=t?t.n=n.n:Xa=n.n:(n.t<e&&(e=n.t),n=(t=n).n);return Ya=t,e}function Cn(t,n){return n-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function zn(t,n){var e=Math.pow(10,3*ua(8-n));return{scale:n>8?function(t){return t/e}:function(t){return t*e},symbol:t}}function Ln(t){var n=t.decimal,e=t.thousands,r=t.grouping,o=t.currency,i=r?function(t){for(var n=t.length,o=[],i=0,u=r[0];n>0&&u>0;)o.push(t.substring(n-=u,n+u)),u=r[i=(i+1)%r.length];return o.reverse().join(e)}:En;return function(t){var e=Wa.exec(t),r=e[1]||" ",u=e[2]||">",a=e[3]||"",s=e[4]||"",c=e[5],f=+e[6],l=e[7],h=e[8],p=e[9],g=1,d="",v="",y=!1;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===u)&&(c=r="0",u="=",l&&(f-=Math.floor((f-1)/4))),p){case"n":l=!0,p="g";break;case"%":g=100,v="%",p="f";break;case"p":g=100,v="%",p="r";break;case"b":case"o":case"x":case"X":"#"===s&&(d="0"+p.toLowerCase());case"c":case"d":y=!0,h=0;break;case"s":g=-1,p="r"}"$"===s&&(d=o[0],v=o[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):("e"==p||"f"==p)&&(h=Math.max(0,Math.min(20,h)))),p=ts.get(p)||Rn;var m=c&&l;return function(t){var e=v;if(y&&t%1)return"";var o=0>t||0===t&&0>1/t?(t=-t,"-"):a;if(0>g){var s=Xu.formatPrefix(t,h);t=s.scale(t),e=s.symbol+v}else t*=g;t=p(t,h);var _=t.lastIndexOf("."),x=0>_?t:t.substring(0,_),w=0>_?"":n+t.substring(_+1);!c&&l&&(x=i(x));var b=d.length+x.length+w.length+(m?0:o.length),M=f>b?new Array(b=f-b+1).join(r):"";return m&&(x=i(M+x)),o+=d,t=x+w,("<"===u?o+t+M:">"===u?M+o+t:"^"===u?M.substring(0,b>>=1)+o+t+M.substring(b):o+(m?t:M+t))+e}}}function Rn(t){return t+""}function On(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Pn(t,n,e){function r(n){var e=t(n),r=i(e,1);return r-n>n-e?e:r}function o(e){return n(e=t(new es(e-1)),1),e}function i(t,e){return n(t=new es(+t),e),t}function u(t,r,i){var u=o(t),a=[];if(i>1)for(;r>u;)e(u)%i||a.push(new Date(+u)),n(u,1);else for(;r>u;)a.push(new Date(+u)),n(u,1);return a}function a(t,n,e){try{es=On;var r=new On;return r._=t,u(r,n,e)}finally{es=Date}}t.floor=t,t.round=r,t.ceil=o,t.offset=i,t.range=u;var s=t.utc=Dn(t);return s.floor=s,s.round=Dn(r),s.ceil=Dn(o),s.offset=Dn(i),s.range=a,t}function Dn(t){return function(n,e){try{es=On;var r=new On;return r._=n,t(r,e)._}finally{es=Date}}}function In(t){function n(t){function n(n){for(var e,o,i,u=[],a=-1,s=0;++a<r;)37===t.charCodeAt(a)&&(u.push(t.substring(s,a)),null!=(o=os[e=t.charAt(++a)])&&(e=t.charAt(++a)),(i=N[e])&&(e=i(n,null==o?"e"===e?" ":"0":o)),u.push(e),s=a+1);return u.push(t.substring(s,a)),u.join("")}var r=t.length;return n.parse=function(n){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},o=e(r,t,n,0);if(o!=n.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&es!==On,u=new(i?On:es);return"j"in r?u.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(u.setFullYear(r.y,0,1),u.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(u.getDay()+5)%7:r.w+7*r.U-(u.getDay()+6)%7)):u.setFullYear(r.y,r.m,r.d),u.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),i?u._:u},n.toString=function(){return t},n}function e(t,n,e,r){for(var o,i,u,a=0,s=n.length,c=e.length;s>a;){if(r>=c)return-1;if(o=n.charCodeAt(a++),37===o){if(u=n.charAt(a++),i=A[u in os?n.charAt(a++):u],!i||(r=i(t,e,r))<0)return-1}else if(o!=e.charCodeAt(r++))return-1}return r}function r(t,n,e){b.lastIndex=0;var r=b.exec(n.substring(e));return r?(t.w=M.get(r[0].toLowerCase()),e+r[0].length):-1}function o(t,n,e){x.lastIndex=0;var r=x.exec(n.substring(e));return r?(t.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function i(t,n,e){k.lastIndex=0;var r=k.exec(n.substring(e));return r?(t.m=S.get(r[0].toLowerCase()),e+r[0].length):-1}function u(t,n,e){j.lastIndex=0;var r=j.exec(n.substring(e));return r?(t.m=E.get(r[0].toLowerCase()),e+r[0].length):-1}function a(t,n,r){return e(t,N.c.toString(),n,r)}function s(t,n,r){return e(t,N.x.toString(),n,r)}function c(t,n,r){return e(t,N.X.toString(),n,r)}function f(t,n,e){var r=_.get(n.substring(e,e+=2).toLowerCase());return null==r?-1:(t.p=r,e)}var l=t.dateTime,h=t.date,p=t.time,g=t.periods,d=t.days,v=t.shortDays,y=t.months,m=t.shortMonths;n.utc=function(t){function e(t){try{es=On;var n=new es;return n._=t,r(n)}finally{es=Date}}var r=n(t);return e.parse=function(t){try{es=On;var n=r.parse(t);return n&&n._}finally{es=Date}},e.toString=r.toString,e},n.multi=n.utc.multi=ie;var _=Xu.map(),x=Fn(d),w=Hn(d),b=Fn(v),M=Hn(v),j=Fn(y),E=Hn(y),k=Fn(m),S=Hn(m);g.forEach(function(t,n){_.set(t.toLowerCase(),n)});var N={a:function(t){return v[t.getDay()]},A:function(t){return d[t.getDay()]},b:function(t){return m[t.getMonth()]},B:function(t){return y[t.getMonth()]},c:n(l),d:function(t,n){return Un(t.getDate(),n,2)},e:function(t,n){return Un(t.getDate(),n,2)},H:function(t,n){return Un(t.getHours(),n,2)},I:function(t,n){return Un(t.getHours()%12||12,n,2)},j:function(t,n){return Un(1+ns.dayOfYear(t),n,3)},L:function(t,n){return Un(t.getMilliseconds(),n,3)},m:function(t,n){return Un(t.getMonth()+1,n,2)},M:function(t,n){return Un(t.getMinutes(),n,2)},p:function(t){return g[+(t.getHours()>=12)]},S:function(t,n){return Un(t.getSeconds(),n,2)},U:function(t,n){return Un(ns.sundayOfYear(t),n,2)},w:function(t){return t.getDay()},W:function(t,n){return Un(ns.mondayOfYear(t),n,2)},x:n(h),X:n(p),y:function(t,n){return Un(t.getFullYear()%100,n,2)},Y:function(t,n){return Un(t.getFullYear()%1e4,n,4)},Z:re,"%":function(){return"%"}},A={a:r,A:o,b:i,B:u,c:a,d:$n,e:$n,H:Wn,I:Wn,j:Qn,L:ee,m:Zn,M:te,p:f,S:ne,U:Bn,w:Jn,W:Gn,x:s,X:c,y:Yn,Y:Xn,Z:Kn,"%":oe};return n}function Un(t,n,e){var r=0>t?"-":"",o=(r?-t:t)+"",i=o.length;return r+(e>i?new Array(e-i+1).join(n)+o:o)}function Fn(t){return new RegExp("^(?:"+t.map(Xu.requote).join("|")+")","i")}function Hn(t){for(var n=new a,e=-1,r=t.length;++e<r;)n.set(t[e].toLowerCase(),e);return n}function Jn(t,n,e){is.lastIndex=0;var r=is.exec(n.substring(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Bn(t,n,e){is.lastIndex=0;var r=is.exec(n.substring(e));return r?(t.U=+r[0],e+r[0].length):-1}function Gn(t,n,e){is.lastIndex=0;var r=is.exec(n.substring(e));return r?(t.W=+r[0],e+r[0].length):-1}function Xn(t,n,e){is.lastIndex=0;var r=is.exec(n.substring(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Yn(t,n,e){is.lastIndex=0;var r=is.exec(n.substring(e,e+2));return r?(t.y=Vn(+r[0]),e+r[0].length):-1}function Kn(t,n,e){return/^[+-]\d{4}$/.test(n=n.substring(e,e+5))?(t.Z=-n,e+5):-1}function Vn(t){return t+(t>68?1900:2e3)}function Zn(t,n,e){is.lastIndex=0;var r=is.exec(n.substring(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function $n(t,n,e){is.lastIndex=0;var r=is.exec(n.substring(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Qn(t,n,e){is.lastIndex=0;var r=is.exec(n.substring(e,e+3));return r?(t.j=+r[0],e+r[0].length):-1}function Wn(t,n,e){is.lastIndex=0;var r=is.exec(n.substring(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function te(t,n,e){is.lastIndex=0;var r=is.exec(n.substring(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function ne(t,n,e){is.lastIndex=0;var r=is.exec(n.substring(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function ee(t,n,e){is.lastIndex=0;var r=is.exec(n.substring(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function re(t){var n=t.getTimezoneOffset(),e=n>0?"-":"+",r=~~(ua(n)/60),o=ua(n)%60;return e+Un(r,"0",2)+Un(o,"0",2)}function oe(t,n,e){us.lastIndex=0;var r=us.exec(n.substring(e,e+1));return r?e+r[0].length:-1}function ie(t){for(var n=t.length,e=-1;++e<n;)t[e][0]=this(t[e][0]);return function(n){for(var e=0,r=t[e];!r[1](n);)r=t[++e];return r[0](n)}}function ue(){}function ae(t,n,e){var r=e.s=t+n,o=r-t,i=r-o;e.t=t-i+(n-o)}function se(t,n){t&&fs.hasOwnProperty(t.type)&&fs[t.type](t,n)}function ce(t,n,e){var r,o=-1,i=t.length-e;for(n.lineStart();++o<i;)r=t[o],n.point(r[0],r[1],r[2]);n.lineEnd()}function fe(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)ce(t[e],n,1);n.polygonEnd()}function le(){function t(t,n){t*=Aa,n=n*Aa/2+ja/4;var e=t-r,u=e>=0?1:-1,a=u*e,s=Math.cos(n),c=Math.sin(n),f=i*c,l=o*s+f*Math.cos(a),h=f*u*Math.sin(a);hs.add(Math.atan2(h,l)),r=t,o=s,i=c}var n,e,r,o,i;ps.point=function(u,a){ps.point=t,r=(n=u)*Aa,o=Math.cos(a=(e=a)*Aa/2+ja/4),i=Math.sin(a)},ps.lineEnd=function(){t(n,e)}}function he(t){var n=t[0],e=t[1],r=Math.cos(e);return[r*Math.cos(n),r*Math.sin(n),Math.sin(e)]}function pe(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function ge(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function de(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function ve(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ye(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function me(t){return[Math.atan2(t[1],t[0]),Q(t[2])]}function _e(t,n){return ua(t[0]-n[0])<Sa&&ua(t[1]-n[1])<Sa}function xe(t,n){t*=Aa;var e=Math.cos(n*=Aa);we(e*Math.cos(t),e*Math.sin(t),Math.sin(n))}function we(t,n,e){++gs,vs+=(t-vs)/gs,ys+=(n-ys)/gs,ms+=(e-ms)/gs}function be(){function t(t,o){t*=Aa;var i=Math.cos(o*=Aa),u=i*Math.cos(t),a=i*Math.sin(t),s=Math.sin(o),c=Math.atan2(Math.sqrt((c=e*s-r*a)*c+(c=r*u-n*s)*c+(c=n*a-e*u)*c),n*u+e*a+r*s);ds+=c,_s+=c*(n+(n=u)),xs+=c*(e+(e=a)),ws+=c*(r+(r=s)),we(n,e,r)}var n,e,r;Es.point=function(o,i){o*=Aa;var u=Math.cos(i*=Aa);n=u*Math.cos(o),e=u*Math.sin(o),r=Math.sin(i),Es.point=t,we(n,e,r)}}function Me(){Es.point=xe}function je(){function t(t,n){t*=Aa;var e=Math.cos(n*=Aa),u=e*Math.cos(t),a=e*Math.sin(t),s=Math.sin(n),c=o*s-i*a,f=i*u-r*s,l=r*a-o*u,h=Math.sqrt(c*c+f*f+l*l),p=r*u+o*a+i*s,g=h&&-$(p)/h,d=Math.atan2(h,p);bs+=g*c,Ms+=g*f,js+=g*l,ds+=d,_s+=d*(r+(r=u)),xs+=d*(o+(o=a)),ws+=d*(i+(i=s)),we(r,o,i)}var n,e,r,o,i;Es.point=function(u,a){n=u,e=a,Es.point=t,u*=Aa;var s=Math.cos(a*=Aa);r=s*Math.cos(u),o=s*Math.sin(u),i=Math.sin(a),we(r,o,i)},Es.lineEnd=function(){t(n,e),Es.lineEnd=Me,Es.point=xe}}function Ee(){return!0}function ke(t,n,e,r,o){var i=[],u=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e=t[0],r=t[n];if(_e(e,r)){o.lineStart();for(var a=0;n>a;++a)o.point((e=t[a])[0],e[1]);return void o.lineEnd()}var s=new Ne(e,t,null,!0),c=new Ne(e,null,s,!1);s.o=c,i.push(s),u.push(c),s=new Ne(r,t,null,!1),c=new Ne(r,null,s,!0),s.o=c,i.push(s),u.push(c)}}),u.sort(n),Se(i),Se(u),i.length){for(var a=0,s=e,c=u.length;c>a;++a)u[a].e=s=!s;for(var f,l,h=i[0];;){for(var p=h,g=!0;p.v;)if((p=p.n)===h)return;f=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(var a=0,c=f.length;c>a;++a)o.point((l=f[a])[0],l[1]);else r(p.x,p.n.x,1,o);p=p.n}else{if(g){f=p.p.z;for(var a=f.length-1;a>=0;--a)o.point((l=f[a])[0],l[1])}else r(p.x,p.p.x,-1,o);p=p.p}p=p.o,f=p.z,g=!g}while(!p.v);o.lineEnd()}}}function Se(t){if(n=t.length){for(var n,e,r=0,o=t[0];++r<n;)o.n=e=t[r],e.p=o,o=e;o.n=e=t[0],e.p=o}}function Ne(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Ae(t,n,e,r){return function(o,i){function u(n,e){var r=o(n,e);t(n=r[0],e=r[1])&&i.point(n,e)}function a(t,n){var e=o(t,n);v.point(e[0],e[1])}function s(){m.point=a,v.lineStart()}function c(){m.point=u,v.lineEnd()}function f(t,n){d.push([t,n]);var e=o(t,n);x.point(e[0],e[1])}function l(){x.lineStart(),d=[]}function h(){f(d[0][0],d[0][1]),x.lineEnd();var t,n=x.clean(),e=_.buffer(),r=e.length;if(d.pop(),g.push(d),d=null,r)if(1&n){t=e[0];var o,r=t.length-1,u=-1;if(r>0){for(w||(i.polygonStart(),w=!0),i.lineStart();++u<r;)i.point((o=t[u])[0],o[1]);i.lineEnd()}}else r>1&&2&n&&e.push(e.pop().concat(e.shift())),p.push(e.filter(Te))}var p,g,d,v=n(i),y=o.invert(r[0],r[1]),m={point:u,lineStart:s,lineEnd:c,polygonStart:function(){m.point=f,m.lineStart=l,m.lineEnd=h,p=[],g=[]},polygonEnd:function(){m.point=u,m.lineStart=s,m.lineEnd=c,p=Xu.merge(p);var t=ze(y,g);p.length?(w||(i.polygonStart(),w=!0),ke(p,Ce,t,e,i)):t&&(w||(i.polygonStart(),w=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),w&&(i.polygonEnd(),w=!1),p=g=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}},_=qe(),x=n(_),w=!1;return m}}function Te(t){return t.length>1}function qe(){var t,n=[];return{lineStart:function(){n.push(t=[])},point:function(n,e){t.push([n,e])},lineEnd:v,buffer:function(){var e=n;return n=[],t=null,e},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function Ce(t,n){return((t=t.x)[0]<0?t[1]-ka-Sa:ka-t[1])-((n=n.x)[0]<0?n[1]-ka-Sa:ka-n[1])}function ze(t,n){var e=t[0],r=t[1],o=[Math.sin(e),-Math.cos(e),0],i=0,u=0;hs.reset();for(var a=0,s=n.length;s>a;++a){var c=n[a],f=c.length;if(f)for(var l=c[0],h=l[0],p=l[1]/2+ja/4,g=Math.sin(p),d=Math.cos(p),v=1;;){v===f&&(v=0),t=c[v];var y=t[0],m=t[1]/2+ja/4,_=Math.sin(m),x=Math.cos(m),w=y-h,b=w>=0?1:-1,M=b*w,j=M>ja,E=g*_;if(hs.add(Math.atan2(E*b*Math.sin(M),d*x+E*Math.cos(M))),i+=j?w+b*Ea:w,j^h>=e^y>=e){var k=ge(he(l),he(t));ye(k);var S=ge(o,k);ye(S);var N=(j^w>=0?-1:1)*Q(S[2]);(r>N||r===N&&(k[0]||k[1]))&&(u+=j^w>=0?1:-1)}if(!v++)break;h=y,g=_,d=x,l=t}}return(-Sa>i||Sa>i&&0>hs)^1&u}function Le(t){var n,e=0/0,r=0/0,o=0/0;return{lineStart:function(){t.lineStart(),n=1},point:function(i,u){var a=i>0?ja:-ja,s=ua(i-e);ua(s-ja)<Sa?(t.point(e,r=(r+u)/2>0?ka:-ka),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(i,r),n=0):o!==a&&s>=ja&&(ua(e-o)<Sa&&(e-=o*Sa),ua(i-a)<Sa&&(i-=a*Sa),r=Re(e,r,i,u),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=i,r=u),o=a},lineEnd:function(){t.lineEnd(),e=r=0/0},clean:function(){return 2-n}}}function Re(t,n,e,r){var o,i,u=Math.sin(t-e);return ua(u)>Sa?Math.atan((Math.sin(n)*(i=Math.cos(r))*Math.sin(e)-Math.sin(r)*(o=Math.cos(n))*Math.sin(t))/(o*i*u)):(n+r)/2}function Oe(t,n,e,r){var o;if(null==t)o=e*ka,r.point(-ja,o),r.point(0,o),r.point(ja,o),r.point(ja,0),r.point(ja,-o),r.point(0,-o),r.point(-ja,-o),r.point(-ja,0),r.point(-ja,o);else if(ua(t[0]-n[0])>Sa){var i=t[0]<n[0]?ja:-ja;o=e*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(n[0],n[1])}function Pe(t){function n(t,n){return Math.cos(t)*Math.cos(n)>i}function e(t){var e,i,s,c,f;return{lineStart:function(){c=s=!1,f=1},point:function(l,h){var p,g=[l,h],d=n(l,h),v=u?d?0:o(l,h):d?o(l+(0>l?ja:-ja),h):0;if(!e&&(c=s=d)&&t.lineStart(),d!==s&&(p=r(e,g),(_e(e,p)||_e(g,p))&&(g[0]+=Sa,g[1]+=Sa,d=n(g[0],g[1]))),d!==s)f=0,d?(t.lineStart(),p=r(g,e),t.point(p[0],p[1])):(p=r(e,g),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(a&&e&&u^d){var y;v&i||!(y=r(g,e,!0))||(f=0,u?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!d||e&&_e(e,g)||t.point(g[0],g[1]),e=g,s=d,i=v},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return f|(c&&s)<<1}}}function r(t,n,e){var r=he(t),o=he(n),u=[1,0,0],a=ge(r,o),s=pe(a,a),c=a[0],f=s-c*c;if(!f)return!e&&t;var l=i*s/f,h=-i*c/f,p=ge(u,a),g=ve(u,l),d=ve(a,h);de(g,d);var v=p,y=pe(g,v),m=pe(v,v),_=y*y-m*(pe(g,g)-1);if(!(0>_)){var x=Math.sqrt(_),w=ve(v,(-y-x)/m);if(de(w,g),w=me(w),!e)return w;var b,M=t[0],j=n[0],E=t[1],k=n[1];M>j&&(b=M,M=j,j=b);var S=j-M,N=ua(S-ja)<Sa,A=N||Sa>S;if(!N&&E>k&&(b=E,E=k,k=b),A?N?E+k>0^w[1]<(ua(w[0]-M)<Sa?E:k):E<=w[1]&&w[1]<=k:S>ja^(M<=w[0]&&w[0]<=j)){var T=ve(v,(-y+x)/m);return de(T,g),[w,me(T)]}}}function o(n,e){var r=u?t:ja-t,o=0;return-r>n?o|=1:n>r&&(o|=2),-r>e?o|=4:e>r&&(o|=8),o}var i=Math.cos(t),u=i>0,a=ua(i)>Sa,s=lr(t,6*Aa);return Ae(n,e,s,u?[0,-t]:[-ja,t-ja])}function De(t,n,e,r){return function(o){var i,u=o.a,a=o.b,s=u.x,c=u.y,f=a.x,l=a.y,h=0,p=1,g=f-s,d=l-c;if(i=t-s,g||!(i>0)){if(i/=g,0>g){if(h>i)return;p>i&&(p=i)}else if(g>0){if(i>p)return;i>h&&(h=i)}if(i=e-s,g||!(0>i)){if(i/=g,0>g){if(i>p)return;i>h&&(h=i)}else if(g>0){if(h>i)return;p>i&&(p=i)}if(i=n-c,d||!(i>0)){if(i/=d,0>d){if(h>i)return;p>i&&(p=i)}else if(d>0){if(i>p)return;i>h&&(h=i)}if(i=r-c,d||!(0>i)){if(i/=d,0>d){if(i>p)return;i>h&&(h=i)}else if(d>0){if(h>i)return;p>i&&(p=i)}return h>0&&(o.a={x:s+h*g,y:c+h*d}),1>p&&(o.b={x:s+p*g,y:c+p*d}),o}}}}}}function Ie(t,n,e,r){function o(r,o){return ua(r[0]-t)<Sa?o>0?0:3:ua(r[0]-e)<Sa?o>0?2:1:ua(r[1]-n)<Sa?o>0?1:0:o>0?3:2}function i(t,n){return u(t.x,n.x)}function u(t,n){var e=o(t,1),r=o(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){function s(t){for(var n=0,e=v.length,r=t[1],o=0;e>o;++o)for(var i,u=1,a=v[o],s=a.length,c=a[0];s>u;++u)i=a[u],c[1]<=r?i[1]>r&&Z(c,i,t)>0&&++n:i[1]<=r&&Z(c,i,t)<0&&--n,c=i;return 0!==n}function c(i,a,s,c){var f=0,l=0;if(null==i||(f=o(i,s))!==(l=o(a,s))||u(i,a)<0^s>0){do c.point(0===f||3===f?t:e,f>1?r:n);while((f=(f+s+4)%4)!==l)}else c.point(a[0],a[1])}function f(o,i){return o>=t&&e>=o&&i>=n&&r>=i}function l(t,n){f(t,n)&&a.point(t,n)}function h(){A.point=g,v&&v.push(y=[]),j=!0,M=!1,w=b=0/0}function p(){d&&(g(m,_),x&&M&&S.rejoin(),d.push(S.buffer())),A.point=l,M&&a.lineEnd()}function g(t,n){t=Math.max(-Ss,Math.min(Ss,t)),n=Math.max(-Ss,Math.min(Ss,n));var e=f(t,n);if(v&&y.push([t,n]),j)m=t,_=n,x=e,j=!1,e&&(a.lineStart(),a.point(t,n));else if(e&&M)a.point(t,n);else{var r={a:{x:w,y:b},b:{x:t,y:n}};N(r)?(M||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),E=!1):e&&(a.lineStart(),a.point(t,n),E=!1)}w=t,b=n,M=e}var d,v,y,m,_,x,w,b,M,j,E,k=a,S=qe(),N=De(t,n,e,r),A={point:l,lineStart:h,lineEnd:p,polygonStart:function(){a=S,d=[],v=[],E=!0},polygonEnd:function(){a=k,d=Xu.merge(d);var n=s([t,r]),e=E&&n,o=d.length;(e||o)&&(a.polygonStart(),e&&(a.lineStart(),c(null,null,1,a),a.lineEnd()),o&&ke(d,i,n,c,a),a.polygonEnd()),d=v=y=null}};return A}}function Ue(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return e=n.invert(e,r),e&&t.invert(e[0],e[1])}),e}function Fe(t){var n=0,e=ja/3,r=rr(t),o=r(n,e);return o.parallels=function(t){return arguments.length?r(n=t[0]*ja/180,e=t[1]*ja/180):[n/ja*180,e/ja*180]},o}function He(t,n){function e(t,n){var e=Math.sqrt(i-2*o*Math.sin(n))/o;return[e*Math.sin(t*=o),u-e*Math.cos(t)]}var r=Math.sin(t),o=(r+Math.sin(n))/2,i=1+r*(2*o-r),u=Math.sqrt(i)/o;return e.invert=function(t,n){var e=u-n;return[Math.atan2(t,e)/o,Q((i-(t*t+e*e)*o*o)/(2*o))]},e}function Je(){function t(t,n){As+=o*t-r*n,r=t,o=n}var n,e,r,o;Ls.point=function(i,u){Ls.point=t,n=r=i,e=o=u},Ls.lineEnd=function(){t(n,e)}}function Be(t,n){Ts>t&&(Ts=t),t>Cs&&(Cs=t),qs>n&&(qs=n),n>zs&&(zs=n)}function Ge(){function t(t,n){u.push("M",t,",",n,i)}function n(t,n){u.push("M",t,",",n),a.point=e}function e(t,n){u.push("L",t,",",n)}function r(){a.point=t}function o(){u.push("Z")}var i=Xe(4.5),u=[],a={point:t,lineStart:function(){a.point=n},lineEnd:r,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=r,a.point=t},pointRadius:function(t){return i=Xe(t),a},result:function(){if(u.length){var t=u.join("");return u=[],t}}};return a}function Xe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ye(t,n){vs+=t,ys+=n,++ms}function Ke(){function t(t,r){var o=t-n,i=r-e,u=Math.sqrt(o*o+i*i);_s+=u*(n+t)/2,xs+=u*(e+r)/2,ws+=u,Ye(n=t,e=r)}var n,e;Os.point=function(r,o){Os.point=t,Ye(n=r,e=o)}}function Ve(){Os.point=Ye}function Ze(){function t(t,n){var e=t-r,i=n-o,u=Math.sqrt(e*e+i*i);_s+=u*(r+t)/2,xs+=u*(o+n)/2,ws+=u,u=o*t-r*n,bs+=u*(r+t),Ms+=u*(o+n),js+=3*u,Ye(r=t,o=n)}var n,e,r,o;Os.point=function(i,u){Os.point=t,Ye(n=r=i,e=o=u)},Os.lineEnd=function(){t(n,e)}}function $e(t){function n(n,e){t.moveTo(n,e),t.arc(n,e,u,0,Ea)}function e(n,e){t.moveTo(n,e),a.point=r}function r(n,e){t.lineTo(n,e)}function o(){a.point=n}function i(){t.closePath()}var u=4.5,a={point:n,lineStart:function(){a.point=e},lineEnd:o,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=o,a.point=n},pointRadius:function(t){return u=t,a},result:v};return a}function Qe(t){function n(t){return(a?r:e)(t)}function e(n){return nr(n,function(e,r){e=t(e,r),n.point(e[0],e[1])})}function r(n){function e(e,r){e=t(e,r),n.point(e[0],e[1])}function r(){_=0/0,j.point=i,n.lineStart()}function i(e,r){var i=he([e,r]),u=t(e,r);o(_,x,m,w,b,M,_=u[0],x=u[1],m=e,w=i[0],b=i[1],M=i[2],a,n),n.point(_,x)}function u(){j.point=e,n.lineEnd()}function s(){r(),j.point=c,j.lineEnd=f}function c(t,n){i(l=t,h=n),p=_,g=x,d=w,v=b,y=M,j.point=i}function f(){o(_,x,m,w,b,M,p,g,l,d,v,y,a,n),j.lineEnd=u,u()}var l,h,p,g,d,v,y,m,_,x,w,b,M,j={point:e,lineStart:r,lineEnd:u,polygonStart:function(){n.polygonStart(),j.lineStart=s},polygonEnd:function(){n.polygonEnd(),j.lineStart=r}};return j}function o(n,e,r,a,s,c,f,l,h,p,g,d,v,y){var m=f-n,_=l-e,x=m*m+_*_;if(x>4*i&&v--){var w=a+p,b=s+g,M=c+d,j=Math.sqrt(w*w+b*b+M*M),E=Math.asin(M/=j),k=ua(ua(M)-1)<Sa||ua(r-h)<Sa?(r+h)/2:Math.atan2(b,w),S=t(k,E),N=S[0],A=S[1],T=N-n,q=A-e,C=_*T-m*q;(C*C/x>i||ua((m*T+_*q)/x-.5)>.3||u>a*p+s*g+c*d)&&(o(n,e,r,a,s,c,N,A,k,w/=j,b/=j,M,v,y),y.point(N,A),o(N,A,k,w,b,M,f,l,h,p,g,d,v,y))}}var i=.5,u=Math.cos(30*Aa),a=16;return n.precision=function(t){return arguments.length?(a=(i=t*t)>0&&16,n):Math.sqrt(i)},n}function We(t){var n=Qe(function(n,e){return t([n*Ta,e*Ta])});return function(t){return or(n(t))}}function tr(t){this.stream=t}function nr(t,n){return{point:n,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function er(t){return rr(function(){return t})()}function rr(t){function n(t){return t=a(t[0]*Aa,t[1]*Aa),[t[0]*h+s,c-t[1]*h]}function e(t){return t=a.invert((t[0]-s)/h,(c-t[1])/h),t&&[t[0]*Ta,t[1]*Ta]}function r(){a=Ue(u=ar(y,m,_),i);var t=i(d,v);return s=p-t[0]*h,c=g+t[1]*h,o()}function o(){return f&&(f.valid=!1,f=null),n}var i,u,a,s,c,f,l=Qe(function(t,n){return t=i(t,n),[t[0]*h+s,c-t[1]*h]}),h=150,p=480,g=250,d=0,v=0,y=0,m=0,_=0,x=ks,w=En,b=null,M=null;return n.stream=function(t){return f&&(f.valid=!1),f=or(x(u,l(w(t)))),f.valid=!0,f},n.clipAngle=function(t){return arguments.length?(x=null==t?(b=t,ks):Pe((b=+t)*Aa),o()):b},n.clipExtent=function(t){return arguments.length?(M=t,w=t?Ie(t[0][0],t[0][1],t[1][0],t[1][1]):En,o()):M},n.scale=function(t){return arguments.length?(h=+t,r()):h},n.translate=function(t){return arguments.length?(p=+t[0],g=+t[1],r()):[p,g]},n.center=function(t){return arguments.length?(d=t[0]%360*Aa,v=t[1]%360*Aa,r()):[d*Ta,v*Ta]},n.rotate=function(t){return arguments.length?(y=t[0]%360*Aa,m=t[1]%360*Aa,_=t.length>2?t[2]%360*Aa:0,r()):[y*Ta,m*Ta,_*Ta]},Xu.rebind(n,l,"precision"),function(){return i=t.apply(this,arguments),n.invert=i.invert&&e,r()}}function or(t){return nr(t,function(n,e){t.point(n*Aa,e*Aa)})}function ir(t,n){return[t,n]}function ur(t,n){return[t>ja?t-Ea:-ja>t?t+Ea:t,n]}function ar(t,n,e){return t?n||e?Ue(cr(t),fr(n,e)):cr(t):n||e?fr(n,e):ur}function sr(t){return function(n,e){return n+=t,[n>ja?n-Ea:-ja>n?n+Ea:n,e]}}function cr(t){var n=sr(t);return n.invert=sr(-t),n}function fr(t,n){function e(t,n){var e=Math.cos(n),a=Math.cos(t)*e,s=Math.sin(t)*e,c=Math.sin(n),f=c*r+a*o;return[Math.atan2(s*i-f*u,a*r-c*o),Q(f*i+s*u)]}var r=Math.cos(t),o=Math.sin(t),i=Math.cos(n),u=Math.sin(n);return e.invert=function(t,n){var e=Math.cos(n),a=Math.cos(t)*e,s=Math.sin(t)*e,c=Math.sin(n),f=c*i-s*u;return[Math.atan2(s*i+c*u,a*r+f*o),Q(f*r-a*o)]},e}function lr(t,n){var e=Math.cos(t),r=Math.sin(t);return function(o,i,u,a){var s=u*n;null!=o?(o=hr(e,o),i=hr(e,i),(u>0?i>o:o>i)&&(o+=u*Ea)):(o=t+u*Ea,i=t-.5*s);for(var c,f=o;u>0?f>i:i>f;f-=s)a.point((c=me([e,-r*Math.cos(f),-r*Math.sin(f)]))[0],c[1])}}function hr(t,n){var e=he(n);e[0]-=t,ye(e);var r=$(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Sa)%(2*Math.PI)}function pr(t,n,e){var r=Xu.range(t,n-Sa,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function gr(t,n,e){var r=Xu.range(t,n-Sa,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function dr(t){return t.source}function vr(t){return t.target}function yr(t,n,e,r){var o=Math.cos(n),i=Math.sin(n),u=Math.cos(r),a=Math.sin(r),s=o*Math.cos(t),c=o*Math.sin(t),f=u*Math.cos(e),l=u*Math.sin(e),h=2*Math.asin(Math.sqrt(en(r-n)+o*u*en(e-t))),p=1/Math.sin(h),g=h?function(t){var n=Math.sin(t*=h)*p,e=Math.sin(h-t)*p,r=e*s+n*f,o=e*c+n*l,u=e*i+n*a;return[Math.atan2(o,r)*Ta,Math.atan2(u,Math.sqrt(r*r+o*o))*Ta]}:function(){return[t*Ta,n*Ta]};return g.distance=h,g}function mr(){function t(t,o){var i=Math.sin(o*=Aa),u=Math.cos(o),a=ua((t*=Aa)-n),s=Math.cos(a);Ps+=Math.atan2(Math.sqrt((a=u*Math.sin(a))*a+(a=r*i-e*u*s)*a),e*i+r*u*s),n=t,e=i,r=u}var n,e,r;Ds.point=function(o,i){n=o*Aa,e=Math.sin(i*=Aa),r=Math.cos(i),Ds.point=t},Ds.lineEnd=function(){Ds.point=Ds.lineEnd=v}}function _r(t,n){function e(n,e){var r=Math.cos(n),o=Math.cos(e),i=t(r*o);return[i*o*Math.sin(n),i*Math.sin(e)]}return e.invert=function(t,e){var r=Math.sqrt(t*t+e*e),o=n(r),i=Math.sin(o),u=Math.cos(o);return[Math.atan2(t*i,r*u),Math.asin(r&&e*i/r)]},e}function xr(t,n){function e(t,n){u>0?-ka+Sa>n&&(n=-ka+Sa):n>ka-Sa&&(n=ka-Sa);var e=u/Math.pow(o(n),i);return[e*Math.sin(i*t),u-e*Math.cos(i*t)]}var r=Math.cos(t),o=function(t){return Math.tan(ja/4+t/2)},i=t===n?Math.sin(t):Math.log(r/Math.cos(n))/Math.log(o(n)/o(t)),u=r*Math.pow(o(t),i)/i;return i?(e.invert=function(t,n){var e=u-n,r=V(i)*Math.sqrt(t*t+e*e);return[Math.atan2(t,e)/i,2*Math.atan(Math.pow(u/r,1/i))-ka]},e):br}function wr(t,n){function e(t,n){var e=i-n;return[e*Math.sin(o*t),i-e*Math.cos(o*t)]}var r=Math.cos(t),o=t===n?Math.sin(t):(r-Math.cos(n))/(n-t),i=r/o+t;return ua(o)<Sa?ir:(e.invert=function(t,n){var e=i-n;return[Math.atan2(t,e)/o,i-V(o)*Math.sqrt(t*t+e*e)]},e)}function br(t,n){return[t,Math.log(Math.tan(ja/4+n/2))]}function Mr(t){var n,e=er(t),r=e.scale,o=e.translate,i=e.clipExtent;return e.scale=function(){var t=r.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.translate=function(){var t=o.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.clipExtent=function(t){var u=i.apply(e,arguments);if(u===e){if(n=null==t){var a=ja*r(),s=o();i([[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]])}}else n&&(u=null);return u},e.clipExtent(null)}function jr(t,n){return[Math.log(Math.tan(ja/4+n/2)),-t]}function Er(t){return t[0]}function kr(t){return t[1]}function Sr(t){for(var n=t.length,e=[0,1],r=2,o=2;n>o;o++){for(;r>1&&Z(t[e[r-2]],t[e[r-1]],t[o])<=0;)--r;e[r++]=o}return e.slice(0,r)}function Nr(t,n){return t[0]-n[0]||t[1]-n[1]}function Ar(t,n,e){return(e[0]-n[0])*(t[1]-n[1])<(e[1]-n[1])*(t[0]-n[0])}function Tr(t,n,e,r){var o=t[0],i=e[0],u=n[0]-o,a=r[0]-i,s=t[1],c=e[1],f=n[1]-s,l=r[1]-c,h=(a*(s-c)-l*(o-i))/(l*u-a*f);return[o+h*u,s+h*f]}function qr(t){var n=t[0],e=t[t.length-1];return!(n[0]-e[0]||n[1]-e[1])}function Cr(){Wr(this),this.edge=this.site=this.circle=null}function zr(t){var n=Zs.pop()||new Cr;return n.site=t,n}function Lr(t){Br(t),Ys.remove(t),Zs.push(t),Wr(t)}function Rr(t){var n=t.circle,e=n.x,r=n.cy,o={x:e,y:r},i=t.P,u=t.N,a=[t];Lr(t);for(var s=i;s.circle&&ua(e-s.circle.x)<Sa&&ua(r-s.circle.cy)<Sa;)i=s.P,a.unshift(s),Lr(s),s=i;a.unshift(s),Br(s);for(var c=u;c.circle&&ua(e-c.circle.x)<Sa&&ua(r-c.circle.cy)<Sa;)u=c.N,a.push(c),Lr(c),c=u;a.push(c),Br(c);var f,l=a.length;for(f=1;l>f;++f)c=a[f],s=a[f-1],Zr(c.edge,s.site,c.site,o);s=a[0],c=a[l-1],c.edge=Kr(s.site,c.site,null,o),Jr(s),Jr(c)}function Or(t){for(var n,e,r,o,i=t.x,u=t.y,a=Ys._;a;)if(r=Pr(a,u)-i,r>Sa)a=a.L;else{if(o=i-Dr(a,u),!(o>Sa)){r>-Sa?(n=a.P,e=a):o>-Sa?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}var s=zr(t);if(Ys.insert(n,s),n||e){if(n===e)return Br(n),e=zr(n.site),Ys.insert(s,e),s.edge=e.edge=Kr(n.site,s.site),Jr(n),void Jr(e);if(!e)return void(s.edge=Kr(n.site,s.site));Br(n),Br(e);var c=n.site,f=c.x,l=c.y,h=t.x-f,p=t.y-l,g=e.site,d=g.x-f,v=g.y-l,y=2*(h*v-p*d),m=h*h+p*p,_=d*d+v*v,x={x:(v*m-p*_)/y+f,y:(h*_-d*m)/y+l};Zr(e.edge,c,g,x),s.edge=Kr(c,t,null,x),e.edge=Kr(t,g,null,x),Jr(n),Jr(e)}}function Pr(t,n){var e=t.site,r=e.x,o=e.y,i=o-n;if(!i)return r;var u=t.P;if(!u)return-1/0;e=u.site;var a=e.x,s=e.y,c=s-n;if(!c)return a;var f=a-r,l=1/i-1/c,h=f/c;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*c)-s+c/2+o-i/2)))/l+r:(r+a)/2}function Dr(t,n){var e=t.N;if(e)return Pr(e,n);var r=t.site;return r.y===n?r.x:1/0}function Ir(t){this.site=t,this.edges=[]}function Ur(t){for(var n,e,r,o,i,u,a,s,c,f,l=t[0][0],h=t[1][0],p=t[0][1],g=t[1][1],d=Xs,v=d.length;v--;)if(i=d[v],i&&i.prepare())for(a=i.edges,s=a.length,u=0;s>u;)f=a[u].end(),r=f.x,o=f.y,c=a[++u%s].start(),n=c.x,e=c.y,(ua(r-n)>Sa||ua(o-e)>Sa)&&(a.splice(u,0,new $r(Vr(i.site,f,ua(r-l)<Sa&&g-o>Sa?{x:l,y:ua(n-l)<Sa?e:g}:ua(o-g)<Sa&&h-r>Sa?{x:ua(e-g)<Sa?n:h,y:g}:ua(r-h)<Sa&&o-p>Sa?{x:h,y:ua(n-h)<Sa?e:p}:ua(o-p)<Sa&&r-l>Sa?{x:ua(e-p)<Sa?n:l,y:p}:null),i.site,null)),++s)}function Fr(t,n){return n.angle-t.angle}function Hr(){Wr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Jr(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,o=t.site,i=e.site;if(r!==i){var u=o.x,a=o.y,s=r.x-u,c=r.y-a,f=i.x-u,l=i.y-a,h=2*(s*l-c*f);if(!(h>=-Na)){var p=s*s+c*c,g=f*f+l*l,d=(l*p-c*g)/h,v=(s*g-f*p)/h,l=v+a,y=$s.pop()||new Hr;y.arc=t,y.site=o,y.x=d+u,y.y=l+Math.sqrt(d*d+v*v),y.cy=l,t.circle=y;for(var m=null,_=Vs._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(!_.L){m=_.P;break}_=_.L}else{if(!_.R){m=_;break}_=_.R}Vs.insert(m,y),m||(Ks=y)}}}}function Br(t){var n=t.circle;n&&(n.P||(Ks=n.N),Vs.remove(n),$s.push(n),Wr(n),t.circle=null)}function Gr(t){for(var n,e=Gs,r=De(t[0][0],t[0][1],t[1][0],t[1][1]),o=e.length;o--;)n=e[o],(!Xr(n,t)||!r(n)||ua(n.a.x-n.b.x)<Sa&&ua(n.a.y-n.b.y)<Sa)&&(n.a=n.b=null,e.splice(o,1))}function Xr(t,n){var e=t.b;if(e)return!0;var r,o,i=t.a,u=n[0][0],a=n[1][0],s=n[0][1],c=n[1][1],f=t.l,l=t.r,h=f.x,p=f.y,g=l.x,d=l.y,v=(h+g)/2,y=(p+d)/2;if(d===p){if(u>v||v>=a)return;if(h>g){if(i){if(i.y>=c)return}else i={x:v,y:s};e={x:v,y:c}}else{if(i){if(i.y<s)return}else i={x:v,y:c};e={x:v,y:s}}}else if(r=(h-g)/(d-p),o=y-r*v,-1>r||r>1)if(h>g){if(i){if(i.y>=c)return}else i={x:(s-o)/r,y:s};e={x:(c-o)/r,y:c}}else{if(i){if(i.y<s)return}else i={x:(c-o)/r,y:c};e={x:(s-o)/r,y:s}}else if(d>p){if(i){if(i.x>=a)return}else i={x:u,y:r*u+o};e={x:a,y:r*a+o}}else{if(i){if(i.x<u)return}else i={x:a,y:r*a+o};e={x:u,y:r*u+o}}return t.a=i,t.b=e,!0}function Yr(t,n){this.l=t,this.r=n,this.a=this.b=null}function Kr(t,n,e,r){var o=new Yr(t,n);return Gs.push(o),e&&Zr(o,t,n,e),r&&Zr(o,n,t,r),Xs[t.i].edges.push(new $r(o,t,n)),Xs[n.i].edges.push(new $r(o,n,t)),o}function Vr(t,n,e){var r=new Yr(t,null);return r.a=n,r.b=e,Gs.push(r),r}function Zr(t,n,e,r){t.a||t.b?t.l===e?t.b=r:t.a=r:(t.a=r,t.l=n,t.r=e)}function $r(t,n,e){var r=t.a,o=t.b;this.edge=t,this.site=n,this.angle=e?Math.atan2(e.y-n.y,e.x-n.x):t.l===n?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function Qr(){this._=null}function Wr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function to(t,n){var e=n,r=n.R,o=e.U;o?o.L===e?o.L=r:o.R=r:t._=r,r.U=o,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function no(t,n){var e=n,r=n.L,o=e.U;o?o.L===e?o.L=r:o.R=r:t._=r,r.U=o,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function eo(t){for(;t.L;)t=t.L;return t}function ro(t,n){var e,r,o,i=t.sort(oo).pop();for(Gs=[],Xs=new Array(t.length),Ys=new Qr,Vs=new Qr;;)if(o=Ks,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))(i.x!==e||i.y!==r)&&(Xs[i.i]=new Ir(i),Or(i),e=i.x,r=i.y),i=t.pop();
else{if(!o)break;Rr(o.arc)}n&&(Gr(n),Ur(n));var u={cells:Xs,edges:Gs};return Ys=Vs=Gs=Xs=null,u}function oo(t,n){return n.y-t.y||n.x-t.x}function io(t,n,e){return(t.x-e.x)*(n.y-t.y)-(t.x-n.x)*(e.y-t.y)}function uo(t){return t.x}function ao(t){return t.y}function so(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function co(t,n,e,r,o,i){if(!t(n,e,r,o,i)){var u=.5*(e+o),a=.5*(r+i),s=n.nodes;s[0]&&co(t,s[0],e,r,u,a),s[1]&&co(t,s[1],u,r,o,a),s[2]&&co(t,s[2],e,a,u,i),s[3]&&co(t,s[3],u,a,o,i)}}function fo(t,n){t=Xu.rgb(t),n=Xu.rgb(n);var e=t.r,r=t.g,o=t.b,i=n.r-e,u=n.g-r,a=n.b-o;return function(t){return"#"+mn(Math.round(e+i*t))+mn(Math.round(r+u*t))+mn(Math.round(o+a*t))}}function lo(t,n){var e,r={},o={};for(e in t)e in n?r[e]=go(t[e],n[e]):o[e]=t[e];for(e in n)e in t||(o[e]=n[e]);return function(t){for(e in r)o[e]=r[e](t);return o}}function ho(t,n){return n-=t=+t,function(e){return t+n*e}}function po(t,n){var e,r,o,i=Ws.lastIndex=tc.lastIndex=0,u=-1,a=[],s=[];for(t+="",n+="";(e=Ws.exec(t))&&(r=tc.exec(n));)(o=r.index)>i&&(o=n.substring(i,o),a[u]?a[u]+=o:a[++u]=o),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,s.push({i:u,x:ho(e,r)})),i=tc.lastIndex;return i<n.length&&(o=n.substring(i),a[u]?a[u]+=o:a[++u]=o),a.length<2?s[0]?(n=s[0].x,function(t){return n(t)+""}):function(){return n}:(n=s.length,function(t){for(var e,r=0;n>r;++r)a[(e=s[r]).i]=e.x(t);return a.join("")})}function go(t,n){for(var e,r=Xu.interpolators.length;--r>=0&&!(e=Xu.interpolators[r](t,n)););return e}function vo(t,n){var e,r=[],o=[],i=t.length,u=n.length,a=Math.min(t.length,n.length);for(e=0;a>e;++e)r.push(go(t[e],n[e]));for(;i>e;++e)o[e]=t[e];for(;u>e;++e)o[e]=n[e];return function(t){for(e=0;a>e;++e)o[e]=r[e](t);return o}}function yo(t){return function(n){return 0>=n?0:n>=1?1:t(n)}}function mo(t){return function(n){return 1-t(1-n)}}function _o(t){return function(n){return.5*(.5>n?t(2*n):2-t(2-2*n))}}function xo(t){return t*t}function wo(t){return t*t*t}function bo(t){if(0>=t)return 0;if(t>=1)return 1;var n=t*t,e=n*t;return 4*(.5>t?e:3*(t-n)+e-.75)}function Mo(t){return function(n){return Math.pow(n,t)}}function jo(t){return 1-Math.cos(t*ka)}function Eo(t){return Math.pow(2,10*(t-1))}function ko(t){return 1-Math.sqrt(1-t*t)}function So(t,n){var e;return arguments.length<2&&(n=.45),arguments.length?e=n/Ea*Math.asin(1/t):(t=1,e=n/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-e)*Ea/n)}}function No(t){return t||(t=1.70158),function(n){return n*n*((t+1)*n-t)}}function Ao(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function To(t,n){t=Xu.hcl(t),n=Xu.hcl(n);var e=t.h,r=t.c,o=t.l,i=n.h-e,u=n.c-r,a=n.l-o;return isNaN(u)&&(u=0,r=isNaN(r)?n.c:r),isNaN(i)?(i=0,e=isNaN(e)?n.h:e):i>180?i-=360:-180>i&&(i+=360),function(t){return sn(e+i*t,r+u*t,o+a*t)+""}}function qo(t,n){t=Xu.hsl(t),n=Xu.hsl(n);var e=t.h,r=t.s,o=t.l,i=n.h-e,u=n.s-r,a=n.l-o;return isNaN(u)&&(u=0,r=isNaN(r)?n.s:r),isNaN(i)?(i=0,e=isNaN(e)?n.h:e):i>180?i-=360:-180>i&&(i+=360),function(t){return un(e+i*t,r+u*t,o+a*t)+""}}function Co(t,n){t=Xu.lab(t),n=Xu.lab(n);var e=t.l,r=t.a,o=t.b,i=n.l-e,u=n.a-r,a=n.b-o;return function(t){return fn(e+i*t,r+u*t,o+a*t)+""}}function zo(t,n){return n-=t,function(e){return Math.round(t+n*e)}}function Lo(t){var n=[t.a,t.b],e=[t.c,t.d],r=Oo(n),o=Ro(n,e),i=Oo(Po(e,n,-o))||0;n[0]*e[1]<e[0]*n[1]&&(n[0]*=-1,n[1]*=-1,r*=-1,o*=-1),this.rotate=(r?Math.atan2(n[1],n[0]):Math.atan2(-e[0],e[1]))*Ta,this.translate=[t.e,t.f],this.scale=[r,i],this.skew=i?Math.atan2(o,i)*Ta:0}function Ro(t,n){return t[0]*n[0]+t[1]*n[1]}function Oo(t){var n=Math.sqrt(Ro(t,t));return n&&(t[0]/=n,t[1]/=n),n}function Po(t,n,e){return t[0]+=e*n[0],t[1]+=e*n[1],t}function Do(t,n){var e,r=[],o=[],i=Xu.transform(t),u=Xu.transform(n),a=i.translate,s=u.translate,c=i.rotate,f=u.rotate,l=i.skew,h=u.skew,p=i.scale,g=u.scale;return a[0]!=s[0]||a[1]!=s[1]?(r.push("translate(",null,",",null,")"),o.push({i:1,x:ho(a[0],s[0])},{i:3,x:ho(a[1],s[1])})):r.push(s[0]||s[1]?"translate("+s+")":""),c!=f?(c-f>180?f+=360:f-c>180&&(c+=360),o.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:ho(c,f)})):f&&r.push(r.pop()+"rotate("+f+")"),l!=h?o.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:ho(l,h)}):h&&r.push(r.pop()+"skewX("+h+")"),p[0]!=g[0]||p[1]!=g[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),o.push({i:e-4,x:ho(p[0],g[0])},{i:e-2,x:ho(p[1],g[1])})):(1!=g[0]||1!=g[1])&&r.push(r.pop()+"scale("+g+")"),e=o.length,function(t){for(var n,i=-1;++i<e;)r[(n=o[i]).i]=n.x(t);return r.join("")}}function Io(t,n){return n=n-(t=+t)?1/(n-t):0,function(e){return(e-t)*n}}function Uo(t,n){return n=n-(t=+t)?1/(n-t):0,function(e){return Math.max(0,Math.min(1,(e-t)*n))}}function Fo(t){for(var n=t.source,e=t.target,r=Jo(n,e),o=[n];n!==r;)n=n.parent,o.push(n);for(var i=o.length;e!==r;)o.splice(i,0,e),e=e.parent;return o}function Ho(t){for(var n=[],e=t.parent;null!=e;)n.push(t),t=e,e=e.parent;return n.push(t),n}function Jo(t,n){if(t===n)return t;for(var e=Ho(t),r=Ho(n),o=e.pop(),i=r.pop(),u=null;o===i;)u=o,o=e.pop(),i=r.pop();return u}function Bo(t){t.fixed|=2}function Go(t){t.fixed&=-7}function Xo(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Yo(t){t.fixed&=-5}function Ko(t,n,e){var r=0,o=0;if(t.charge=0,!t.leaf)for(var i,u=t.nodes,a=u.length,s=-1;++s<a;)i=u[s],null!=i&&(Ko(i,n,e),t.charge+=i.charge,r+=i.charge*i.cx,o+=i.charge*i.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=n*e[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,o+=c*t.point.y}t.cx=r/t.charge,t.cy=o/t.charge}function Vo(t,n){return Xu.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=ni,t}function Zo(t,n){for(var e=[t];null!=(t=e.pop());)if(n(t),(o=t.children)&&(r=o.length))for(var r,o;--r>=0;)e.push(o[r])}function $o(t,n){for(var e=[t],r=[];null!=(t=e.pop());)if(r.push(t),(i=t.children)&&(o=i.length))for(var o,i,u=-1;++u<o;)e.push(i[u]);for(;null!=(t=r.pop());)n(t)}function Qo(t){return t.children}function Wo(t){return t.value}function ti(t,n){return n.value-t.value}function ni(t){return Xu.merge(t.map(function(t){return(t.children||[]).map(function(n){return{source:t,target:n}})}))}function ei(t){return t.x}function ri(t){return t.y}function oi(t,n,e){t.y0=n,t.y=e}function ii(t){return Xu.range(t.length)}function ui(t){for(var n=-1,e=t[0].length,r=[];++n<e;)r[n]=0;return r}function ai(t){for(var n,e=1,r=0,o=t[0][1],i=t.length;i>e;++e)(n=t[e][1])>o&&(r=e,o=n);return r}function si(t){return t.reduce(ci,0)}function ci(t,n){return t+n[1]}function fi(t,n){return li(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function li(t,n){for(var e=-1,r=+t[0],o=(t[1]-r)/n,i=[];++e<=n;)i[e]=o*e+r;return i}function hi(t){return[Xu.min(t),Xu.max(t)]}function pi(t,n){return t.value-n.value}function gi(t,n){var e=t._pack_next;t._pack_next=n,n._pack_prev=t,n._pack_next=e,e._pack_prev=n}function di(t,n){t._pack_next=n,n._pack_prev=t}function vi(t,n){var e=n.x-t.x,r=n.y-t.y,o=t.r+n.r;return.999*o*o>e*e+r*r}function yi(t){function n(t){f=Math.min(t.x-t.r,f),l=Math.max(t.x+t.r,l),h=Math.min(t.y-t.r,h),p=Math.max(t.y+t.r,p)}if((e=t.children)&&(c=e.length)){var e,r,o,i,u,a,s,c,f=1/0,l=-1/0,h=1/0,p=-1/0;if(e.forEach(mi),r=e[0],r.x=-r.r,r.y=0,n(r),c>1&&(o=e[1],o.x=o.r,o.y=0,n(o),c>2))for(i=e[2],wi(r,o,i),n(i),gi(r,i),r._pack_prev=i,gi(i,o),o=r._pack_next,u=3;c>u;u++){wi(r,o,i=e[u]);var g=0,d=1,v=1;for(a=o._pack_next;a!==o;a=a._pack_next,d++)if(vi(a,i)){g=1;break}if(1==g)for(s=r._pack_prev;s!==a._pack_prev&&!vi(s,i);s=s._pack_prev,v++);g?(v>d||d==v&&o.r<r.r?di(r,o=a):di(r=s,o),u--):(gi(r,i),o=i,n(i))}var y=(f+l)/2,m=(h+p)/2,_=0;for(u=0;c>u;u++)i=e[u],i.x-=y,i.y-=m,_=Math.max(_,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=_,e.forEach(_i)}}function mi(t){t._pack_next=t._pack_prev=t}function _i(t){delete t._pack_next,delete t._pack_prev}function xi(t,n,e,r){var o=t.children;if(t.x=n+=r*t.x,t.y=e+=r*t.y,t.r*=r,o)for(var i=-1,u=o.length;++i<u;)xi(o[i],n,e,r)}function wi(t,n,e){var r=t.r+e.r,o=n.x-t.x,i=n.y-t.y;if(r&&(o||i)){var u=n.r+e.r,a=o*o+i*i;u*=u,r*=r;var s=.5+(r-u)/(2*a),c=Math.sqrt(Math.max(0,2*u*(r+a)-(r-=a)*r-u*u))/(2*a);e.x=t.x+s*o+c*i,e.y=t.y+s*i-c*o}else e.x=t.x+r,e.y=t.y}function bi(t,n){return t.parent==n.parent?1:2}function Mi(t){var n=t.children;return n.length?n[0]:t.t}function ji(t){var n,e=t.children;return(n=e.length)?e[n-1]:t.t}function Ei(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function ki(t){for(var n,e=0,r=0,o=t.children,i=o.length;--i>=0;)n=o[i],n.z+=e,n.m+=e,e+=n.s+(r+=n.c)}function Si(t,n,e){return t.a.parent===n.parent?t.a:e}function Ni(t){return 1+Xu.max(t,function(t){return t.y})}function Ai(t){return t.reduce(function(t,n){return t+n.x},0)/t.length}function Ti(t){var n=t.children;return n&&n.length?Ti(n[0]):t}function qi(t){var n,e=t.children;return e&&(n=e.length)?qi(e[n-1]):t}function Ci(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function zi(t,n){var e=t.x+n[3],r=t.y+n[0],o=t.dx-n[1]-n[3],i=t.dy-n[0]-n[2];return 0>o&&(e+=o/2,o=0),0>i&&(r+=i/2,i=0),{x:e,y:r,dx:o,dy:i}}function Li(t){var n=t[0],e=t[t.length-1];return e>n?[n,e]:[e,n]}function Ri(t){return t.rangeExtent?t.rangeExtent():Li(t.range())}function Oi(t,n,e,r){var o=e(t[0],t[1]),i=r(n[0],n[1]);return function(t){return i(o(t))}}function Pi(t,n){var e,r=0,o=t.length-1,i=t[r],u=t[o];return i>u&&(e=r,r=o,o=e,e=i,i=u,u=e),t[r]=n.floor(i),t[o]=n.ceil(u),t}function Di(t){return t?{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}:lc}function Ii(t,n,e,r){var o=[],i=[],u=0,a=Math.min(t.length,n.length)-1;for(t[a]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<=a;)o.push(e(t[u-1],t[u])),i.push(r(n[u-1],n[u]));return function(n){var e=Xu.bisect(t,n,1,a)-1;return i[e](o[e](n))}}function Ui(t,n,e,r){function o(){var o=Math.min(t.length,n.length)>2?Ii:Oi,s=r?Uo:Io;return u=o(t,n,s,e),a=o(n,t,s,go),i}function i(t){return u(t)}var u,a;return i.invert=function(t){return a(t)},i.domain=function(n){return arguments.length?(t=n.map(Number),o()):t},i.range=function(t){return arguments.length?(n=t,o()):n},i.rangeRound=function(t){return i.range(t).interpolate(zo)},i.clamp=function(t){return arguments.length?(r=t,o()):r},i.interpolate=function(t){return arguments.length?(e=t,o()):e},i.ticks=function(n){return Bi(t,n)},i.tickFormat=function(n,e){return Gi(t,n,e)},i.nice=function(n){return Hi(t,n),o()},i.copy=function(){return Ui(t,n,e,r)},o()}function Fi(t,n){return Xu.rebind(t,n,"range","rangeRound","interpolate","clamp")}function Hi(t,n){return Pi(t,Di(Ji(t,n)[2]))}function Ji(t,n){null==n&&(n=10);var e=Li(t),r=e[1]-e[0],o=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),i=n/r*o;return.15>=i?o*=10:.35>=i?o*=5:.75>=i&&(o*=2),e[0]=Math.ceil(e[0]/o)*o,e[1]=Math.floor(e[1]/o)*o+.5*o,e[2]=o,e}function Bi(t,n){return Xu.range.apply(Xu,Ji(t,n))}function Gi(t,n,e){var r=Ji(t,n);if(e){var o=Wa.exec(e);if(o.shift(),"s"===o[8]){var i=Xu.formatPrefix(Math.max(ua(r[0]),ua(r[1])));return o[7]||(o[7]="."+Xi(i.scale(r[2]))),o[8]="f",e=Xu.format(o.join("")),function(t){return e(i.scale(t))+i.symbol}}o[7]||(o[7]="."+Yi(o[8],r)),e=o.join("")}else e=",."+Xi(r[2])+"f";return Xu.format(e)}function Xi(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Yi(t,n){var e=Xi(n[2]);return t in hc?Math.abs(e-Xi(Math.max(ua(n[0]),ua(n[1]))))+ +("e"!==t):e-2*("%"===t)}function Ki(t,n,e,r){function o(t){return(e?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function i(t){return e?Math.pow(n,t):-Math.pow(n,-t)}function u(n){return t(o(n))}return u.invert=function(n){return i(t.invert(n))},u.domain=function(n){return arguments.length?(e=n[0]>=0,t.domain((r=n.map(Number)).map(o)),u):r},u.base=function(e){return arguments.length?(n=+e,t.domain(r.map(o)),u):n},u.nice=function(){var n=Pi(r.map(o),e?Math:gc);return t.domain(n),r=n.map(i),u},u.ticks=function(){var t=Li(r),u=[],a=t[0],s=t[1],c=Math.floor(o(a)),f=Math.ceil(o(s)),l=n%1?2:n;if(isFinite(f-c)){if(e){for(;f>c;c++)for(var h=1;l>h;h++)u.push(i(c)*h);u.push(i(c))}else for(u.push(i(c));c++<f;)for(var h=l-1;h>0;h--)u.push(i(c)*h);for(c=0;u[c]<a;c++);for(f=u.length;u[f-1]>s;f--);u=u.slice(c,f)}return u},u.tickFormat=function(t,n){if(!arguments.length)return pc;arguments.length<2?n=pc:"function"!=typeof n&&(n=Xu.format(n));var r,a=Math.max(.1,t/u.ticks().length),s=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/i(s(o(t)+r))<=a?n(t):""}},u.copy=function(){return Ki(t.copy(),n,e,r)},Fi(u,t)}function Vi(t,n,e){function r(n){return t(o(n))}var o=Zi(n),i=Zi(1/n);return r.invert=function(n){return i(t.invert(n))},r.domain=function(n){return arguments.length?(t.domain((e=n.map(Number)).map(o)),r):e},r.ticks=function(t){return Bi(e,t)},r.tickFormat=function(t,n){return Gi(e,t,n)},r.nice=function(t){return r.domain(Hi(e,t))},r.exponent=function(u){return arguments.length?(o=Zi(n=u),i=Zi(1/n),t.domain(e.map(o)),r):n},r.copy=function(){return Vi(t.copy(),n,e)},Fi(r,t)}function Zi(t){return function(n){return 0>n?-Math.pow(-n,t):Math.pow(n,t)}}function $i(t,n){function e(e){return i[((o.get(e)||("range"===n.t?o.set(e,t.push(e)):0/0))-1)%i.length]}function r(n,e){return Xu.range(t.length).map(function(t){return n+e*t})}var o,i,u;return e.domain=function(r){if(!arguments.length)return t;t=[],o=new a;for(var i,u=-1,s=r.length;++u<s;)o.has(i=r[u])||o.set(i,t.push(i));return e[n.t].apply(e,n.a)},e.range=function(t){return arguments.length?(i=t,u=0,n={t:"range",a:arguments},e):i},e.rangePoints=function(o,a){arguments.length<2&&(a=0);var s=o[0],c=o[1],f=(c-s)/(Math.max(1,t.length-1)+a);return i=r(t.length<2?(s+c)/2:s+f*a/2,f),u=0,n={t:"rangePoints",a:arguments},e},e.rangeBands=function(o,a,s){arguments.length<2&&(a=0),arguments.length<3&&(s=a);var c=o[1]<o[0],f=o[c-0],l=o[1-c],h=(l-f)/(t.length-a+2*s);return i=r(f+h*s,h),c&&i.reverse(),u=h*(1-a),n={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(o,a,s){arguments.length<2&&(a=0),arguments.length<3&&(s=a);var c=o[1]<o[0],f=o[c-0],l=o[1-c],h=Math.floor((l-f)/(t.length-a+2*s)),p=l-f-(t.length-a)*h;return i=r(f+Math.round(p/2),h),c&&i.reverse(),u=Math.round(h*(1-a)),n={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return u},e.rangeExtent=function(){return Li(n.a[0])},e.copy=function(){return $i(t,n)},e.domain(t)}function Qi(e,r){function o(){var t=0,n=r.length;for(u=[];++t<n;)u[t-1]=Xu.quantile(e,t/n);return i}function i(t){return isNaN(t=+t)?void 0:r[Xu.bisect(u,t)]}var u;return i.domain=function(r){return arguments.length?(e=r.filter(n).sort(t),o()):e},i.range=function(t){return arguments.length?(r=t,o()):r},i.quantiles=function(){return u},i.invertExtent=function(t){return t=r.indexOf(t),0>t?[0/0,0/0]:[t>0?u[t-1]:e[0],t<u.length?u[t]:e[e.length-1]]},i.copy=function(){return Qi(e,r)},o()}function Wi(t,n,e){function r(n){return e[Math.max(0,Math.min(u,Math.floor(i*(n-t))))]}function o(){return i=e.length/(n-t),u=e.length-1,r}var i,u;return r.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],o()):[t,n]},r.range=function(t){return arguments.length?(e=t,o()):e},r.invertExtent=function(n){return n=e.indexOf(n),n=0>n?0/0:n/i+t,[n,n+1/i]},r.copy=function(){return Wi(t,n,e)},o()}function tu(t,n){function e(e){return e>=e?n[Xu.bisect(t,e)]:void 0}return e.domain=function(n){return arguments.length?(t=n,e):t},e.range=function(t){return arguments.length?(n=t,e):n},e.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]},e.copy=function(){return tu(t,n)},e}function nu(t){function n(t){return+t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t},n.ticks=function(n){return Bi(t,n)},n.tickFormat=function(n,e){return Gi(t,n,e)},n.copy=function(){return nu(t)},n}function eu(t){return t.innerRadius}function ru(t){return t.outerRadius}function ou(t){return t.startAngle}function iu(t){return t.endAngle}function uu(t){function n(n){function u(){c.push("M",i(t(f),a))}for(var s,c=[],f=[],l=-1,h=n.length,p=jn(e),g=jn(r);++l<h;)o.call(this,s=n[l],l)?f.push([+p.call(this,s,l),+g.call(this,s,l)]):f.length&&(u(),f=[]);return f.length&&u(),c.length?c.join(""):null}var e=Er,r=kr,o=Ee,i=au,u=i.key,a=.7;return n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n.defined=function(t){return arguments.length?(o=t,n):o},n.interpolate=function(t){return arguments.length?(u="function"==typeof t?i=t:(i=wc.get(t)||au).key,n):u},n.tension=function(t){return arguments.length?(a=t,n):a},n}function au(t){return t.join("L")}function su(t){return au(t)+"Z"}function cu(t){for(var n=0,e=t.length,r=t[0],o=[r[0],",",r[1]];++n<e;)o.push("H",(r[0]+(r=t[n])[0])/2,"V",r[1]);return e>1&&o.push("H",r[0]),o.join("")}function fu(t){for(var n=0,e=t.length,r=t[0],o=[r[0],",",r[1]];++n<e;)o.push("V",(r=t[n])[1],"H",r[0]);return o.join("")}function lu(t){for(var n=0,e=t.length,r=t[0],o=[r[0],",",r[1]];++n<e;)o.push("H",(r=t[n])[0],"V",r[1]);return o.join("")}function hu(t,n){return t.length<4?au(t):t[1]+du(t.slice(1,t.length-1),vu(t,n))}function pu(t,n){return t.length<3?au(t):t[0]+du((t.push(t[0]),t),vu([t[t.length-2]].concat(t,[t[1]]),n))}function gu(t,n){return t.length<3?au(t):t[0]+du(t,vu(t,n))}function du(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return au(t);var e=t.length!=n.length,r="",o=t[0],i=t[1],u=n[0],a=u,s=1;if(e&&(r+="Q"+(i[0]-2*u[0]/3)+","+(i[1]-2*u[1]/3)+","+i[0]+","+i[1],o=t[1],s=2),n.length>1){a=n[1],i=t[s],s++,r+="C"+(o[0]+u[0])+","+(o[1]+u[1])+","+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1];for(var c=2;c<n.length;c++,s++)i=t[s],a=n[c],r+="S"+(i[0]-a[0])+","+(i[1]-a[1])+","+i[0]+","+i[1]}if(e){var f=t[s];r+="Q"+(i[0]+2*a[0]/3)+","+(i[1]+2*a[1]/3)+","+f[0]+","+f[1]}return r}function vu(t,n){for(var e,r=[],o=(1-n)/2,i=t[0],u=t[1],a=1,s=t.length;++a<s;)e=i,i=u,u=t[a],r.push([o*(u[0]-e[0]),o*(u[1]-e[1])]);return r}function yu(t){if(t.length<3)return au(t);var n=1,e=t.length,r=t[0],o=r[0],i=r[1],u=[o,o,o,(r=t[1])[0]],a=[i,i,i,r[1]],s=[o,",",i,"L",wu(jc,u),",",wu(jc,a)];for(t.push(t[e-1]);++n<=e;)r=t[n],u.shift(),u.push(r[0]),a.shift(),a.push(r[1]),bu(s,u,a);return t.pop(),s.push("L",r),s.join("")}function mu(t){if(t.length<4)return au(t);for(var n,e=[],r=-1,o=t.length,i=[0],u=[0];++r<3;)n=t[r],i.push(n[0]),u.push(n[1]);for(e.push(wu(jc,i)+","+wu(jc,u)),--r;++r<o;)n=t[r],i.shift(),i.push(n[0]),u.shift(),u.push(n[1]),bu(e,i,u);return e.join("")}function _u(t){for(var n,e,r=-1,o=t.length,i=o+4,u=[],a=[];++r<4;)e=t[r%o],u.push(e[0]),a.push(e[1]);for(n=[wu(jc,u),",",wu(jc,a)],--r;++r<i;)e=t[r%o],u.shift(),u.push(e[0]),a.shift(),a.push(e[1]),bu(n,u,a);return n.join("")}function xu(t,n){var e=t.length-1;if(e)for(var r,o,i=t[0][0],u=t[0][1],a=t[e][0]-i,s=t[e][1]-u,c=-1;++c<=e;)r=t[c],o=c/e,r[0]=n*r[0]+(1-n)*(i+o*a),r[1]=n*r[1]+(1-n)*(u+o*s);return yu(t)}function wu(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function bu(t,n,e){t.push("C",wu(bc,n),",",wu(bc,e),",",wu(Mc,n),",",wu(Mc,e),",",wu(jc,n),",",wu(jc,e))}function Mu(t,n){return(n[1]-t[1])/(n[0]-t[0])}function ju(t){for(var n=0,e=t.length-1,r=[],o=t[0],i=t[1],u=r[0]=Mu(o,i);++n<e;)r[n]=(u+(u=Mu(o=i,i=t[n+1])))/2;return r[n]=u,r}function Eu(t){for(var n,e,r,o,i=[],u=ju(t),a=-1,s=t.length-1;++a<s;)n=Mu(t[a],t[a+1]),ua(n)<Sa?u[a]=u[a+1]=0:(e=u[a]/n,r=u[a+1]/n,o=e*e+r*r,o>9&&(o=3*n/Math.sqrt(o),u[a]=o*e,u[a+1]=o*r));for(a=-1;++a<=s;)o=(t[Math.min(s,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+u[a]*u[a])),i.push([o||0,u[a]*o||0]);return i}function ku(t){return t.length<3?au(t):t[0]+du(t,Eu(t))}function Su(t){for(var n,e,r,o=-1,i=t.length;++o<i;)n=t[o],e=n[0],r=n[1]+_c,n[0]=e*Math.cos(r),n[1]=e*Math.sin(r);return t}function Nu(t){function n(n){function s(){d.push("M",a(t(y),l),f,c(t(v.reverse()),l),"Z")}for(var h,p,g,d=[],v=[],y=[],m=-1,_=n.length,x=jn(e),w=jn(o),b=e===r?function(){return p}:jn(r),M=o===i?function(){return g}:jn(i);++m<_;)u.call(this,h=n[m],m)?(v.push([p=+x.call(this,h,m),g=+w.call(this,h,m)]),y.push([+b.call(this,h,m),+M.call(this,h,m)])):v.length&&(s(),v=[],y=[]);return v.length&&s(),d.length?d.join(""):null}var e=Er,r=Er,o=0,i=kr,u=Ee,a=au,s=a.key,c=a,f="L",l=.7;return n.x=function(t){return arguments.length?(e=r=t,n):r},n.x0=function(t){return arguments.length?(e=t,n):e},n.x1=function(t){return arguments.length?(r=t,n):r},n.y=function(t){return arguments.length?(o=i=t,n):i},n.y0=function(t){return arguments.length?(o=t,n):o},n.y1=function(t){return arguments.length?(i=t,n):i},n.defined=function(t){return arguments.length?(u=t,n):u},n.interpolate=function(t){return arguments.length?(s="function"==typeof t?a=t:(a=wc.get(t)||au).key,c=a.reverse||a,f=a.closed?"M":"L",n):s},n.tension=function(t){return arguments.length?(l=t,n):l},n}function Au(t){return t.radius}function Tu(t){return[t.x,t.y]}function qu(t){return function(){var n=t.apply(this,arguments),e=n[0],r=n[1]+_c;return[e*Math.cos(r),e*Math.sin(r)]}}function Cu(){return 64}function zu(){return"circle"}function Lu(t){var n=Math.sqrt(t/ja);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}function Ru(t,n){return la(t,Tc),t.id=n,t}function Ou(t,n,e,r){var o=t.id;return P(t,"function"==typeof e?function(t,i,u){t.__transition__[o].tween.set(n,r(e.call(t,t.__data__,i,u)))}:(e=r(e),function(t){t.__transition__[o].tween.set(n,e)}))}function Pu(t){return null==t&&(t=""),function(){this.textContent=t}}function Du(t,n,e,r){var o=t.__transition__||(t.__transition__={active:0,count:0}),i=o[e];if(!i){var u=r.time;i=o[e]={tween:new a,time:u,ease:r.ease,delay:r.delay,duration:r.duration},++o.count,Xu.timer(function(r){function a(r){return o.active>e?c():(o.active=e,i.event&&i.event.start.call(t,f,n),i.tween.forEach(function(e,r){(r=r.call(t,f,n))&&d.push(r)}),void Xu.timer(function(){return g.c=s(r||1)?Ee:s,1},0,u))}function s(r){if(o.active!==e)return c();for(var u=r/p,a=l(u),s=d.length;s>0;)d[--s].call(t,a);return u>=1?(i.event&&i.event.end.call(t,f,n),c()):void 0}function c(){return--o.count?delete o[e]:delete t.__transition__,1}var f=t.__data__,l=i.ease,h=i.delay,p=i.duration,g=Za,d=[];return g.t=h+u,r>=h?a(r-h):void(g.c=a)},0,u)}}function Iu(t,n){t.attr("transform",function(t){return"translate("+n(t)+",0)"})}function Uu(t,n){t.attr("transform",function(t){return"translate(0,"+n(t)+")"})}function Fu(t){return t.toISOString()}function Hu(t,n,e){function r(n){return t(n)}function o(t,e){var r=t[1]-t[0],o=r/e,i=Xu.bisect(Ic,o);return i==Ic.length?[n.year,Ji(t.map(function(t){return t/31536e6}),e)[2]]:i?n[o/Ic[i-1]<Ic[i]/o?i-1:i]:[Hc,Ji(t,e)[2]]}return r.invert=function(n){return Ju(t.invert(n))},r.domain=function(n){return arguments.length?(t.domain(n),r):t.domain().map(Ju)},r.nice=function(t,n){function e(e){return!isNaN(e)&&!t.range(e,Ju(+e+1),n).length}var i=r.domain(),u=Li(i),a=null==t?o(u,10):"number"==typeof t&&o(u,t);return a&&(t=a[0],n=a[1]),r.domain(Pi(i,n>1?{floor:function(n){for(;e(n=t.floor(n));)n=Ju(n-1);return n},ceil:function(n){for(;e(n=t.ceil(n));)n=Ju(+n+1);return n}}:t))},r.ticks=function(t,n){var e=Li(r.domain()),i=null==t?o(e,10):"number"==typeof t?o(e,t):!t.range&&[{range:t},n];return i&&(t=i[0],n=i[1]),t.range(e[0],Ju(+e[1]+1),1>n?1:n)},r.tickFormat=function(){return e},r.copy=function(){return Hu(t.copy(),n,e)},Fi(r,t)}function Ju(t){return new Date(t)}function Bu(t){return JSON.parse(t.responseText)}function Gu(t){var n=Vu.createRange();return n.selectNode(Vu.body),n.createContextualFragment(t.responseText)}var Xu={version:"3.4.11"};Date.now||(Date.now=function(){return+new Date});var Yu=[].slice,Ku=function(t){return Yu.call(t)},Vu=document,Zu=Vu.documentElement,$u=window;try{Ku(Zu.childNodes)[0].nodeType}catch(Qu){Ku=function(t){for(var n=t.length,e=new Array(n);n--;)e[n]=t[n];return e}}try{Vu.createElement("div").style.setProperty("opacity",0,"")}catch(Wu){var ta=$u.Element.prototype,na=ta.setAttribute,ea=ta.setAttributeNS,ra=$u.CSSStyleDeclaration.prototype,oa=ra.setProperty;ta.setAttribute=function(t,n){na.call(this,t,n+"")},ta.setAttributeNS=function(t,n,e){ea.call(this,t,n,e+"")},ra.setProperty=function(t,n,e){oa.call(this,t,n+"",e)}}Xu.ascending=t,Xu.descending=function(t,n){return t>n?-1:n>t?1:n>=t?0:0/0},Xu.min=function(t,n){var e,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i&&!(null!=(e=t[o])&&e>=e);)e=void 0;for(;++o<i;)null!=(r=t[o])&&e>r&&(e=r)}else{for(;++o<i&&!(null!=(e=n.call(t,t[o],o))&&e>=e);)e=void 0;for(;++o<i;)null!=(r=n.call(t,t[o],o))&&e>r&&(e=r)}return e},Xu.max=function(t,n){var e,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i&&!(null!=(e=t[o])&&e>=e);)e=void 0;for(;++o<i;)null!=(r=t[o])&&r>e&&(e=r)}else{for(;++o<i&&!(null!=(e=n.call(t,t[o],o))&&e>=e);)e=void 0;for(;++o<i;)null!=(r=n.call(t,t[o],o))&&r>e&&(e=r)}return e},Xu.extent=function(t,n){var e,r,o,i=-1,u=t.length;if(1===arguments.length){for(;++i<u&&!(null!=(e=o=t[i])&&e>=e);)e=o=void 0;for(;++i<u;)null!=(r=t[i])&&(e>r&&(e=r),r>o&&(o=r))}else{for(;++i<u&&!(null!=(e=o=n.call(t,t[i],i))&&e>=e);)e=void 0;for(;++i<u;)null!=(r=n.call(t,t[i],i))&&(e>r&&(e=r),r>o&&(o=r))}return[e,o]},Xu.sum=function(t,n){var e,r=0,o=t.length,i=-1;if(1===arguments.length)for(;++i<o;)isNaN(e=+t[i])||(r+=e);else for(;++i<o;)isNaN(e=+n.call(t,t[i],i))||(r+=e);return r},Xu.mean=function(t,e){var r,o=0,i=t.length,u=-1,a=i;if(1===arguments.length)for(;++u<i;)n(r=t[u])?o+=r:--a;else for(;++u<i;)n(r=e.call(t,t[u],u))?o+=r:--a;return a?o/a:void 0},Xu.quantile=function(t,n){var e=(t.length-1)*n+1,r=Math.floor(e),o=+t[r-1],i=e-r;return i?o+i*(t[r]-o):o},Xu.median=function(e,r){return arguments.length>1&&(e=e.map(r)),e=e.filter(n),e.length?Xu.quantile(e.sort(t),.5):void 0};var ia=r(t);Xu.bisectLeft=ia.left,Xu.bisect=Xu.bisectRight=ia.right,Xu.bisector=function(n){return r(1===n.length?function(e,r){return t(n(e),r)}:n)},Xu.shuffle=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t},Xu.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},Xu.pairs=function(t){for(var n,e=0,r=t.length-1,o=t[0],i=new Array(0>r?0:r);r>e;)i[e]=[n=o,o=t[++e]];return i},Xu.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,n=Xu.min(arguments,o),e=new Array(n);++t<n;)for(var r,i=-1,u=e[t]=new Array(r);++i<r;)u[i]=arguments[i][t];return e},Xu.transpose=function(t){return Xu.zip.apply(Xu,t)},Xu.keys=function(t){var n=[];for(var e in t)n.push(e);return n},Xu.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},Xu.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},Xu.merge=function(t){for(var n,e,r,o=t.length,i=-1,u=0;++i<o;)u+=t[i].length;for(e=new Array(u);--o>=0;)for(r=t[o],n=r.length;--n>=0;)e[--u]=r[n];return e};var ua=Math.abs;Xu.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e===1/0)throw new Error("infinite range");var r,o=[],u=i(ua(e)),a=-1;if(t*=u,n*=u,e*=u,0>e)for(;(r=t+e*++a)>n;)o.push(r/u);else for(;(r=t+e*++a)<n;)o.push(r/u);return o},Xu.map=function(t){var n=new a;if(t instanceof a)t.forEach(function(t,e){n.set(t,e)});else for(var e in t)n.set(e,t[e]);return n},u(a,{has:s,get:function(t){return this[aa+t]},set:function(t,n){return this[aa+t]=n},remove:c,keys:f,values:function(){var t=[];return this.forEach(function(n,e){t.push(e)}),t},entries:function(){var t=[];return this.forEach(function(n,e){t.push({key:n,value:e})}),t},size:l,empty:h,forEach:function(t){for(var n in this)n.charCodeAt(0)===sa&&t.call(this,n.substring(1),this[n])}});var aa="\x00",sa=aa.charCodeAt(0);Xu.nest=function(){function t(n,u,s){if(s>=i.length)return r?r.call(o,u):e?u.sort(e):u;for(var c,f,l,h,p=-1,g=u.length,d=i[s++],v=new a;++p<g;)(h=v.get(c=d(f=u[p])))?h.push(f):v.set(c,[f]);return n?(f=n(),l=function(e,r){f.set(e,t(n,r,s))}):(f={},l=function(e,r){f[e]=t(n,r,s)}),v.forEach(l),f}function n(t,e){if(e>=i.length)return t;var r=[],o=u[e++];return t.forEach(function(t,o){r.push({key:t,values:n(o,e)})}),o?r.sort(function(t,n){return o(t.key,n.key)}):r}var e,r,o={},i=[],u=[];return o.map=function(n,e){return t(e,n,0)},o.entries=function(e){return n(t(Xu.map,e,0),0)},o.key=function(t){return i.push(t),o},o.sortKeys=function(t){return u[i.length-1]=t,o},o.sortValues=function(t){return e=t,o},o.rollup=function(t){return r=t,o},o},Xu.set=function(t){var n=new p;if(t)for(var e=0,r=t.length;r>e;++e)n.add(t[e]);return n},u(p,{has:s,add:function(t){return this[aa+t]=!0,t},remove:function(t){return t=aa+t,t in this&&delete this[t]},values:f,size:l,empty:h,forEach:function(t){for(var n in this)n.charCodeAt(0)===sa&&t.call(this,n.substring(1))}}),Xu.behavior={},Xu.rebind=function(t,n){for(var e,r=1,o=arguments.length;++r<o;)t[e=arguments[r]]=g(t,n,n[e]);return t};var ca=["webkit","ms","moz","Moz","o","O"];Xu.dispatch=function(){for(var t=new y,n=-1,e=arguments.length;++n<e;)t[arguments[n]]=m(t);return t},y.prototype.on=function(t,n){var e=t.indexOf("."),r="";if(e>=0&&(r=t.substring(e+1),t=t.substring(0,e)),t)return arguments.length<2?this[t].on(r):this[t].on(r,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},Xu.event=null,Xu.requote=function(t){return t.replace(fa,"\\$&")};var fa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,la={}.__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]},ha=function(t,n){return n.querySelector(t)},pa=function(t,n){return n.querySelectorAll(t)},ga=Zu.matches||Zu[d(Zu,"matchesSelector")],da=function(t,n){return ga.call(t,n)};"function"==typeof Sizzle&&(ha=function(t,n){return Sizzle(t,n)[0]||null},pa=Sizzle,da=Sizzle.matchesSelector),Xu.selection=function(){return _a};var va=Xu.selection.prototype=[];va.select=function(t){var n,e,r,o,i=[];t=M(t);for(var u=-1,a=this.length;++u<a;){i.push(n=[]),n.parentNode=(r=this[u]).parentNode;for(var s=-1,c=r.length;++s<c;)(o=r[s])?(n.push(e=t.call(o,o.__data__,s,u)),e&&"__data__"in o&&(e.__data__=o.__data__)):n.push(null)}return b(i)},va.selectAll=function(t){var n,e,r=[];t=j(t);for(var o=-1,i=this.length;++o<i;)for(var u=this[o],a=-1,s=u.length;++a<s;)(e=u[a])&&(r.push(n=Ku(t.call(e,e.__data__,a,o))),n.parentNode=e);return b(r)};var ya={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Xu.ns={prefix:ya,qualify:function(t){var n=t.indexOf(":"),e=t;return n>=0&&(e=t.substring(0,n),t=t.substring(n+1)),ya.hasOwnProperty(e)?{space:ya[e],local:t}:t}},va.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node();return t=Xu.ns.qualify(t),t.local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}for(n in t)this.each(E(n,t[n]));return this}return this.each(E(t,n))},va.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node(),r=(t=N(t)).length,o=-1;if(n=e.classList){for(;++o<r;)if(!n.contains(t[o]))return!1}else for(n=e.getAttribute("class");++o<r;)if(!S(t[o]).test(n))return!1;return!0}for(n in t)this.each(A(n,t[n]));return this}return this.each(A(t,n))},va.style=function(t,n,e){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n="");for(e in t)this.each(q(e,t[e],n));return this}if(2>r)return $u.getComputedStyle(this.node(),null).getPropertyValue(t);e=""}return this.each(q(t,n,e))},va.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(C(n,t[n]));return this}return this.each(C(t,n))},va.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},va.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},va.append=function(t){return t=z(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},va.insert=function(t,n){return t=z(t),n=M(n),this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)
})},va.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},va.data=function(t,n){function e(t,e){var r,o,i,u=t.length,l=e.length,h=Math.min(u,l),p=new Array(l),g=new Array(l),d=new Array(u);if(n){var v,y=new a,m=new a,_=[];for(r=-1;++r<u;)v=n.call(o=t[r],o.__data__,r),y.has(v)?d[r]=o:y.set(v,o),_.push(v);for(r=-1;++r<l;)v=n.call(e,i=e[r],r),(o=y.get(v))?(p[r]=o,o.__data__=i):m.has(v)||(g[r]=L(i)),m.set(v,i),y.remove(v);for(r=-1;++r<u;)y.has(_[r])&&(d[r]=t[r])}else{for(r=-1;++r<h;)o=t[r],i=e[r],o?(o.__data__=i,p[r]=o):g[r]=L(i);for(;l>r;++r)g[r]=L(e[r]);for(;u>r;++r)d[r]=t[r]}g.update=p,g.parentNode=p.parentNode=d.parentNode=t.parentNode,s.push(g),c.push(p),f.push(d)}var r,o,i=-1,u=this.length;if(!arguments.length){for(t=new Array(u=(r=this[0]).length);++i<u;)(o=r[i])&&(t[i]=o.__data__);return t}var s=D([]),c=b([]),f=b([]);if("function"==typeof t)for(;++i<u;)e(r=this[i],t.call(r,r.parentNode.__data__,i));else for(;++i<u;)e(r=this[i],t);return c.enter=function(){return s},c.exit=function(){return f},c},va.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},va.filter=function(t){var n,e,r,o=[];"function"!=typeof t&&(t=R(t));for(var i=0,u=this.length;u>i;i++){o.push(n=[]),n.parentNode=(e=this[i]).parentNode;for(var a=0,s=e.length;s>a;a++)(r=e[a])&&t.call(r,r.__data__,a,i)&&n.push(r)}return b(o)},va.order=function(){for(var t=-1,n=this.length;++t<n;)for(var e,r=this[t],o=r.length-1,i=r[o];--o>=0;)(e=r[o])&&(i&&i!==e.nextSibling&&i.parentNode.insertBefore(e,i),i=e);return this},va.sort=function(t){t=O.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()},va.each=function(t){return P(this,function(n,e,r){t.call(n,n.__data__,e,r)})},va.call=function(t){var n=Ku(arguments);return t.apply(n[0]=this,n),this},va.empty=function(){return!this.node()},va.node=function(){for(var t=0,n=this.length;n>t;t++)for(var e=this[t],r=0,o=e.length;o>r;r++){var i=e[r];if(i)return i}return null},va.size=function(){var t=0;return this.each(function(){++t}),t};var ma=[];Xu.selection.enter=D,Xu.selection.enter.prototype=ma,ma.append=va.append,ma.empty=va.empty,ma.node=va.node,ma.call=va.call,ma.size=va.size,ma.select=function(t){for(var n,e,r,o,i,u=[],a=-1,s=this.length;++a<s;){r=(o=this[a]).update,u.push(n=[]),n.parentNode=o.parentNode;for(var c=-1,f=o.length;++c<f;)(i=o[c])?(n.push(r[c]=e=t.call(o.parentNode,i.__data__,c,a)),e.__data__=i.__data__):n.push(null)}return b(u)},ma.insert=function(t,n){return arguments.length<2&&(n=I(this)),va.insert.call(this,t,n)},va.transition=function(){for(var t,n,e=kc||++qc,r=[],o=Sc||{time:Date.now(),ease:bo,delay:0,duration:250},i=-1,u=this.length;++i<u;){r.push(t=[]);for(var a=this[i],s=-1,c=a.length;++s<c;)(n=a[s])&&Du(n,s,e,o),t.push(n)}return Ru(r,e)},va.interrupt=function(){return this.each(U)},Xu.select=function(t){var n=["string"==typeof t?ha(t,Vu):t];return n.parentNode=Zu,b([n])},Xu.selectAll=function(t){var n=Ku("string"==typeof t?pa(t,Vu):t);return n.parentNode=Zu,b([n])};var _a=Xu.select(Zu);va.on=function(t,n,e){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n=!1);for(e in t)this.each(F(e,t[e],n));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;e=!1}return this.each(F(t,n,e))};var xa=Xu.map({mouseenter:"mouseover",mouseleave:"mouseout"});xa.forEach(function(t){"on"+t in Vu&&xa.remove(t)});var wa="onselectstart"in Vu?null:d(Zu.style,"userSelect"),ba=0;Xu.mouse=function(t){return G(t,x())};var Ma=/WebKit/.test($u.navigator.userAgent)?-1:0;Xu.touches=function(t,n){return arguments.length<2&&(n=x().touches),n?Ku(n).map(function(n){var e=G(t,n);return e.identifier=n.identifier,e}):[]},Xu.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",i)}function n(t,n,o,i,u){return function(){function a(){var t,e,r=n(h,d);r&&(t=r[0]-_[0],e=r[1]-_[1],g|=t|e,_=r,p({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:t,dy:e}))}function s(){n(h,d)&&(y.on(i+v,null).on(u+v,null),m(g&&Xu.event.target===l),p({type:"dragend"}))}var c,f=this,l=Xu.event.target,h=f.parentNode,p=e.of(f,arguments),g=0,d=t(),v=".drag"+(null==d?"":"-"+d),y=Xu.select(o()).on(i+v,a).on(u+v,s),m=B(),_=n(h,d);r?(c=r.apply(f,arguments),c=[c.x-_[0],c.y-_[1]]):c=[0,0],p({type:"dragstart"})}}var e=w(t,"drag","dragstart","dragend"),r=null,o=n(v,Xu.mouse,K,"mousemove","mouseup"),i=n(X,Xu.touch,Y,"touchmove","touchend");return t.origin=function(n){return arguments.length?(r=n,t):r},Xu.rebind(t,e,"on")};var ja=Math.PI,Ea=2*ja,ka=ja/2,Sa=1e-6,Na=Sa*Sa,Aa=ja/180,Ta=180/ja,qa=Math.SQRT2,Ca=2,za=4;Xu.interpolateZoom=function(t,n){function e(t){var n=t*m;if(y){var e=tn(d),u=i/(Ca*h)*(e*nn(qa*n+d)-W(d));return[r+u*c,o+u*f,i*e/tn(qa*n+d)]}return[r+t*c,o+t*f,i*Math.exp(qa*n)]}var r=t[0],o=t[1],i=t[2],u=n[0],a=n[1],s=n[2],c=u-r,f=a-o,l=c*c+f*f,h=Math.sqrt(l),p=(s*s-i*i+za*l)/(2*i*Ca*h),g=(s*s-i*i-za*l)/(2*s*Ca*h),d=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g),y=v-d,m=(y||Math.log(s/i))/qa;return e.duration=1e3*m,e},Xu.behavior.zoom=function(){function t(t){t.on(S,c).on(Oa+".zoom",l).on("dblclick.zoom",h).on(T,f)}function n(t){return[(t[0]-j.x)/j.k,(t[1]-j.y)/j.k]}function e(t){return[t[0]*j.k+j.x,t[1]*j.k+j.y]}function r(t){j.k=Math.max(k[0],Math.min(k[1],t))}function o(t,n){n=e(n),j.x+=t[0]-n[0],j.y+=t[1]-n[1]}function i(){x&&x.domain(m.range().map(function(t){return(t-j.x)/j.k}).map(m.invert)),M&&M.domain(b.range().map(function(t){return(t-j.y)/j.k}).map(b.invert))}function u(t){t({type:"zoomstart"})}function a(t){i(),t({type:"zoom",scale:j.k,translate:[j.x,j.y]})}function s(t){t({type:"zoomend"})}function c(){function t(){f=1,o(Xu.mouse(r),h),a(c)}function e(){l.on(N,null).on(A,null),p(f&&Xu.event.target===i),s(c)}var r=this,i=Xu.event.target,c=q.of(r,arguments),f=0,l=Xu.select($u).on(N,t).on(A,e),h=n(Xu.mouse(r)),p=B();U.call(r),u(c)}function f(){function t(){var t=Xu.touches(p);return h=j.k,t.forEach(function(t){t.identifier in d&&(d[t.identifier]=n(t))}),t}function e(){var n=Xu.event.target;Xu.select(n).on(x,i).on(w,l),b.push(n);for(var e=Xu.event.changedTouches,u=0,s=e.length;s>u;++u)d[e[u].identifier]=null;var c=t(),f=Date.now();if(1===c.length){if(500>f-y){var h=c[0],p=d[h.identifier];r(2*j.k),o(h,p),_(),a(g)}y=f}else if(c.length>1){var h=c[0],m=c[1],M=h[0]-m[0],E=h[1]-m[1];v=M*M+E*E}}function i(){for(var t,n,e,i,u=Xu.touches(p),s=0,c=u.length;c>s;++s,i=null)if(e=u[s],i=d[e.identifier]){if(n)break;t=e,n=i}if(i){var f=(f=e[0]-t[0])*f+(f=e[1]-t[1])*f,l=v&&Math.sqrt(f/v);t=[(t[0]+e[0])/2,(t[1]+e[1])/2],n=[(n[0]+i[0])/2,(n[1]+i[1])/2],r(l*h)}y=null,o(t,n),a(g)}function l(){if(Xu.event.touches.length){for(var n=Xu.event.changedTouches,e=0,r=n.length;r>e;++e)delete d[n[e].identifier];for(var o in d)return void t()}Xu.selectAll(b).on(m,null),M.on(S,c).on(T,f),E(),s(g)}var h,p=this,g=q.of(p,arguments),d={},v=0,m=".zoom-"+Xu.event.changedTouches[0].identifier,x="touchmove"+m,w="touchend"+m,b=[],M=Xu.select(p).on(S,null).on(T,e),E=B();U.call(p),e(),u(g)}function l(){var t=q.of(this,arguments);v?clearTimeout(v):(p=n(g=d||Xu.mouse(this)),U.call(this),u(t)),v=setTimeout(function(){v=null,s(t)},50),_(),r(Math.pow(2,.002*La())*j.k),o(g,p),a(t)}function h(){var t=q.of(this,arguments),e=Xu.mouse(this),i=n(e),c=Math.log(j.k)/Math.LN2;u(t),r(Math.pow(2,Xu.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)),o(e,i),a(t),s(t)}var p,g,d,v,y,m,x,b,M,j={x:0,y:0,k:1},E=[960,500],k=Ra,S="mousedown.zoom",N="mousemove.zoom",A="mouseup.zoom",T="touchstart.zoom",q=w(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=q.of(this,arguments),n=j;kc?Xu.select(this).transition().each("start.zoom",function(){j=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var e=E[0],r=E[1],o=e/2,i=r/2,u=Xu.interpolateZoom([(o-j.x)/j.k,(i-j.y)/j.k,e/j.k],[(o-n.x)/n.k,(i-n.y)/n.k,e/n.k]);return function(n){var r=u(n),s=e/r[2];this.__chart__=j={x:o-r[0]*s,y:i-r[1]*s,k:s},a(t)}}).each("end.zoom",function(){s(t)}):(this.__chart__=j,u(t),a(t),s(t))})},t.translate=function(n){return arguments.length?(j={x:+n[0],y:+n[1],k:j.k},i(),t):[j.x,j.y]},t.scale=function(n){return arguments.length?(j={x:j.x,y:j.y,k:+n},i(),t):j.k},t.scaleExtent=function(n){return arguments.length?(k=null==n?Ra:[+n[0],+n[1]],t):k},t.center=function(n){return arguments.length?(d=n&&[+n[0],+n[1]],t):d},t.size=function(n){return arguments.length?(E=n&&[+n[0],+n[1]],t):E},t.x=function(n){return arguments.length?(x=n,m=n.copy(),j={x:0,y:0,k:1},t):x},t.y=function(n){return arguments.length?(M=n,b=n.copy(),j={x:0,y:0,k:1},t):M},Xu.rebind(t,q,"on")};var La,Ra=[0,1/0],Oa="onwheel"in Vu?(La=function(){return-Xu.event.deltaY*(Xu.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Vu?(La=function(){return Xu.event.wheelDelta},"mousewheel"):(La=function(){return-Xu.event.detail},"MozMousePixelScroll");Xu.color=rn,rn.prototype.toString=function(){return this.rgb()+""},Xu.hsl=on;var Pa=on.prototype=new rn;Pa.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new on(this.h,this.s,this.l/t)},Pa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new on(this.h,this.s,t*this.l)},Pa.rgb=function(){return un(this.h,this.s,this.l)},Xu.hcl=an;var Da=an.prototype=new rn;Da.brighter=function(t){return new an(this.h,this.c,Math.min(100,this.l+Ia*(arguments.length?t:1)))},Da.darker=function(t){return new an(this.h,this.c,Math.max(0,this.l-Ia*(arguments.length?t:1)))},Da.rgb=function(){return sn(this.h,this.c,this.l).rgb()},Xu.lab=cn;var Ia=18,Ua=.95047,Fa=1,Ha=1.08883,Ja=cn.prototype=new rn;Ja.brighter=function(t){return new cn(Math.min(100,this.l+Ia*(arguments.length?t:1)),this.a,this.b)},Ja.darker=function(t){return new cn(Math.max(0,this.l-Ia*(arguments.length?t:1)),this.a,this.b)},Ja.rgb=function(){return fn(this.l,this.a,this.b)},Xu.rgb=dn;var Ba=dn.prototype=new rn;Ba.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,e=this.g,r=this.b,o=30;return n||e||r?(n&&o>n&&(n=o),e&&o>e&&(e=o),r&&o>r&&(r=o),new dn(Math.min(255,n/t),Math.min(255,e/t),Math.min(255,r/t))):new dn(o,o,o)},Ba.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new dn(t*this.r,t*this.g,t*this.b)},Ba.hsl=function(){return xn(this.r,this.g,this.b)},Ba.toString=function(){return"#"+mn(this.r)+mn(this.g)+mn(this.b)};var Ga=Xu.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Ga.forEach(function(t,n){Ga.set(t,vn(n))}),Xu.functor=jn,Xu.xhr=kn(En),Xu.dsv=function(t,n){function e(t,e,i){arguments.length<3&&(i=e,e=null);var u=Sn(t,n,null==e?r:o(e),i);return u.row=function(t){return arguments.length?u.response(null==(e=t)?r:o(t)):e},u}function r(t){return e.parse(t.responseText)}function o(t){return function(n){return e.parse(n.responseText,t)}}function i(n){return n.map(u).join(t)}function u(t){return a.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),s=t.charCodeAt(0);return e.parse=function(t,n){var r;return e.parseRows(t,function(t,e){if(r)return r(t,e-1);var o=new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}");r=n?function(t,e){return n(o(t),e)}:o})},e.parseRows=function(t,n){function e(){if(f>=c)return u;if(o)return o=!1,i;var n=f;if(34===t.charCodeAt(n)){for(var e=n;e++<c;)if(34===t.charCodeAt(e)){if(34!==t.charCodeAt(e+1))break;++e}f=e+2;var r=t.charCodeAt(e+1);return 13===r?(o=!0,10===t.charCodeAt(e+2)&&++f):10===r&&(o=!0),t.substring(n+1,e).replace(/""/g,'"')}for(;c>f;){var r=t.charCodeAt(f++),a=1;if(10===r)o=!0;else if(13===r)o=!0,10===t.charCodeAt(f)&&(++f,++a);else if(r!==s)continue;return t.substring(n,f-a)}return t.substring(n)}for(var r,o,i={},u={},a=[],c=t.length,f=0,l=0;(r=e())!==u;){for(var h=[];r!==i&&r!==u;)h.push(r),r=e();(!n||(h=n(h,l++)))&&a.push(h)}return a},e.format=function(n){if(Array.isArray(n[0]))return e.formatRows(n);var r=new p,o=[];return n.forEach(function(t){for(var n in t)r.has(n)||o.push(r.add(n))}),[o.map(u).join(t)].concat(n.map(function(n){return o.map(function(t){return u(n[t])}).join(t)})).join("\n")},e.formatRows=function(t){return t.map(i).join("\n")},e},Xu.csv=Xu.dsv(",","text/csv"),Xu.tsv=Xu.dsv("	","text/tab-separated-values"),Xu.touch=function(t,n,e){if(arguments.length<3&&(e=n,n=x().changedTouches),n)for(var r,o=0,i=n.length;i>o;++o)if((r=n[o]).identifier===e)return G(t,r)};var Xa,Ya,Ka,Va,Za,$a=$u[d($u,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Xu.timer=function(t,n,e){var r=arguments.length;2>r&&(n=0),3>r&&(e=Date.now());var o=e+n,i={c:t,t:o,f:!1,n:null};Ya?Ya.n=i:Xa=i,Ya=i,Ka||(Va=clearTimeout(Va),Ka=1,$a(An))},Xu.timer.flush=function(){Tn(),qn()},Xu.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)};var Qa=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(zn);Xu.formatPrefix=function(t,n){var e=0;return t&&(0>t&&(t*=-1),n&&(t=Xu.round(t,Cn(t,n))),e=1+Math.floor(1e-12+Math.log(t)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),Qa[8+e/3]};var Wa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ts=Xu.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){return(t=Xu.round(t,Cn(t,n))).toFixed(Math.max(0,Math.min(20,Cn(t*(1+1e-15),n))))}}),ns=Xu.time={},es=Date;On.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){rs.setUTCDate.apply(this._,arguments)},setDay:function(){rs.setUTCDay.apply(this._,arguments)},setFullYear:function(){rs.setUTCFullYear.apply(this._,arguments)},setHours:function(){rs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){rs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){rs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){rs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){rs.setUTCSeconds.apply(this._,arguments)},setTime:function(){rs.setTime.apply(this._,arguments)}};var rs=Date.prototype;ns.year=Pn(function(t){return t=ns.day(t),t.setMonth(0,1),t},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t){return t.getFullYear()}),ns.years=ns.year.range,ns.years.utc=ns.year.utc.range,ns.day=Pn(function(t){var n=new es(2e3,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n},function(t,n){t.setDate(t.getDate()+n)},function(t){return t.getDate()-1}),ns.days=ns.day.range,ns.days.utc=ns.day.utc.range,ns.dayOfYear=function(t){var n=ns.year(t);return Math.floor((t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=ns[t]=Pn(function(t){return(t=ns.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,n){t.setDate(t.getDate()+7*Math.floor(n))},function(t){var e=ns.year(t).getDay();return Math.floor((ns.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});ns[t+"s"]=e.range,ns[t+"s"].utc=e.utc.range,ns[t+"OfYear"]=function(t){var e=ns.year(t).getDay();return Math.floor((ns.dayOfYear(t)+(e+n)%7)/7)}}),ns.week=ns.sunday,ns.weeks=ns.sunday.range,ns.weeks.utc=ns.sunday.utc.range,ns.weekOfYear=ns.sundayOfYear;var os={"-":"",_:" ",0:"0"},is=/^\s*\d+/,us=/^%/;Xu.locale=function(t){return{numberFormat:Ln(t),timeFormat:In(t)}};var as=Xu.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Xu.format=as.numberFormat,Xu.geo={},ue.prototype={s:0,t:0,add:function(t){ae(t,this.t,ss),ae(ss.s,this.s,this),this.s?this.t+=ss.t:this.s=ss.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ss=new ue;Xu.geo.stream=function(t,n){t&&cs.hasOwnProperty(t.type)?cs[t.type](t,n):se(t,n)};var cs={Feature:function(t,n){se(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,o=e.length;++r<o;)se(e[r].geometry,n)}},fs={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){ce(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)ce(e[r],n,0)},Polygon:function(t,n){fe(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,o=e.length;++r<o;)fe(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,o=e.length;++r<o;)se(e[r],n)}};Xu.geo.area=function(t){return ls=0,Xu.geo.stream(t,ps),ls};var ls,hs=new ue,ps={sphere:function(){ls+=4*ja},point:v,lineStart:v,lineEnd:v,polygonStart:function(){hs.reset(),ps.lineStart=le},polygonEnd:function(){var t=2*hs;ls+=0>t?4*ja+t:t,ps.lineStart=ps.lineEnd=ps.point=v}};Xu.geo.bounds=function(){function t(t,n){_.push(x=[f=t,h=t]),l>n&&(l=n),n>p&&(p=n)}function n(n,e){var r=he([n*Aa,e*Aa]);if(y){var o=ge(y,r),i=[o[1],-o[0],0],u=ge(i,o);ye(u),u=me(u);var s=n-g,c=s>0?1:-1,d=u[0]*Ta*c,v=ua(s)>180;if(v^(d>c*g&&c*n>d)){var m=u[1]*Ta;m>p&&(p=m)}else if(d=(d+360)%360-180,v^(d>c*g&&c*n>d)){var m=-u[1]*Ta;l>m&&(l=m)}else l>e&&(l=e),e>p&&(p=e);v?g>n?a(f,n)>a(f,h)&&(h=n):a(n,h)>a(f,h)&&(f=n):h>=f?(f>n&&(f=n),n>h&&(h=n)):n>g?a(f,n)>a(f,h)&&(h=n):a(n,h)>a(f,h)&&(f=n)}else t(n,e);y=r,g=n}function e(){w.point=n}function r(){x[0]=f,x[1]=h,w.point=t,y=null}function o(t,e){if(y){var r=t-g;m+=ua(r)>180?r+(r>0?360:-360):r}else d=t,v=e;ps.point(t,e),n(t,e)}function i(){ps.lineStart()}function u(){o(d,v),ps.lineEnd(),ua(m)>Sa&&(f=-(h=180)),x[0]=f,x[1]=h,y=null}function a(t,n){return(n-=t)<0?n+360:n}function s(t,n){return t[0]-n[0]}function c(t,n){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}var f,l,h,p,g,d,v,y,m,_,x,w={point:t,lineStart:e,lineEnd:r,polygonStart:function(){w.point=o,w.lineStart=i,w.lineEnd=u,m=0,ps.polygonStart()},polygonEnd:function(){ps.polygonEnd(),w.point=t,w.lineStart=e,w.lineEnd=r,0>hs?(f=-(h=180),l=-(p=90)):m>Sa?p=90:-Sa>m&&(l=-90),x[0]=f,x[1]=h}};return function(t){p=h=-(f=l=1/0),_=[],Xu.geo.stream(t,w);var n=_.length;if(n){_.sort(s);for(var e,r=1,o=_[0],i=[o];n>r;++r)e=_[r],c(e[0],o)||c(e[1],o)?(a(o[0],e[1])>a(o[0],o[1])&&(o[1]=e[1]),a(e[0],o[1])>a(o[0],o[1])&&(o[0]=e[0])):i.push(o=e);for(var u,e,g=-1/0,n=i.length-1,r=0,o=i[n];n>=r;o=e,++r)e=i[r],(u=a(o[1],e[0]))>g&&(g=u,f=e[0],h=o[1])}return _=x=null,1/0===f||1/0===l?[[0/0,0/0],[0/0,0/0]]:[[f,l],[h,p]]}}(),Xu.geo.centroid=function(t){gs=ds=vs=ys=ms=_s=xs=ws=bs=Ms=js=0,Xu.geo.stream(t,Es);var n=bs,e=Ms,r=js,o=n*n+e*e+r*r;return Na>o&&(n=_s,e=xs,r=ws,Sa>ds&&(n=vs,e=ys,r=ms),o=n*n+e*e+r*r,Na>o)?[0/0,0/0]:[Math.atan2(e,n)*Ta,Q(r/Math.sqrt(o))*Ta]};var gs,ds,vs,ys,ms,_s,xs,ws,bs,Ms,js,Es={sphere:v,point:xe,lineStart:be,lineEnd:Me,polygonStart:function(){Es.lineStart=je},polygonEnd:function(){Es.lineStart=be}},ks=Ae(Ee,Le,Oe,[-ja,-ja/2]),Ss=1e9;Xu.geo.clipExtent=function(){var t,n,e,r,o,i,u={stream:function(t){return o&&(o.valid=!1),o=i(t),o.valid=!0,o},extent:function(a){return arguments.length?(i=Ie(t=+a[0][0],n=+a[0][1],e=+a[1][0],r=+a[1][1]),o&&(o.valid=!1,o=null),u):[[t,n],[e,r]]}};return u.extent([[0,0],[960,500]])},(Xu.geo.conicEqualArea=function(){return Fe(He)}).raw=He,Xu.geo.albers=function(){return Xu.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Xu.geo.albersUsa=function(){function t(t){var i=t[0],u=t[1];return n=null,e(i,u),n||(r(i,u),n)||o(i,u),n}var n,e,r,o,i=Xu.geo.albers(),u=Xu.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=Xu.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,e){n=[t,e]}};return t.invert=function(t){var n=i.scale(),e=i.translate(),r=(t[0]-e[0])/n,o=(t[1]-e[1])/n;return(o>=.12&&.234>o&&r>=-.425&&-.214>r?u:o>=.166&&.234>o&&r>=-.214&&-.115>r?a:i).invert(t)},t.stream=function(t){var n=i.stream(t),e=u.stream(t),r=a.stream(t);return{point:function(t,o){n.point(t,o),e.point(t,o),r.point(t,o)},sphere:function(){n.sphere(),e.sphere(),r.sphere()},lineStart:function(){n.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},t.precision=function(n){return arguments.length?(i.precision(n),u.precision(n),a.precision(n),t):i.precision()},t.scale=function(n){return arguments.length?(i.scale(n),u.scale(.35*n),a.scale(n),t.translate(i.translate())):i.scale()},t.translate=function(n){if(!arguments.length)return i.translate();var c=i.scale(),f=+n[0],l=+n[1];return e=i.translate(n).clipExtent([[f-.455*c,l-.238*c],[f+.455*c,l+.238*c]]).stream(s).point,r=u.translate([f-.307*c,l+.201*c]).clipExtent([[f-.425*c+Sa,l+.12*c+Sa],[f-.214*c-Sa,l+.234*c-Sa]]).stream(s).point,o=a.translate([f-.205*c,l+.212*c]).clipExtent([[f-.214*c+Sa,l+.166*c+Sa],[f-.115*c-Sa,l+.234*c-Sa]]).stream(s).point,t},t.scale(1070)};var Ns,As,Ts,qs,Cs,zs,Ls={point:v,lineStart:v,lineEnd:v,polygonStart:function(){As=0,Ls.lineStart=Je},polygonEnd:function(){Ls.lineStart=Ls.lineEnd=Ls.point=v,Ns+=ua(As/2)}},Rs={point:Be,lineStart:v,lineEnd:v,polygonStart:v,polygonEnd:v},Os={point:Ye,lineStart:Ke,lineEnd:Ve,polygonStart:function(){Os.lineStart=Ze},polygonEnd:function(){Os.point=Ye,Os.lineStart=Ke,Os.lineEnd=Ve}};Xu.geo.path=function(){function t(t){return t&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),u&&u.valid||(u=o(i)),Xu.geo.stream(t,u)),i.result()}function n(){return u=null,t}var e,r,o,i,u,a=4.5;return t.area=function(t){return Ns=0,Xu.geo.stream(t,o(Ls)),Ns},t.centroid=function(t){return vs=ys=ms=_s=xs=ws=bs=Ms=js=0,Xu.geo.stream(t,o(Os)),js?[bs/js,Ms/js]:ws?[_s/ws,xs/ws]:ms?[vs/ms,ys/ms]:[0/0,0/0]},t.bounds=function(t){return Cs=zs=-(Ts=qs=1/0),Xu.geo.stream(t,o(Rs)),[[Ts,qs],[Cs,zs]]},t.projection=function(t){return arguments.length?(o=(e=t)?t.stream||We(t):En,n()):e},t.context=function(t){return arguments.length?(i=null==(r=t)?new Ge:new $e(t),"function"!=typeof a&&i.pointRadius(a),n()):r},t.pointRadius=function(n){return arguments.length?(a="function"==typeof n?n:(i.pointRadius(+n),+n),t):a},t.projection(Xu.geo.albersUsa()).context(null)},Xu.geo.transform=function(t){return{stream:function(n){var e=new tr(n);for(var r in t)e[r]=t[r];return e}}},tr.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Xu.geo.projection=er,Xu.geo.projectionMutator=rr,(Xu.geo.equirectangular=function(){return er(ir)}).raw=ir.invert=ir,Xu.geo.rotation=function(t){function n(n){return n=t(n[0]*Aa,n[1]*Aa),n[0]*=Ta,n[1]*=Ta,n}return t=ar(t[0]%360*Aa,t[1]*Aa,t.length>2?t[2]*Aa:0),n.invert=function(n){return n=t.invert(n[0]*Aa,n[1]*Aa),n[0]*=Ta,n[1]*=Ta,n},n},ur.invert=ir,Xu.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,n=ar(-t[0]*Aa,-t[1]*Aa,0).invert,o=[];return e(null,null,1,{point:function(t,e){o.push(t=n(t,e)),t[0]*=Ta,t[1]*=Ta}}),{type:"Polygon",coordinates:[o]}}var n,e,r=[0,0],o=6;return t.origin=function(n){return arguments.length?(r=n,t):r},t.angle=function(r){return arguments.length?(e=lr((n=+r)*Aa,o*Aa),t):n},t.precision=function(r){return arguments.length?(e=lr(n*Aa,(o=+r)*Aa),t):o},t.angle(90)},Xu.geo.distance=function(t,n){var e,r=(n[0]-t[0])*Aa,o=t[1]*Aa,i=n[1]*Aa,u=Math.sin(r),a=Math.cos(r),s=Math.sin(o),c=Math.cos(o),f=Math.sin(i),l=Math.cos(i);return Math.atan2(Math.sqrt((e=l*u)*e+(e=c*f-s*l*a)*e),s*f+c*l*a)},Xu.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return Xu.range(Math.ceil(i/v)*v,o,v).map(h).concat(Xu.range(Math.ceil(c/y)*y,s,y).map(p)).concat(Xu.range(Math.ceil(r/g)*g,e,g).filter(function(t){return ua(t%v)>Sa}).map(f)).concat(Xu.range(Math.ceil(a/d)*d,u,d).filter(function(t){return ua(t%y)>Sa}).map(l))}var e,r,o,i,u,a,s,c,f,l,h,p,g=10,d=g,v=90,y=360,m=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(p(s).slice(1),h(o).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.majorExtent(n).minorExtent(n):t.minorExtent()},t.majorExtent=function(n){return arguments.length?(i=+n[0][0],o=+n[1][0],c=+n[0][1],s=+n[1][1],i>o&&(n=i,i=o,o=n),c>s&&(n=c,c=s,s=n),t.precision(m)):[[i,c],[o,s]]},t.minorExtent=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],a=+n[0][1],u=+n[1][1],r>e&&(n=r,r=e,e=n),a>u&&(n=a,a=u,u=n),t.precision(m)):[[r,a],[e,u]]},t.step=function(n){return arguments.length?t.majorStep(n).minorStep(n):t.minorStep()},t.majorStep=function(n){return arguments.length?(v=+n[0],y=+n[1],t):[v,y]},t.minorStep=function(n){return arguments.length?(g=+n[0],d=+n[1],t):[g,d]},t.precision=function(n){return arguments.length?(m=+n,f=pr(a,u,90),l=gr(r,e,m),h=pr(c,s,90),p=gr(i,o,m),t):m},t.majorExtent([[-180,-90+Sa],[180,90-Sa]]).minorExtent([[-180,-80-Sa],[180,80+Sa]])},Xu.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),e||o.apply(this,arguments)]}}var n,e,r=dr,o=vr;return t.distance=function(){return Xu.geo.distance(n||r.apply(this,arguments),e||o.apply(this,arguments))},t.source=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.target=function(n){return arguments.length?(o=n,e="function"==typeof n?null:n,t):o},t.precision=function(){return arguments.length?t:0},t},Xu.geo.interpolate=function(t,n){return yr(t[0]*Aa,t[1]*Aa,n[0]*Aa,n[1]*Aa)},Xu.geo.length=function(t){return Ps=0,Xu.geo.stream(t,Ds),Ps};var Ps,Ds={sphere:v,point:v,lineStart:mr,lineEnd:v,polygonStart:v,polygonEnd:v},Is=_r(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Xu.geo.azimuthalEqualArea=function(){return er(Is)}).raw=Is;var Us=_r(function(t){var n=Math.acos(t);return n&&n/Math.sin(n)},En);(Xu.geo.azimuthalEquidistant=function(){return er(Us)}).raw=Us,(Xu.geo.conicConformal=function(){return Fe(xr)}).raw=xr,(Xu.geo.conicEquidistant=function(){return Fe(wr)}).raw=wr;var Fs=_r(function(t){return 1/t},Math.atan);(Xu.geo.gnomonic=function(){return er(Fs)}).raw=Fs,br.invert=function(t,n){return[t,2*Math.atan(Math.exp(n))-ka]},(Xu.geo.mercator=function(){return Mr(br)}).raw=br;var Hs=_r(function(){return 1},Math.asin);(Xu.geo.orthographic=function(){return er(Hs)}).raw=Hs;var Js=_r(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Xu.geo.stereographic=function(){return er(Js)}).raw=Js,jr.invert=function(t,n){return[-n,2*Math.atan(Math.exp(t))-ka]},(Xu.geo.transverseMercator=function(){var t=Mr(jr),n=t.center,e=t.rotate;return t.center=function(t){return t?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return t?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90])}).raw=jr,Xu.geom={},Xu.geom.hull=function(t){function n(t){if(t.length<3)return[];var n,o=jn(e),i=jn(r),u=t.length,a=[],s=[];for(n=0;u>n;n++)a.push([+o.call(this,t[n],n),+i.call(this,t[n],n),n]);for(a.sort(Nr),n=0;u>n;n++)s.push([a[n][0],-a[n][1]]);var c=Sr(a),f=Sr(s),l=f[0]===c[0],h=f[f.length-1]===c[c.length-1],p=[];for(n=c.length-1;n>=0;--n)p.push(t[a[c[n]][2]]);for(n=+l;n<f.length-h;++n)p.push(t[a[f[n]][2]]);return p}var e=Er,r=kr;return arguments.length?n(t):(n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n)},Xu.geom.polygon=function(t){return la(t,Bs),t};var Bs=Xu.geom.polygon.prototype=[];Bs.area=function(){for(var t,n=-1,e=this.length,r=this[e-1],o=0;++n<e;)t=r,r=this[n],o+=t[1]*r[0]-t[0]*r[1];return.5*o},Bs.centroid=function(t){var n,e,r=-1,o=this.length,i=0,u=0,a=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++r<o;)n=a,a=this[r],e=n[0]*a[1]-a[0]*n[1],i+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return[i*t,u*t]},Bs.clip=function(t){for(var n,e,r,o,i,u,a=qr(t),s=-1,c=this.length-qr(this),f=this[c-1];++s<c;){for(n=t.slice(),t.length=0,o=this[s],i=n[(r=n.length-a)-1],e=-1;++e<r;)u=n[e],Ar(u,f,o)?(Ar(i,f,o)||t.push(Tr(i,u,f,o)),t.push(u)):Ar(i,f,o)&&t.push(Tr(i,u,f,o)),i=u;a&&t.push(t[0]),f=o}return t};var Gs,Xs,Ys,Ks,Vs,Zs=[],$s=[];Ir.prototype.prepare=function(){for(var t,n=this.edges,e=n.length;e--;)t=n[e].edge,t.b&&t.a||n.splice(e,1);return n.sort(Fr),n.length
},$r.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Qr.prototype={insert:function(t,n){var e,r,o;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=eo(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)r=e.U,e===r.L?(o=r.R,o&&o.C?(e.C=o.C=!1,r.C=!0,t=r):(t===e.R&&(to(this,e),t=e,e=t.U),e.C=!1,r.C=!0,no(this,r))):(o=r.L,o&&o.C?(e.C=o.C=!1,r.C=!0,t=r):(t===e.L&&(no(this,e),t=e,e=t.U),e.C=!1,r.C=!0,to(this,r))),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,o=t.U,i=t.L,u=t.R;if(e=i?u?eo(u):i:u,o?o.L===t?o.L=e:o.R=e:this._=e,i&&u?(r=e.C,e.C=t.C,e.L=i,i.U=e,e!==u?(o=e.U,e.U=t.U,t=e.R,o.L=t,e.R=u,u.U=e):(e.U=o,o=e,t=e.R)):(r=t.C,t=e),t&&(t.U=o),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===o.L){if(n=o.R,n.C&&(n.C=!1,o.C=!0,to(this,o),n=o.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,no(this,n),n=o.R),n.C=o.C,o.C=n.R.C=!1,to(this,o),t=this._;break}}else if(n=o.L,n.C&&(n.C=!1,o.C=!0,no(this,o),n=o.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,to(this,n),n=o.L),n.C=o.C,o.C=n.L.C=!1,no(this,o),t=this._;break}n.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},Xu.geom.voronoi=function(t){function n(t){var n=new Array(t.length),r=a[0][0],o=a[0][1],i=a[1][0],u=a[1][1];return ro(e(t),a).cells.forEach(function(e,a){var s=e.edges,c=e.site,f=n[a]=s.length?s.map(function(t){var n=t.start();return[n.x,n.y]}):c.x>=r&&c.x<=i&&c.y>=o&&c.y<=u?[[r,u],[i,u],[i,o],[r,o]]:[];f.point=t[a]}),n}function e(t){return t.map(function(t,n){return{x:Math.round(i(t,n)/Sa)*Sa,y:Math.round(u(t,n)/Sa)*Sa,i:n}})}var r=Er,o=kr,i=r,u=o,a=Qs;return t?n(t):(n.links=function(t){return ro(e(t)).edges.filter(function(t){return t.l&&t.r}).map(function(n){return{source:t[n.l.i],target:t[n.r.i]}})},n.triangles=function(t){var n=[];return ro(e(t)).cells.forEach(function(e,r){for(var o,i,u=e.site,a=e.edges.sort(Fr),s=-1,c=a.length,f=a[c-1].edge,l=f.l===u?f.r:f.l;++s<c;)o=f,i=l,f=a[s].edge,l=f.l===u?f.r:f.l,r<i.i&&r<l.i&&io(u,i,l)<0&&n.push([t[r],t[i.i],t[l.i]])}),n},n.x=function(t){return arguments.length?(i=jn(r=t),n):r},n.y=function(t){return arguments.length?(u=jn(o=t),n):o},n.clipExtent=function(t){return arguments.length?(a=null==t?Qs:t,n):a===Qs?null:a},n.size=function(t){return arguments.length?n.clipExtent(t&&[[0,0],t]):a===Qs?null:a&&a[1]},n)};var Qs=[[-1e6,-1e6],[1e6,1e6]];Xu.geom.delaunay=function(t){return Xu.geom.voronoi().triangles(t)},Xu.geom.quadtree=function(t,n,e,r,o){function i(t){function i(t,n,e,r,o,i,u,a){if(!isNaN(e)&&!isNaN(r))if(t.leaf){var s=t.x,f=t.y;if(null!=s)if(ua(s-e)+ua(f-r)<.01)c(t,n,e,r,o,i,u,a);else{var l=t.point;t.x=t.y=t.point=null,c(t,l,s,f,o,i,u,a),c(t,n,e,r,o,i,u,a)}else t.x=e,t.y=r,t.point=n}else c(t,n,e,r,o,i,u,a)}function c(t,n,e,r,o,u,a,s){var c=.5*(o+a),f=.5*(u+s),l=e>=c,h=r>=f,p=(h<<1)+l;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=so()),l?o=c:a=c,h?u=f:s=f,i(t,n,e,r,o,u,a,s)}var f,l,h,p,g,d,v,y,m,_=jn(a),x=jn(s);if(null!=n)d=n,v=e,y=r,m=o;else if(y=m=-(d=v=1/0),l=[],h=[],g=t.length,u)for(p=0;g>p;++p)f=t[p],f.x<d&&(d=f.x),f.y<v&&(v=f.y),f.x>y&&(y=f.x),f.y>m&&(m=f.y),l.push(f.x),h.push(f.y);else for(p=0;g>p;++p){var w=+_(f=t[p],p),b=+x(f,p);d>w&&(d=w),v>b&&(v=b),w>y&&(y=w),b>m&&(m=b),l.push(w),h.push(b)}var M=y-d,j=m-v;M>j?m=v+M:y=d+j;var E=so();if(E.add=function(t){i(E,t,+_(t,++p),+x(t,p),d,v,y,m)},E.visit=function(t){co(t,E,d,v,y,m)},p=-1,null==n){for(;++p<g;)i(E,t[p],l[p],h[p],d,v,y,m);--p}else t.forEach(E.add);return l=h=t=f=null,E}var u,a=Er,s=kr;return(u=arguments.length)?(a=uo,s=ao,3===u&&(o=e,r=n,e=n=0),i(t)):(i.x=function(t){return arguments.length?(a=t,i):a},i.y=function(t){return arguments.length?(s=t,i):s},i.extent=function(t){return arguments.length?(null==t?n=e=r=o=null:(n=+t[0][0],e=+t[0][1],r=+t[1][0],o=+t[1][1]),i):null==n?null:[[n,e],[r,o]]},i.size=function(t){return arguments.length?(null==t?n=e=r=o=null:(n=e=0,r=+t[0],o=+t[1]),i):null==n?null:[r-n,o-e]},i)},Xu.interpolateRgb=fo,Xu.interpolateObject=lo,Xu.interpolateNumber=ho,Xu.interpolateString=po;var Ws=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tc=new RegExp(Ws.source,"g");Xu.interpolate=go,Xu.interpolators=[function(t,n){var e=typeof n;return("string"===e?Ga.has(n)||/^(#|rgb\(|hsl\()/.test(n)?fo:po:n instanceof rn?fo:Array.isArray(n)?vo:"object"===e&&isNaN(n)?lo:ho)(t,n)}],Xu.interpolateArray=vo;var nc=function(){return En},ec=Xu.map({linear:nc,poly:Mo,quad:function(){return xo},cubic:function(){return wo},sin:function(){return jo},exp:function(){return Eo},circle:function(){return ko},elastic:So,back:No,bounce:function(){return Ao}}),rc=Xu.map({"in":En,out:mo,"in-out":_o,"out-in":function(t){return _o(mo(t))}});Xu.ease=function(t){var n=t.indexOf("-"),e=n>=0?t.substring(0,n):t,r=n>=0?t.substring(n+1):"in";return e=ec.get(e)||nc,r=rc.get(r)||En,yo(r(e.apply(null,Yu.call(arguments,1))))},Xu.interpolateHcl=To,Xu.interpolateHsl=qo,Xu.interpolateLab=Co,Xu.interpolateRound=zo,Xu.transform=function(t){var n=Vu.createElementNS(Xu.ns.prefix.svg,"g");return(Xu.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new Lo(e?e.matrix:oc)})(t)},Lo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var oc={a:1,b:0,c:0,d:1,e:0,f:0};Xu.interpolateTransform=Do,Xu.layout={},Xu.layout.bundle=function(){return function(t){for(var n=[],e=-1,r=t.length;++e<r;)n.push(Fo(t[e]));return n}},Xu.layout.chord=function(){function t(){var t,c,l,h,p,g={},d=[],v=Xu.range(i),y=[];for(e=[],r=[],t=0,h=-1;++h<i;){for(c=0,p=-1;++p<i;)c+=o[h][p];d.push(c),y.push(Xu.range(i)),t+=c}for(u&&v.sort(function(t,n){return u(d[t],d[n])}),a&&y.forEach(function(t,n){t.sort(function(t,e){return a(o[n][t],o[n][e])})}),t=(Ea-f*i)/t,c=0,h=-1;++h<i;){for(l=c,p=-1;++p<i;){var m=v[h],_=y[m][p],x=o[m][_],w=c,b=c+=x*t;g[m+"-"+_]={index:m,subindex:_,startAngle:w,endAngle:b,value:x}}r[m]={index:m,startAngle:l,endAngle:c,value:(c-l)/t},c+=f}for(h=-1;++h<i;)for(p=h-1;++p<i;){var M=g[h+"-"+p],j=g[p+"-"+h];(M.value||j.value)&&e.push(M.value<j.value?{source:j,target:M}:{source:M,target:j})}s&&n()}function n(){e.sort(function(t,n){return s((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)})}var e,r,o,i,u,a,s,c={},f=0;return c.matrix=function(t){return arguments.length?(i=(o=t)&&o.length,e=r=null,c):o},c.padding=function(t){return arguments.length?(f=t,e=r=null,c):f},c.sortGroups=function(t){return arguments.length?(u=t,e=r=null,c):u},c.sortSubgroups=function(t){return arguments.length?(a=t,e=null,c):a},c.sortChords=function(t){return arguments.length?(s=t,e&&n(),c):s},c.chords=function(){return e||t(),e},c.groups=function(){return r||t(),r},c},Xu.layout.force=function(){function t(t){return function(n,e,r,o){if(n.point!==t){var i=n.cx-t.x,u=n.cy-t.y,a=o-e,s=i*i+u*u;if(s>a*a/v){if(g>s){var c=n.charge/s;t.px-=i*c,t.py-=u*c}return!0}if(n.point&&s&&g>s){var c=n.pointCharge/s;t.px-=i*c,t.py-=u*c}}return!n.charge}}function n(t){t.px=Xu.event.x,t.py=Xu.event.y,a.resume()}var e,r,o,i,u,a={},s=Xu.dispatch("start","tick","end"),c=[1,1],f=.9,l=ic,h=uc,p=-30,g=ac,d=.1,v=.64,y=[],m=[];return a.tick=function(){if((r*=.99)<.005)return s.end({type:"end",alpha:r=0}),!0;var n,e,a,l,h,g,v,_,x,w=y.length,b=m.length;for(e=0;b>e;++e)a=m[e],l=a.source,h=a.target,_=h.x-l.x,x=h.y-l.y,(g=_*_+x*x)&&(g=r*i[e]*((g=Math.sqrt(g))-o[e])/g,_*=g,x*=g,h.x-=_*(v=l.weight/(h.weight+l.weight)),h.y-=x*v,l.x+=_*(v=1-v),l.y+=x*v);if((v=r*d)&&(_=c[0]/2,x=c[1]/2,e=-1,v))for(;++e<w;)a=y[e],a.x+=(_-a.x)*v,a.y+=(x-a.y)*v;if(p)for(Ko(n=Xu.geom.quadtree(y),r,u),e=-1;++e<w;)(a=y[e]).fixed||n.visit(t(a));for(e=-1;++e<w;)a=y[e],a.fixed?(a.x=a.px,a.y=a.py):(a.x-=(a.px-(a.px=a.x))*f,a.y-=(a.py-(a.py=a.y))*f);s.tick({type:"tick",alpha:r})},a.nodes=function(t){return arguments.length?(y=t,a):y},a.links=function(t){return arguments.length?(m=t,a):m},a.size=function(t){return arguments.length?(c=t,a):c},a.linkDistance=function(t){return arguments.length?(l="function"==typeof t?t:+t,a):l},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.friction=function(t){return arguments.length?(f=+t,a):f},a.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,a):p},a.chargeDistance=function(t){return arguments.length?(g=t*t,a):Math.sqrt(g)},a.gravity=function(t){return arguments.length?(d=+t,a):d},a.theta=function(t){return arguments.length?(v=t*t,a):Math.sqrt(v)},a.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(s.start({type:"start",alpha:r=t}),Xu.timer(a.tick)),a):r},a.start=function(){function t(t,r){if(!e){for(e=new Array(s),a=0;s>a;++a)e[a]=[];for(a=0;c>a;++a){var o=m[a];e[o.source.index].push(o.target),e[o.target.index].push(o.source)}}for(var i,u=e[n],a=-1,c=u.length;++a<c;)if(!isNaN(i=u[a][t]))return i;return Math.random()*r}var n,e,r,s=y.length,f=m.length,g=c[0],d=c[1];for(n=0;s>n;++n)(r=y[n]).index=n,r.weight=0;for(n=0;f>n;++n)r=m[n],"number"==typeof r.source&&(r.source=y[r.source]),"number"==typeof r.target&&(r.target=y[r.target]),++r.source.weight,++r.target.weight;for(n=0;s>n;++n)r=y[n],isNaN(r.x)&&(r.x=t("x",g)),isNaN(r.y)&&(r.y=t("y",d)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(o=[],"function"==typeof l)for(n=0;f>n;++n)o[n]=+l.call(this,m[n],n);else for(n=0;f>n;++n)o[n]=l;if(i=[],"function"==typeof h)for(n=0;f>n;++n)i[n]=+h.call(this,m[n],n);else for(n=0;f>n;++n)i[n]=h;if(u=[],"function"==typeof p)for(n=0;s>n;++n)u[n]=+p.call(this,y[n],n);else for(n=0;s>n;++n)u[n]=p;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return e||(e=Xu.behavior.drag().origin(En).on("dragstart.force",Bo).on("drag.force",n).on("dragend.force",Go)),arguments.length?void this.on("mouseover.force",Xo).on("mouseout.force",Yo).call(e):e},Xu.rebind(a,s,"on")};var ic=20,uc=1,ac=1/0;Xu.layout.hierarchy=function(){function t(o){var i,u=[o],a=[];for(o.depth=0;null!=(i=u.pop());)if(a.push(i),(c=e.call(t,i,i.depth))&&(s=c.length)){for(var s,c,f;--s>=0;)u.push(f=c[s]),f.parent=i,f.depth=i.depth+1;r&&(i.value=0),i.children=c}else r&&(i.value=+r.call(t,i,i.depth)||0),delete i.children;return $o(o,function(t){var e,o;n&&(e=t.children)&&e.sort(n),r&&(o=t.parent)&&(o.value+=t.value)}),a}var n=ti,e=Qo,r=Wo;return t.sort=function(e){return arguments.length?(n=e,t):n},t.children=function(n){return arguments.length?(e=n,t):e},t.value=function(n){return arguments.length?(r=n,t):r},t.revalue=function(n){return r&&(Zo(n,function(t){t.children&&(t.value=0)}),$o(n,function(n){var e;n.children||(n.value=+r.call(t,n,n.depth)||0),(e=n.parent)&&(e.value+=n.value)})),n},t},Xu.layout.partition=function(){function t(n,e,r,o){var i=n.children;if(n.x=e,n.y=n.depth*o,n.dx=r,n.dy=o,i&&(u=i.length)){var u,a,s,c=-1;for(r=n.value?r/n.value:0;++c<u;)t(a=i[c],e,s=a.value*r,o),e+=s}}function n(t){var e=t.children,r=0;if(e&&(o=e.length))for(var o,i=-1;++i<o;)r=Math.max(r,n(e[i]));return 1+r}function e(e,i){var u=r.call(this,e,i);return t(u[0],0,o[0],o[1]/n(u[0])),u}var r=Xu.layout.hierarchy(),o=[1,1];return e.size=function(t){return arguments.length?(o=t,e):o},Vo(e,r)},Xu.layout.pie=function(){function t(i){var u=i.map(function(e,r){return+n.call(t,e,r)}),a=+("function"==typeof r?r.apply(this,arguments):r),s=(("function"==typeof o?o.apply(this,arguments):o)-a)/Xu.sum(u),c=Xu.range(i.length);null!=e&&c.sort(e===sc?function(t,n){return u[n]-u[t]}:function(t,n){return e(i[t],i[n])});var f=[];return c.forEach(function(t){var n;f[t]={data:i[t],value:n=u[t],startAngle:a,endAngle:a+=n*s}}),f}var n=Number,e=sc,r=0,o=Ea;return t.value=function(e){return arguments.length?(n=e,t):n},t.sort=function(n){return arguments.length?(e=n,t):e},t.startAngle=function(n){return arguments.length?(r=n,t):r},t.endAngle=function(n){return arguments.length?(o=n,t):o},t};var sc={};Xu.layout.stack=function(){function t(a,s){var c=a.map(function(e,r){return n.call(t,e,r)}),f=c.map(function(n){return n.map(function(n,e){return[i.call(t,n,e),u.call(t,n,e)]})}),l=e.call(t,f,s);c=Xu.permute(c,l),f=Xu.permute(f,l);var h,p,g,d=r.call(t,f,s),v=c.length,y=c[0].length;for(p=0;y>p;++p)for(o.call(t,c[0][p],g=d[p],f[0][p][1]),h=1;v>h;++h)o.call(t,c[h][p],g+=f[h-1][p][1],f[h][p][1]);return a}var n=En,e=ii,r=ui,o=oi,i=ei,u=ri;return t.values=function(e){return arguments.length?(n=e,t):n},t.order=function(n){return arguments.length?(e="function"==typeof n?n:cc.get(n)||ii,t):e},t.offset=function(n){return arguments.length?(r="function"==typeof n?n:fc.get(n)||ui,t):r},t.x=function(n){return arguments.length?(i=n,t):i},t.y=function(n){return arguments.length?(u=n,t):u},t.out=function(n){return arguments.length?(o=n,t):o},t};var cc=Xu.map({"inside-out":function(t){var n,e,r=t.length,o=t.map(ai),i=t.map(si),u=Xu.range(r).sort(function(t,n){return o[t]-o[n]}),a=0,s=0,c=[],f=[];for(n=0;r>n;++n)e=u[n],s>a?(a+=i[e],c.push(e)):(s+=i[e],f.push(e));return f.reverse().concat(c)},reverse:function(t){return Xu.range(t.length).reverse()},"default":ii}),fc=Xu.map({silhouette:function(t){var n,e,r,o=t.length,i=t[0].length,u=[],a=0,s=[];for(e=0;i>e;++e){for(n=0,r=0;o>n;n++)r+=t[n][e][1];r>a&&(a=r),u.push(r)}for(e=0;i>e;++e)s[e]=(a-u[e])/2;return s},wiggle:function(t){var n,e,r,o,i,u,a,s,c,f=t.length,l=t[0],h=l.length,p=[];for(p[0]=s=c=0,e=1;h>e;++e){for(n=0,o=0;f>n;++n)o+=t[n][e][1];for(n=0,i=0,a=l[e][0]-l[e-1][0];f>n;++n){for(r=0,u=(t[n][e][1]-t[n][e-1][1])/(2*a);n>r;++r)u+=(t[r][e][1]-t[r][e-1][1])/a;i+=u*t[n][e][1]}p[e]=s-=o?i/o*a:0,c>s&&(c=s)}for(e=0;h>e;++e)p[e]-=c;return p},expand:function(t){var n,e,r,o=t.length,i=t[0].length,u=1/o,a=[];for(e=0;i>e;++e){for(n=0,r=0;o>n;n++)r+=t[n][e][1];if(r)for(n=0;o>n;n++)t[n][e][1]/=r;else for(n=0;o>n;n++)t[n][e][1]=u}for(e=0;i>e;++e)a[e]=0;return a},zero:ui});Xu.layout.histogram=function(){function t(t,i){for(var u,a,s=[],c=t.map(e,this),f=r.call(this,c,i),l=o.call(this,f,c,i),i=-1,h=c.length,p=l.length-1,g=n?1:1/h;++i<p;)u=s[i]=[],u.dx=l[i+1]-(u.x=l[i]),u.y=0;if(p>0)for(i=-1;++i<h;)a=c[i],a>=f[0]&&a<=f[1]&&(u=s[Xu.bisect(l,a,1,p)-1],u.y+=g,u.push(t[i]));return s}var n=!0,e=Number,r=hi,o=fi;return t.value=function(n){return arguments.length?(e=n,t):e},t.range=function(n){return arguments.length?(r=jn(n),t):r},t.bins=function(n){return arguments.length?(o="number"==typeof n?function(t){return li(t,n)}:jn(n),t):o},t.frequency=function(e){return arguments.length?(n=!!e,t):n},t},Xu.layout.pack=function(){function t(t,i){var u=e.call(this,t,i),a=u[0],s=o[0],c=o[1],f=null==n?Math.sqrt:"function"==typeof n?n:function(){return n};if(a.x=a.y=0,$o(a,function(t){t.r=+f(t.value)}),$o(a,yi),r){var l=r*(n?1:Math.max(2*a.r/s,2*a.r/c))/2;$o(a,function(t){t.r+=l}),$o(a,yi),$o(a,function(t){t.r-=l})}return xi(a,s/2,c/2,n?1:1/Math.max(2*a.r/s,2*a.r/c)),u}var n,e=Xu.layout.hierarchy().sort(pi),r=0,o=[1,1];return t.size=function(n){return arguments.length?(o=n,t):o},t.radius=function(e){return arguments.length?(n=null==e||"function"==typeof e?e:+e,t):n},t.padding=function(n){return arguments.length?(r=+n,t):r},Vo(t,e)},Xu.layout.tree=function(){function t(t,o){var f=u.call(this,t,o),l=f[0],h=n(l);if($o(h,e),h.parent.m=-h.z,Zo(h,r),c)Zo(l,i);else{var p=l,g=l,d=l;Zo(l,function(t){t.x<p.x&&(p=t),t.x>g.x&&(g=t),t.depth>d.depth&&(d=t)});var v=a(p,g)/2-p.x,y=s[0]/(g.x+a(g,p)/2+v),m=s[1]/(d.depth||1);Zo(l,function(t){t.x=(t.x+v)*y,t.y=t.depth*m})}return f}function n(t){for(var n,e={A:null,children:[t]},r=[e];null!=(n=r.pop());)for(var o,i=n.children,u=0,a=i.length;a>u;++u)r.push((i[u]=o={_:i[u],parent:n,children:(o=i[u].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:u}).a=o);return e.children[0]}function e(t){var n=t.children,e=t.parent.children,r=t.i?e[t.i-1]:null;if(n.length){ki(t);var i=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+a(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+a(t._,r._));t.parent.A=o(t,r,t.parent.A||e[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,n,e){if(n){for(var r,o=t,i=t,u=n,s=o.parent.children[0],c=o.m,f=i.m,l=u.m,h=s.m;u=ji(u),o=Mi(o),u&&o;)s=Mi(s),i=ji(i),i.a=t,r=u.z+l-o.z-c+a(u._,o._),r>0&&(Ei(Si(u,t,e),t,r),c+=r,f+=r),l+=u.m,c+=o.m,h+=s.m,f+=i.m;u&&!ji(i)&&(i.t=u,i.m+=l-f),o&&!Mi(s)&&(s.t=o,s.m+=c-h,e=t)}return e}function i(t){t.x*=s[0],t.y=t.depth*s[1]}var u=Xu.layout.hierarchy().sort(null).value(null),a=bi,s=[1,1],c=null;return t.separation=function(n){return arguments.length?(a=n,t):a},t.size=function(n){return arguments.length?(c=null==(s=n)?i:null,t):c?null:s},t.nodeSize=function(n){return arguments.length?(c=null==(s=n)?null:i,t):c?s:null},Vo(t,u)},Xu.layout.cluster=function(){function t(t,i){var u,a=n.call(this,t,i),s=a[0],c=0;$o(s,function(t){var n=t.children;n&&n.length?(t.x=Ai(n),t.y=Ni(n)):(t.x=u?c+=e(t,u):0,t.y=0,u=t)});var f=Ti(s),l=qi(s),h=f.x-e(f,l)/2,p=l.x+e(l,f)/2;return $o(s,o?function(t){t.x=(t.x-s.x)*r[0],t.y=(s.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(p-h)*r[0],t.y=(1-(s.y?t.y/s.y:1))*r[1]}),a}var n=Xu.layout.hierarchy().sort(null).value(null),e=bi,r=[1,1],o=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(n){return arguments.length?(o=null==(r=n),t):o?null:r},t.nodeSize=function(n){return arguments.length?(o=null!=(r=n),t):o?r:null},Vo(t,n)},Xu.layout.treemap=function(){function t(t,n){for(var e,r,o=-1,i=t.length;++o<i;)r=(e=t[o]).value*(0>n?0:n),e.area=isNaN(r)||0>=r?0:r}function n(e){var i=e.children;if(i&&i.length){var u,a,s,c=l(e),f=[],h=i.slice(),g=1/0,d="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&e.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(h,c.dx*c.dy/e.value),f.area=0;(s=h.length)>0;)f.push(u=h[s-1]),f.area+=u.area,"squarify"!==p||(a=r(f,d))<=g?(h.pop(),g=a):(f.area-=f.pop().area,o(f,d,c,!1),d=Math.min(c.dx,c.dy),f.length=f.area=0,g=1/0);f.length&&(o(f,d,c,!0),f.length=f.area=0),i.forEach(n)}}function e(n){var r=n.children;if(r&&r.length){var i,u=l(n),a=r.slice(),s=[];for(t(a,u.dx*u.dy/n.value),s.area=0;i=a.pop();)s.push(i),s.area+=i.area,null!=i.z&&(o(s,i.z?u.dx:u.dy,u,!a.length),s.length=s.area=0);r.forEach(e)}}function r(t,n){for(var e,r=t.area,o=0,i=1/0,u=-1,a=t.length;++u<a;)(e=t[u].area)&&(i>e&&(i=e),e>o&&(o=e));return r*=r,n*=n,r?Math.max(n*o*g/r,r/(n*i*g)):1/0}function o(t,n,e,r){var o,i=-1,u=t.length,a=e.x,c=e.y,f=n?s(t.area/n):0;if(n==e.dx){for((r||f>e.dy)&&(f=e.dy);++i<u;)o=t[i],o.x=a,o.y=c,o.dy=f,a+=o.dx=Math.min(e.x+e.dx-a,f?s(o.area/f):0);o.z=!0,o.dx+=e.x+e.dx-a,e.y+=f,e.dy-=f}else{for((r||f>e.dx)&&(f=e.dx);++i<u;)o=t[i],o.x=a,o.y=c,o.dx=f,c+=o.dy=Math.min(e.y+e.dy-c,f?s(o.area/f):0);o.z=!1,o.dy+=e.y+e.dy-c,e.x+=f,e.dx-=f}}function i(r){var o=u||a(r),i=o[0];return i.x=0,i.y=0,i.dx=c[0],i.dy=c[1],u&&a.revalue(i),t([i],i.dx*i.dy/i.value),(u?e:n)(i),h&&(u=o),o}var u,a=Xu.layout.hierarchy(),s=Math.round,c=[1,1],f=null,l=Ci,h=!1,p="squarify",g=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(c=t,i):c},i.padding=function(t){function n(n){var e=t.call(i,n,n.depth);return null==e?Ci(n):zi(n,"number"==typeof e?[e,e,e,e]:e)}function e(n){return zi(n,t)}if(!arguments.length)return f;var r;return l=null==(f=t)?Ci:"function"==(r=typeof t)?n:"number"===r?(t=[t,t,t,t],e):e,i},i.round=function(t){return arguments.length?(s=t?Math.round:Number,i):s!=Number},i.sticky=function(t){return arguments.length?(h=t,u=null,i):h},i.ratio=function(t){return arguments.length?(g=t,i):g},i.mode=function(t){return arguments.length?(p=t+"",i):p},Vo(i,a)},Xu.random={normal:function(t,n){var e=arguments.length;return 2>e&&(n=1),1>e&&(t=0),function(){var e,r,o;do e=2*Math.random()-1,r=2*Math.random()-1,o=e*e+r*r;while(!o||o>1);return t+n*e*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=Xu.random.normal.apply(Xu,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=Xu.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(t){return function(){for(var n=0,e=0;t>e;e++)n+=Math.random();return n}}},Xu.scale={};var lc={floor:En,ceil:En};Xu.scale.linear=function(){return Ui([0,1],[0,1],go,!1)};var hc={s:1,g:1,p:1,r:1,e:1};Xu.scale.log=function(){return Ki(Xu.scale.linear().domain([0,1]),10,!0,[1,10])};var pc=Xu.format(".0e"),gc={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Xu.scale.pow=function(){return Vi(Xu.scale.linear(),1,[0,1])},Xu.scale.sqrt=function(){return Xu.scale.pow().exponent(.5)},Xu.scale.ordinal=function(){return $i([],{t:"range",a:[[]]})},Xu.scale.category10=function(){return Xu.scale.ordinal().range(dc)},Xu.scale.category20=function(){return Xu.scale.ordinal().range(vc)},Xu.scale.category20b=function(){return Xu.scale.ordinal().range(yc)},Xu.scale.category20c=function(){return Xu.scale.ordinal().range(mc)};var dc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yn),vc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yn),yc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yn),mc=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yn);Xu.scale.quantile=function(){return Qi([],[])},Xu.scale.quantize=function(){return Wi(0,1,[0,1])},Xu.scale.threshold=function(){return tu([.5],[0,1])},Xu.scale.identity=function(){return nu([0,1])},Xu.svg={},Xu.svg.arc=function(){function t(){var t=n.apply(this,arguments),i=e.apply(this,arguments),u=r.apply(this,arguments)+_c,a=o.apply(this,arguments)+_c,s=(u>a&&(s=u,u=a,a=s),a-u),c=ja>s?"0":"1",f=Math.cos(u),l=Math.sin(u),h=Math.cos(a),p=Math.sin(a);return s>=xc?t?"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"Z":t?"M"+i*f+","+i*l+"A"+i+","+i+" 0 "+c+",1 "+i*h+","+i*p+"L"+t*h+","+t*p+"A"+t+","+t+" 0 "+c+",0 "+t*f+","+t*l+"Z":"M"+i*f+","+i*l+"A"+i+","+i+" 0 "+c+",1 "+i*h+","+i*p+"L0,0Z"}var n=eu,e=ru,r=ou,o=iu;return t.innerRadius=function(e){return arguments.length?(n=jn(e),t):n},t.outerRadius=function(n){return arguments.length?(e=jn(n),t):e},t.startAngle=function(n){return arguments.length?(r=jn(n),t):r},t.endAngle=function(n){return arguments.length?(o=jn(n),t):o},t.centroid=function(){var t=(n.apply(this,arguments)+e.apply(this,arguments))/2,i=(r.apply(this,arguments)+o.apply(this,arguments))/2+_c;return[Math.cos(i)*t,Math.sin(i)*t]},t};var _c=-ka,xc=Ea-Sa;Xu.svg.line=function(){return uu(En)};var wc=Xu.map({linear:au,"linear-closed":su,step:cu,"step-before":fu,"step-after":lu,basis:yu,"basis-open":mu,"basis-closed":_u,bundle:xu,cardinal:gu,"cardinal-open":hu,"cardinal-closed":pu,monotone:ku});wc.forEach(function(t,n){n.key=t,n.closed=/-closed$/.test(t)});var bc=[0,2/3,1/3,0],Mc=[0,1/3,2/3,0],jc=[0,1/6,2/3,1/6];Xu.svg.line.radial=function(){var t=uu(Su);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},fu.reverse=lu,lu.reverse=fu,Xu.svg.area=function(){return Nu(En)},Xu.svg.area.radial=function(){var t=Nu(Su);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Xu.svg.chord=function(){function t(t,a){var s=n(this,i,t,a),c=n(this,u,t,a);return"M"+s.p0+r(s.r,s.p1,s.a1-s.a0)+(e(s,c)?o(s.r,s.p1,s.r,s.p0):o(s.r,s.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+o(c.r,c.p1,s.r,s.p0))+"Z"}function n(t,n,e,r){var o=n.call(t,e,r),i=a.call(t,o,r),u=s.call(t,o,r)+_c,f=c.call(t,o,r)+_c;return{r:i,a0:u,a1:f,p0:[i*Math.cos(u),i*Math.sin(u)],p1:[i*Math.cos(f),i*Math.sin(f)]}}function e(t,n){return t.a0==n.a0&&t.a1==n.a1}function r(t,n,e){return"A"+t+","+t+" 0 "+ +(e>ja)+",1 "+n}function o(t,n,e,r){return"Q 0,0 "+r}var i=dr,u=vr,a=Au,s=ou,c=iu;return t.radius=function(n){return arguments.length?(a=jn(n),t):a},t.source=function(n){return arguments.length?(i=jn(n),t):i},t.target=function(n){return arguments.length?(u=jn(n),t):u},t.startAngle=function(n){return arguments.length?(s=jn(n),t):s},t.endAngle=function(n){return arguments.length?(c=jn(n),t):c},t},Xu.svg.diagonal=function(){function t(t,o){var i=n.call(this,t,o),u=e.call(this,t,o),a=(i.y+u.y)/2,s=[i,{x:i.x,y:a},{x:u.x,y:a},u];return s=s.map(r),"M"+s[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var n=dr,e=vr,r=Tu;return t.source=function(e){return arguments.length?(n=jn(e),t):n},t.target=function(n){return arguments.length?(e=jn(n),t):e},t.projection=function(n){return arguments.length?(r=n,t):r},t},Xu.svg.diagonal.radial=function(){var t=Xu.svg.diagonal(),n=Tu,e=t.projection;return t.projection=function(t){return arguments.length?e(qu(n=t)):n},t},Xu.svg.symbol=function(){function t(t,r){return(Ec.get(n.call(this,t,r))||Lu)(e.call(this,t,r))}var n=zu,e=Cu;return t.type=function(e){return arguments.length?(n=jn(e),t):n},t.size=function(n){return arguments.length?(e=jn(n),t):e},t};var Ec=Xu.map({circle:Lu,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*Ac)),e=n*Ac;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/Nc),e=n*Nc/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/Nc),e=n*Nc/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}});Xu.svg.symbolTypes=Ec.keys();var kc,Sc,Nc=Math.sqrt(3),Ac=Math.tan(30*Aa),Tc=[],qc=0;Tc.call=va.call,Tc.empty=va.empty,Tc.node=va.node,Tc.size=va.size,Xu.transition=function(t){return arguments.length?kc?t.transition():t:_a.transition()},Xu.transition.prototype=Tc,Tc.select=function(t){var n,e,r,o=this.id,i=[];t=M(t);for(var u=-1,a=this.length;++u<a;){i.push(n=[]);for(var s=this[u],c=-1,f=s.length;++c<f;)(r=s[c])&&(e=t.call(r,r.__data__,c,u))?("__data__"in r&&(e.__data__=r.__data__),Du(e,c,o,r.__transition__[o]),n.push(e)):n.push(null)}return Ru(i,o)},Tc.selectAll=function(t){var n,e,r,o,i,u=this.id,a=[];t=j(t);for(var s=-1,c=this.length;++s<c;)for(var f=this[s],l=-1,h=f.length;++l<h;)if(r=f[l]){i=r.__transition__[u],e=t.call(r,r.__data__,l,s),a.push(n=[]);for(var p=-1,g=e.length;++p<g;)(o=e[p])&&Du(o,p,u,i),n.push(o)}return Ru(a,u)},Tc.filter=function(t){var n,e,r,o=[];"function"!=typeof t&&(t=R(t));for(var i=0,u=this.length;u>i;i++){o.push(n=[]);for(var e=this[i],a=0,s=e.length;s>a;a++)(r=e[a])&&t.call(r,r.__data__,a,i)&&n.push(r)}return Ru(o,this.id)},Tc.tween=function(t,n){var e=this.id;return arguments.length<2?this.node().__transition__[e].tween.get(t):P(this,null==n?function(n){n.__transition__[e].tween.remove(t)}:function(r){r.__transition__[e].tween.set(t,n)})},Tc.attr=function(t,n){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function o(t){return null==t?e:(t+="",function(){var n,e=this.getAttribute(a);return e!==t&&(n=u(e,t),function(t){this.setAttribute(a,n(t))})})}function i(t){return null==t?r:(t+="",function(){var n,e=this.getAttributeNS(a.space,a.local);return e!==t&&(n=u(e,t),function(t){this.setAttributeNS(a.space,a.local,n(t))})})}if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var u="transform"==t?Do:go,a=Xu.ns.qualify(t);return Ou(this,"attr."+t,n,a.local?i:o)},Tc.attrTween=function(t,n){function e(t,e){var r=n.call(this,t,e,this.getAttribute(o));return r&&function(t){this.setAttribute(o,r(t))}}function r(t,e){var r=n.call(this,t,e,this.getAttributeNS(o.space,o.local));return r&&function(t){this.setAttributeNS(o.space,o.local,r(t))}}var o=Xu.ns.qualify(t);return this.tween("attr."+t,o.local?r:e)},Tc.style=function(t,n,e){function r(){this.style.removeProperty(t)}function o(n){return null==n?r:(n+="",function(){var r,o=$u.getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(r=go(o,n),function(n){this.style.setProperty(t,r(n),e)})})}var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(n="");for(e in t)this.style(e,t[e],n);return this}e=""}return Ou(this,"style."+t,n,o)},Tc.styleTween=function(t,n,e){function r(r,o){var i=n.call(this,r,o,$u.getComputedStyle(this,null).getPropertyValue(t));return i&&function(n){this.style.setProperty(t,i(n),e)}}return arguments.length<3&&(e=""),this.tween("style."+t,r)},Tc.text=function(t){return Ou(this,"text",t,Pu)},Tc.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Tc.ease=function(t){var n=this.id;return arguments.length<1?this.node().__transition__[n].ease:("function"!=typeof t&&(t=Xu.ease.apply(Xu,arguments)),P(this,function(e){e.__transition__[n].ease=t}))},Tc.delay=function(t){var n=this.id;return arguments.length<1?this.node().__transition__[n].delay:P(this,"function"==typeof t?function(e,r,o){e.__transition__[n].delay=+t.call(e,e.__data__,r,o)}:(t=+t,function(e){e.__transition__[n].delay=t}))},Tc.duration=function(t){var n=this.id;return arguments.length<1?this.node().__transition__[n].duration:P(this,"function"==typeof t?function(e,r,o){e.__transition__[n].duration=Math.max(1,t.call(e,e.__data__,r,o))}:(t=Math.max(1,t),function(e){e.__transition__[n].duration=t}))},Tc.each=function(t,n){var e=this.id;if(arguments.length<2){var r=Sc,o=kc;kc=e,P(this,function(n,r,o){Sc=n.__transition__[e],t.call(n,n.__data__,r,o)}),Sc=r,kc=o}else P(this,function(r){var o=r.__transition__[e];(o.event||(o.event=Xu.dispatch("start","end"))).on(t,n)});return this},Tc.transition=function(){for(var t,n,e,r,o=this.id,i=++qc,u=[],a=0,s=this.length;s>a;a++){u.push(t=[]);for(var n=this[a],c=0,f=n.length;f>c;c++)(e=n[c])&&(r=Object.create(e.__transition__[o]),r.delay+=r.duration,Du(e,c,i,r)),t.push(e)}return Ru(u,i)},Xu.svg.axis=function(){function t(t){t.each(function(){var t,c=Xu.select(this),f=this.__chart__||e,l=this.__chart__=e.copy(),h=null==s?l.ticks?l.ticks.apply(l,a):l.domain():s,p=null==n?l.tickFormat?l.tickFormat.apply(l,a):En:n,g=c.selectAll(".tick").data(h,l),d=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Sa),v=Xu.transition(g.exit()).style("opacity",Sa).remove(),y=Xu.transition(g.order()).style("opacity",1),m=Ri(l),_=c.selectAll(".domain").data([0]),x=(_.enter().append("path").attr("class","domain"),Xu.transition(_));d.append("line"),d.append("text");var w=d.select("line"),b=y.select("line"),M=g.select("text").text(p),j=d.select("text"),E=y.select("text");switch(r){case"bottom":t=Iu,w.attr("y2",o),j.attr("y",Math.max(o,0)+u),b.attr("x2",0).attr("y2",o),E.attr("x",0).attr("y",Math.max(o,0)+u),M.attr("dy",".71em").style("text-anchor","middle"),x.attr("d","M"+m[0]+","+i+"V0H"+m[1]+"V"+i);break;case"top":t=Iu,w.attr("y2",-o),j.attr("y",-(Math.max(o,0)+u)),b.attr("x2",0).attr("y2",-o),E.attr("x",0).attr("y",-(Math.max(o,0)+u)),M.attr("dy","0em").style("text-anchor","middle"),x.attr("d","M"+m[0]+","+-i+"V0H"+m[1]+"V"+-i);break;case"left":t=Uu,w.attr("x2",-o),j.attr("x",-(Math.max(o,0)+u)),b.attr("x2",-o).attr("y2",0),E.attr("x",-(Math.max(o,0)+u)).attr("y",0),M.attr("dy",".32em").style("text-anchor","end"),x.attr("d","M"+-i+","+m[0]+"H0V"+m[1]+"H"+-i);break;case"right":t=Uu,w.attr("x2",o),j.attr("x",Math.max(o,0)+u),b.attr("x2",o).attr("y2",0),E.attr("x",Math.max(o,0)+u).attr("y",0),M.attr("dy",".32em").style("text-anchor","start"),x.attr("d","M"+i+","+m[0]+"H0V"+m[1]+"H"+i)}if(l.rangeBand){var k=l,S=k.rangeBand()/2;f=l=function(t){return k(t)+S}}else f.rangeBand?f=l:v.call(t,l);d.call(t,f),y.call(t,l)})}var n,e=Xu.scale.linear(),r=Cc,o=6,i=6,u=3,a=[10],s=null;return t.scale=function(n){return arguments.length?(e=n,t):e
},t.orient=function(n){return arguments.length?(r=n in zc?n+"":Cc,t):r},t.ticks=function(){return arguments.length?(a=arguments,t):a},t.tickValues=function(n){return arguments.length?(s=n,t):s},t.tickFormat=function(e){return arguments.length?(n=e,t):n},t.tickSize=function(n){var e=arguments.length;return e?(o=+n,i=+arguments[e-1],t):o},t.innerTickSize=function(n){return arguments.length?(o=+n,t):o},t.outerTickSize=function(n){return arguments.length?(i=+n,t):i},t.tickPadding=function(n){return arguments.length?(u=+n,t):u},t.tickSubdivide=function(){return arguments.length&&t},t};var Cc="bottom",zc={top:1,right:1,bottom:1,left:1};Xu.svg.brush=function(){function t(i){i.each(function(){var i=Xu.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),u=i.selectAll(".background").data([0]);u.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=i.selectAll(".resize").data(g,En);a.exit().remove(),a.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Lc[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",t.empty()?"none":null);var f,l=Xu.transition(i),h=Xu.transition(u);s&&(f=Ri(s),h.attr("x",f[0]).attr("width",f[1]-f[0]),e(l)),c&&(f=Ri(c),h.attr("y",f[0]).attr("height",f[1]-f[0]),r(l)),n(l)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+f[+/e$/.test(t)]+","+l[+/^s/.test(t)]+")"})}function e(t){t.select(".extent").attr("x",f[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function r(t){t.select(".extent").attr("y",l[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function o(){function o(){32==Xu.event.keyCode&&(N||(m=null,T[0]-=f[1],T[1]-=l[1],N=2),_())}function g(){32==Xu.event.keyCode&&2==N&&(T[0]+=f[1],T[1]+=l[1],N=0,_())}function d(){var t=Xu.mouse(w),o=!1;x&&(t[0]+=x[0],t[1]+=x[1]),N||(Xu.event.altKey?(m||(m=[(f[0]+f[1])/2,(l[0]+l[1])/2]),T[0]=f[+(t[0]<m[0])],T[1]=l[+(t[1]<m[1])]):m=null),k&&v(t,s,0)&&(e(j),o=!0),S&&v(t,c,1)&&(r(j),o=!0),o&&(n(j),M({type:"brush",mode:N?"move":"resize"}))}function v(t,n,e){var r,o,a=Ri(n),s=a[0],c=a[1],g=T[e],d=e?l:f,v=d[1]-d[0];return N&&(s-=g,c-=v+g),r=(e?p:h)?Math.max(s,Math.min(c,t[e])):t[e],N?o=(r+=g)+v:(m&&(g=Math.max(s,Math.min(c,2*m[e]-r))),r>g?(o=r,r=g):o=g),d[0]!=r||d[1]!=o?(e?u=null:i=null,d[0]=r,d[1]=o,!0):void 0}function y(){d(),j.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Xu.select("body").style("cursor",null),q.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),M({type:"brushend"})}var m,x,w=this,b=Xu.select(Xu.event.target),M=a.of(w,arguments),j=Xu.select(w),E=b.datum(),k=!/^(n|s)$/.test(E)&&s,S=!/^(e|w)$/.test(E)&&c,N=b.classed("extent"),A=B(),T=Xu.mouse(w),q=Xu.select($u).on("keydown.brush",o).on("keyup.brush",g);if(Xu.event.changedTouches?q.on("touchmove.brush",d).on("touchend.brush",y):q.on("mousemove.brush",d).on("mouseup.brush",y),j.interrupt().selectAll("*").interrupt(),N)T[0]=f[0]-T[0],T[1]=l[0]-T[1];else if(E){var C=+/w$/.test(E),z=+/^n/.test(E);x=[f[1-C]-T[0],l[1-z]-T[1]],T[0]=f[C],T[1]=l[z]}else Xu.event.altKey&&(m=T.slice());j.style("pointer-events","none").selectAll(".resize").style("display",null),Xu.select("body").style("cursor",b.style("cursor")),M({type:"brushstart"}),d()}var i,u,a=w(t,"brushstart","brush","brushend"),s=null,c=null,f=[0,0],l=[0,0],h=!0,p=!0,g=Rc[0];return t.event=function(t){t.each(function(){var t=a.of(this,arguments),n={x:f,y:l,i:i,j:u},e=this.__chart__||n;this.__chart__=n,kc?Xu.select(this).transition().each("start.brush",function(){i=e.i,u=e.j,f=e.x,l=e.y,t({type:"brushstart"})}).tween("brush:brush",function(){var e=vo(f,n.x),r=vo(l,n.y);return i=u=null,function(o){f=n.x=e(o),l=n.y=r(o),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){i=n.i,u=n.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(n){return arguments.length?(s=n,g=Rc[!s<<1|!c],t):s},t.y=function(n){return arguments.length?(c=n,g=Rc[!s<<1|!c],t):c},t.clamp=function(n){return arguments.length?(s&&c?(h=!!n[0],p=!!n[1]):s?h=!!n:c&&(p=!!n),t):s&&c?[h,p]:s?h:c?p:null},t.extent=function(n){var e,r,o,a,h;return arguments.length?(s&&(e=n[0],r=n[1],c&&(e=e[0],r=r[0]),i=[e,r],s.invert&&(e=s(e),r=s(r)),e>r&&(h=e,e=r,r=h),(e!=f[0]||r!=f[1])&&(f=[e,r])),c&&(o=n[0],a=n[1],s&&(o=o[1],a=a[1]),u=[o,a],c.invert&&(o=c(o),a=c(a)),o>a&&(h=o,o=a,a=h),(o!=l[0]||a!=l[1])&&(l=[o,a])),t):(s&&(i?(e=i[0],r=i[1]):(e=f[0],r=f[1],s.invert&&(e=s.invert(e),r=s.invert(r)),e>r&&(h=e,e=r,r=h))),c&&(u?(o=u[0],a=u[1]):(o=l[0],a=l[1],c.invert&&(o=c.invert(o),a=c.invert(a)),o>a&&(h=o,o=a,a=h))),s&&c?[[e,o],[r,a]]:s?[e,r]:c&&[o,a])},t.clear=function(){return t.empty()||(f=[0,0],l=[0,0],i=u=null),t},t.empty=function(){return!!s&&f[0]==f[1]||!!c&&l[0]==l[1]},Xu.rebind(t,a,"on")};var Lc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Rc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Oc=ns.format=as.timeFormat,Pc=Oc.utc,Dc=Pc("%Y-%m-%dT%H:%M:%S.%LZ");Oc.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Fu:Dc,Fu.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},Fu.toString=Dc.toString,ns.second=Pn(function(t){return new es(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(t.getTime()+1e3*Math.floor(n))},function(t){return t.getSeconds()}),ns.seconds=ns.second.range,ns.seconds.utc=ns.second.utc.range,ns.minute=Pn(function(t){return new es(6e4*Math.floor(t/6e4))},function(t,n){t.setTime(t.getTime()+6e4*Math.floor(n))},function(t){return t.getMinutes()}),ns.minutes=ns.minute.range,ns.minutes.utc=ns.minute.utc.range,ns.hour=Pn(function(t){var n=t.getTimezoneOffset()/60;return new es(36e5*(Math.floor(t/36e5-n)+n))},function(t,n){t.setTime(t.getTime()+36e5*Math.floor(n))},function(t){return t.getHours()}),ns.hours=ns.hour.range,ns.hours.utc=ns.hour.utc.range,ns.month=Pn(function(t){return t=ns.day(t),t.setDate(1),t},function(t,n){t.setMonth(t.getMonth()+n)},function(t){return t.getMonth()}),ns.months=ns.month.range,ns.months.utc=ns.month.utc.range;var Ic=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Uc=[[ns.second,1],[ns.second,5],[ns.second,15],[ns.second,30],[ns.minute,1],[ns.minute,5],[ns.minute,15],[ns.minute,30],[ns.hour,1],[ns.hour,3],[ns.hour,6],[ns.hour,12],[ns.day,1],[ns.day,2],[ns.week,1],[ns.month,1],[ns.month,3],[ns.year,1]],Fc=Oc.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ee]]),Hc={range:function(t,n,e){return Xu.range(Math.ceil(t/e)*e,+n,e).map(Ju)},floor:En,ceil:En};Uc.year=ns.year,ns.scale=function(){return Hu(Xu.scale.linear(),Uc,Fc)};var Jc=Uc.map(function(t){return[t[0].utc,t[1]]}),Bc=Pc.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ee]]);Jc.year=ns.year.utc,ns.scale.utc=function(){return Hu(Xu.scale.linear(),Jc,Bc)},Xu.text=kn(function(t){return t.responseText}),Xu.json=function(t,n){return Sn(t,"application/json",Bu,n)},Xu.html=function(t,n){return Sn(t,"text/html",Gu,n)},Xu.xml=kn(function(t){return t.responseXML}),"function"==typeof e&&e.amd?e("d3",Xu):"object"==typeof module&&module.exports&&(module.exports=Xu),this.d3=Xu}(),function(t,n){function r(){var e={};return n.call(e,t),e.jsnx}"function"==typeof e&&e.amd?e("jsnx",r):"undefined"!=typeof module&&module.exports?module.exports=r():n.call(t,t)}(this,function(t){function n(t){throw t}function e(t){return function(){return t}}function r(){}function o(t){var n=typeof t;if("object"==n){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return n;var e=Object.prototype.toString.call(t);if("[object Window]"==e)return"object";if("[object Array]"==e||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==e||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==n&&"undefined"==typeof t.call)return"object";return n}function i(t){return t!==Zr}function u(t){return"array"==o(t)}function a(t){var n=o(t);return"array"==n||"object"==n&&"number"==typeof t.length}function s(t){return"string"==typeof t}function c(t){return"boolean"==typeof t}function f(t){return"number"==typeof t}function l(t){return"function"==o(t)}function h(t){var n=typeof t;return"object"==n&&t!=Qr||"function"==n}function p(t){return t.call.apply(t.bind,arguments)}function g(t,e){if(t||n(Error()),2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function d(){return d=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:g,d.apply(Qr,arguments)}function v(t,n){var e=t.split("."),r=to;!(e[0]in r)&&r.execScript&&r.execScript("var "+e[0]);for(var o;e.length&&(o=e.shift());)e.length||n===Zr?r=r[o]?r[o]:r[o]={}:r[o]=n}function y(t,n){function e(){}e.prototype=n.prototype,t.mb=n.prototype,t.prototype=new e,t.prototype.constructor=t}function m(t){for(var n=1;n<arguments.length;n++){var e=String(arguments[n]).replace(/\$/g,"$$$$");t=t.replace(/\%s/,e)}return t}function _(t,n){if(t.reduce)return t.reduce(n,0);var e=0;return io(t,function(r,o){e=n.call(Zr,e,r,o,t)}),e}function x(t){if(!u(t))for(var n=t.length-1;n>=0;n--)delete t[n];t.length=0}function w(t,n){var e=oo(t,n);e>=0&&ro.splice.call(t,e,1)}function b(){return ro.concat.apply(ro,arguments)}function M(t){var n=t.length;if(n>0){for(var e=Array(n),r=0;n>r;r++)e[r]=t[r];return e}return[]}function j(t){ro.splice.apply(t,E(arguments,1))}function E(t,n,e){return 2>=arguments.length?ro.slice.call(t,n):ro.slice.call(t,n,e)}function k(t,n,e){if(!a(t)||!a(n)||t.length!=n.length)return Wr;var r=t.length;e=e||N;for(var o=0;r>o;o++)if(!e(t[o],n[o]))return Wr;return $r}function S(t,n){return t>n?1:n>t?-1:0}function N(t,n){return t===n}function A(t){for(var n=[],e=0;t>e;e++)n[e]=0;return n}function T(){if(!arguments.length)return[];for(var t=[],n=0;;n++){for(var e=[],r=0;r<arguments.length;r++){var o=arguments[r];if(n>=o.length)return t;e.push(o[n])}t.push(e)}}function q(t){for(var n=Math.random,e=t.length-1;e>0;e--){var r=Math.floor(n()*(e+1)),o=t[e];t[e]=t[r],t[r]=o}}function C(){}function z(t){if(t instanceof C)return t;if("function"==typeof t.I)return t.I(Wr);if(a(t)){var e=0,r=new C;return r.next=function(){for(;;){if(e>=t.length&&n(co),e in t)return t[e++];e++}},r}n(Error("Not implemented"))}function L(t,e,r){if(a(t))try{io(t,e,r)}catch(o){o!==co&&n(o)}else{t=z(t);try{for(;;)e.call(r,t.next(),Zr,t)}catch(i){i!==co&&n(i)}}}function R(t,n,e){var r=z(t);return t=new C,t.next=function(){for(;;){var t=r.next();return n.call(e,t,Zr,r)}},t}function O(t,n){var e=0;return L(t,function(t){e=n.call(Zr,e,t)}),e}function P(){var t=arguments,e=t.length,r=0,o=new C;return o.next=function(){try{return r>=e&&n(co),z(t[r]).next()}catch(o){return(o!==co||r>=e)&&n(o),r++,this.next()}},o}function D(t){if(a(t))return M(t);t=z(t);var n=[];return L(t,function(t){n.push(t)}),n}function I(t,e){try{return z(t).next()}catch(r){return r!=co&&n(r),e}}function U(){}function F(t){if(!a(t))return Wr;for(var n=0,e=t.length;e>n;n++)if(isNaN(t[n]))return Wr;return $r}function H(t){var n=0;return R(t,function(t){return n+=t})}function J(){return":"+(U.ua().Qa++).toString(36)}function B(t,n){for(var e in t)n.call(Zr,t[e],e,t)}function G(t,n,e){var r,o={};for(r in t)o[r]=n.call(e,t[r],r,t);return o}function X(t){var n,e=0;for(n in t)e++;return e}function Y(t){for(var n in t)return n}function K(t){var n,e=[],r=0;for(n in t)e[r++]=t[n];return e}function V(t){var n,e=[],r=0;for(n in t)e[r++]=n;return e}function Z(t){for(var n in t)delete t[n]}function $(t,n){n in t&&delete t[n]}function Q(t,n,e){return n in t?t[n]:e}function W(t){var n,e={};for(n in t)e[n]=t[n];return e}function tn(t){for(var n,e,r=1;r<arguments.length;r++){e=arguments[r];for(n in e)t[n]=e[n];for(var o=0;o<fo.length;o++)n=fo[o],Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}}function nn(){var t=arguments.length;if(1==t&&u(arguments[0]))return nn.apply(Qr,arguments[0]);t%2&&n(Error("Uneven number of arguments"));for(var e={},r=0;t>r;r+=2)e[arguments[r]]=arguments[r+1];return e}function en(){var t=arguments;1===arguments.length&&a(arguments[0])&&(t=arguments[0]),this.ga="t";for(var n=0,e=t.length;e>n;n++)this[n]=t[n],this.ga+=pn(t[n]);return this.length=t.length,t=this,Object.isFrozen&&!Object.isFrozen(this)&&(t=Object.create(this),Object.freeze(t)),t}function rn(){return new en(a(arguments[0])?arguments[0]:arguments)}function on(t){this.name="JSNetworkXException",this.message=t}function un(t){on.call(this,t),this.name="JSNetworkXError"}function an(t){on.call(this,t),this.name="JSNetworkXPointlessConcept"}function sn(t){on.call(this,t),this.name="JSNetworkXAlgorithmError"}function cn(t){sn.call(this,t),this.name="JSNetworkXUnfeasible"}function fn(t){cn.call(this,t),this.name="JSNetworkXNoPath"}function ln(t){sn.call(this,t),this.name="JSNetworkXUnbounded"}function hn(t){this.name="KeyError",this.message=t}function pn(t,n){var e=typeof t;return"object"===e||"function"===e?t.hasOwnProperty("__hash__")?t.__hash__:t.toString!==Object.prototype.toString&&t.toString!==Array.prototype.toString?t.toString():n?n(t):"o"+(t[no]||(t[no]=++eo)):e.substr(0,1)+t}function gn(t){if(this.F={},this.D={},this.A={},this.h={},t!=Qr)if(mn(t)||a(t))xn(t,function(t){this.set.apply(this,t)},this);else if(h(t))for(var n in t)this.set(isNaN(+n)?n:+n,t[n])}function dn(t,n){switch(typeof n){case"number":return t.D;case"string":return t.F;default:return t.A}}function vn(t){this.e=new gn,t!=Qr&&(mn(t)||a(t))&&xn(t,function(t){this.add(t)},this)}function yn(t){var n=0;i(n)||(n=Qr);var e=new gn;return xn(t,function(t){e.set(t,n)}),e}function mn(t){return t!=Qr&&(t instanceof C||l(t.I))}function _n(t){return t instanceof ee?t.S():s(t)||a(t)?t.length:Cn(t)?X(t):void n(new TypeError)}function xn(t,n,e,r){if(c(e)&&(r=e,e=Qr),r){var o=n;n=function(t){o.apply(this,t)}}t instanceof ee?L(Tn(t),n,e):mn(t)?L(t,n,e):a(t)||s(t)?io(t,n,e):h(t)&&xn(V(t),n,e)}function wn(t,e,r){return t instanceof ee?wn(Tn(t),e,r):a(t)?ao(t,e,r):mn(t)?R(t,e,r):h(t)?G(t,e,r):void n(new TypeError)}function bn(){var t=arguments,e=t[0];if(a(e))return T.apply(Qr,t);if(mn(e)){var e=new C,r=t.length;return e.next=function(){for(var n=[],e=0;r>e;e++)n.push(t[e].next());return n},e}return h(e)?T.apply(Qr,ao(t,V)):void n(new TypeError)}function Mn(t,n){return t=Nn(l(n)?wn(t,function(){return n.apply(Qr,arguments)}):t),Math.max.apply(Qr,t)}function jn(t,e,r){if(0===arguments.length)return z([]);1===arguments.length?(e=t,t=0,r=1):2===arguments.length?r=1:3===arguments.length&&0===arguments[2]&&n("range() step argument must not be zero");var o,i=new C,u=0>r,a=t;return i.next=function(){return(u&&e>=a||!u&&a>=e)&&n(co),o=a,a+=r,o},i}function En(t){var e=Nn(t),r=e.length;if(2>r)return new C;var o=Nn(jn(2));return t=new C,t.next=function(){var t=ao(o,function(t){return e[t]});return this.next=function(){var t,i=Wr;for(t=2;t--;)if(o[t]!=t+r-2){i=$r;break}for(i||n(co),o[t]+=1,i=t+1;2>i;i++)o[i]=o[i-1]+1;return ao(o,function(t){return e[t]})},t},t}function kn(t){var e=Nn(t),r=e.length,o=f(2)?2:r;if(o>r)return new C;var i=Nn(jn(r)),u=Nn(jn(r,r-o,-1));t=new C;var a,s=new C,c=$r;return t.next=function(){return this.next=a.next,ao(i.slice(0,o),function(t){return e[t]})},s.next=function(){return c},a=qn(s,function(t){return t||n(co),c=Wr,jn(o-1,-1,-1)},function(t){if(!c){if(u[t]-=1,0!==u[t]){var n=u[t],a=i[t];return i[t]=i[i.length-n],i[i.length-n]=a,c=$r,Tn([ao(i.slice(0,o),function(t){return e[t]})])}i.splice.apply(i,[t,i.length].concat(i.slice(t+1).concat([i[t]]))),u[t]=r-t}},function(t){return t}),t}function Sn(t){for(var n,e,r=1;r<arguments.length;r++){e=arguments[r];for(n in e)i(t[n])&&"object"===o(t[n])?"object"===o(t[n])&&"object"===o(e)&&Sn(t[n],e[n]):t[n]=zn(e[n]);for(var u=0;u<fo.length;u++)n=fo[u],Object.prototype.hasOwnProperty.call(e,n)&&(i(t[n])&&"object"===o(t[n])?"object"===o(t[n])&&"object"===o(e)&&Sn(t[n],e[n]):t[n]=zn(e[n]))}}function Nn(t){return t instanceof ee?Nn(Tn(t)):a(t)?M(t):mn(t)?D(t):h(t)?V(t):void n(new TypeError)}function An(t){var n=new C,e=z(V(t));return n.next=function(){var n=e.next();return[n,t[n]]},n}function Tn(t){return t instanceof ee?Tn(t.adj.keys()):("object"===o(t)&&!a(t)&&!mn(t)&&(t=V(t)),z(t))}function qn(t){var e=new C,r=E(arguments,1);if(0===r.length)return t;try{t=z(t)}catch(o){return e.next=function(){"Not implemented"===o.message&&n(new TypeError)},e}var u=0,a=r.length,s=[t];return e.next=function(){for(;;)try{var t,e;do t=s[u].next(),i(t)&&(e=r[u](t));while(!i(t));if(mn(e)){if(u===a-1)return e;s.push(e),u+=1}else if(i(e))return e}catch(o){o!==co&&n(o),u>0?(s.pop(),u-=1):n(o)}},e}function Cn(t){var n=Object.prototype.hasOwnProperty;if(!t||"object"!==o(t)||t.nodeType||t==t.window)return Wr;try{if(t.constructor&&!n.call(t,"constructor")&&!n.call(t.constructor.prototype,"isPrototypeOf"))return Wr}catch(e){return Wr}for(var r in t);return r===Zr||n.call(t,r)}function zn(t,n){n=n||[];var e=o(t);if("object"==e&&(l(t.copy)||Cn(t))||"array"==e){for(var r=0,i=n.length;i>r;r+=2)if(t===n[r])return n[r+1];if(l(t.copy))return e=t.copy(n),n.push(t,e),e;e="array"==e?[]:{},n.push(t,e);for(var u in t)e[u]=zn(t[u],n);return e}return t}function Ln(t,n){function e(){}var r,o,i={};e.prototype=t.constructor.prototype;for(r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);i=zn(i,n),o=new e;for(r in i)o[r]=i[r];return o}function Rn(t,n){var e=new gn;if(n!=Qr){n=Nn(n);var r=function(t){return 0<=oo(n,t)};io(n,function(n){e.set(n,uo(t.B(n),r))})}else xn(t,function(n){e.set(n,t.B(n))});return e}function On(t,n){var e=Bn(n);if(e.i(t.keys()),e.m()&&!e.c()){var r=new gn;t.forEach(function(t,n){io(n,function(n){r.a(n)||e.b(t,n)}),r.set(t,1)})}else t.forEach(function(t,n){io(n,function(n){e.b(t,n)})});return e}function Pn(t,e,r){var o=Bn(e),i=new gn,u=[];return o.i(t.keys()),t.forEach(r?o.c()?o.m()?function(t,e){a(e)&&n(Error("Value is not a map.")),e.forEach(function(n,e){B(e,function(e,r){o.b(t,n,r,e)})})}:function(t,e){a(e)&&n(Error()),e.forEach(function(n,e){B(e,function(e){o.b(t,n,e)})})}:o.m()?function(t,e){a(e)&&n(Error()),e.forEach(function(n,e){u[0]=t,u[1]=n,i.a(u)||(B(e,function(e,r){o.b(t,n,r,e)}),u[0]=n,u[1]=t,i.set(u,1))})}:function(t,e){a(e)&&n(Error()),e.forEach(function(n,e){u[0]=t,u[1]=n,i.a(u)||(B(e,function(e){o.b(t,n,e)}),u[0]=n,u[1]=t,i.set(u,1))})}:o.m()&&!o.c()?function(t,e){a(e)&&n(Error()),e.forEach(function(n,e){u[0]=t,u[1]=n,i.a(u)||(o.b(t,n,e),u[0]=n,u[1]=t,i.set(u,1))})}:function(t,e){a(e)&&n(Error()),e.forEach(function(n,e){o.b(t,n,e)})}),o}function Dn(t){if("function"==typeof t.P)return t.P();if(s(t))return t.split("");if(a(t)){for(var n=[],e=t.length,r=0;e>r;r++)n.push(t[r]);return n}return K(t)}function In(t){this.e={},this.h=[];var e=arguments.length;if(e>1){e%2&&n(Error("Uneven number of arguments"));for(var r=0;e>r;r+=2)this.set(arguments[r],arguments[r+1])}else t&&this.ma(t)}function Un(t){if(t.J!=t.h.length){for(var n=0,e=0;n<t.h.length;){var r=t.h[n];Fn(t.e,r)&&(t.h[e++]=r),n++}t.h.length=e}if(t.J!=t.h.length){for(var o={},e=n=0;n<t.h.length;)r=t.h[n],Fn(o,r)||(t.h[e++]=r,o[r]=1),n++;t.h.length=e}}function Fn(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function Hn(t){this.e=new In,t&&this.ma(t)}function Jn(t){var n=typeof t;return"object"==n&&t||"function"==n?"o"+(t[no]||(t[no]=++eo)):n.substr(0,1)+t}function Bn(t){if(t!=Qr)try{t.clear()}catch(e){n(Error("Input graph is not a jsnx graph type"))}else t=new ee;return t}function Gn(t,e,r){var i=Qr;if(t.hasOwnProperty("adj"))try{return i=Pn(t.adj,e,t.m()),"graph"in t&&"object"===o(t.graph)&&(i.graph=W(t.graph)),"node"in t&&t.node instanceof gn&&(i.node=new gn,t.node.forEach(function(t,n){i.node.set(t,W(n))})),i}catch(u){n(u)}if(t instanceof gn)try{return Pn(t,e,r)}catch(s){try{return On(t,e)}catch(c){n(Error("Input is not known type."))}}if("object"===o(t))try{return Zn(t,e,r)}catch(f){try{return Vn(t,e)}catch(l){n(Error("Input is not known type."))}}if(a(t))try{return $n(t,e)}catch(h){n(Error("Input is not valid edge list"))}return i}function Xn(t){return t.V()}function Yn(t){return t.M()}function Kn(t,n){function e(t){return 0<=oo(n,t)}var r={};return n!=Qr?n=Nn(n):(n=t,e=function(t){return n.o(t)}),xn(n,function(n){r[n]=uo(t.B(n),e)}),r}function Vn(t,n){var e=Bn(n);if(e.i(R(An(t),function(t){return isNaN(t[0])?t[0]:+t[0]})),e.m()&&!e.c()){var r={};B(t,function(t,n){n=isNaN(n)?n:+n,io(t,function(t){t in r||e.b(n,t)}),r[n]=1})}else{var o=[];B(t,function(t,n){n=isNaN(n)?n:+n,io(t,function(t){o.push([n,t])})}),e.d(o)}return e}function Zn(t,e,r){var o,i,u=Bn(e);return u.i(R(An(t),function(t){return isNaN(t[0])?t[0]:+t[0]})),r?u.c()?(u.m()?(o=[],B(t,function(t,e){a(t)&&n(Error()),e=isNaN(e)?e:+e,B(t,function(t,n){n=isNaN(n)?n:+n,B(t,function(t,r){o.push([e,n,r,t])})})})):(o=[],B(t,function(t,e){a(t)&&n(Error()),e=isNaN(e)?e:+e,B(t,function(t,n){n=isNaN(n)?n:+n,B(t,function(t){o.push([e,n,t])})})})),u.d(o)):u.m()?(i=new Hn,B(t,function(t,e){a(t)&&n(Error()),e=isNaN(e)?e:+e,B(t,function(t,n){n=isNaN(n)?n:+n,i.contains([e,n].toString())||(o=[],B(t,function(t,r){o.push([e,n,r,t])}),u.d(o),i.add([n,e].toString()))})})):(i=new Hn,B(t,function(t,e){a(t)&&n(Error()),e=isNaN(e)?e:+e,B(t,function(t,n){n=isNaN(n)?n:+n,i.contains([e,n].toString())||(o=[],B(t,function(t){o.push([e,n,t])}),u.d(o),i.add([n,e].toString()))})})):u.m()&&!u.c()?(i=new Hn,B(t,function(t,e){a(t)&&n(Error()),e=isNaN(e)?e:+e,B(t,function(t,n){n=isNaN(n)?n:+n,i.contains([e,n].toString())||(u.b(e,n,t),i.add([n,e].toString()))})})):(o=[],B(t,function(t,e){a(t)&&n(Error()),e=isNaN(e)?e:+e,B(t,function(t,n){n=isNaN(n)?n:+n,o.push([e,n,t])})}),u.d(o)),u}function $n(t,n){var e=Bn(n);return e.d(t),e}function Qn(t){var n=[];return te(new Wn,t,n),n.join("")}function Wn(){this.la=Zr}function te(t,e,r){switch(typeof e){case"string":ne(e,r);break;case"number":r.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":r.push(e);break;case"undefined":r.push("null");break;case"object":if(e==Qr){r.push("null");break}if(u(e)){var o=e.length;r.push("[");for(var i="",a=0;o>a;a++)r.push(i),i=e[a],te(t,t.la?t.la.call(e,String(a),i):i,r),i=",";r.push("]");break}r.push("{"),o="";for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&(i=e[a],"function"!=typeof i&&(r.push(o),ne(a,r),r.push(":"),te(t,t.la?t.la.call(e,a,i):i,r),o=","));r.push("}");break;case"function":break;default:n(Error("Unknown type: "+typeof e))}}function ne(t,n){n.push('"',t.replace(po,function(t){if(t in ho)return ho[t];var n=t.charCodeAt(0),e="\\u";return 16>n?e+="000":256>n?e+="00":4096>n&&(e+="0"),ho[t]=e+n.toString(16)}),'"')}function ee(t,n){return this instanceof ee?(this.graph={},this.node=new gn,this.adj=new gn,t!=Qr&&Gn(t,this),tn(this.graph,n||{}),void(this.edge=this.adj)):new ee(t,n)}function re(t,n){return this instanceof re?(this.graph={},this.node=new gn,this.adj=new gn,this.pred=new gn,this.succ=this.adj,t!=Qr&&Gn(t,this),tn(this.graph,n||{}),void(this.edge=this.adj)):new re(t,n)}function oe(t,n){return this instanceof oe?void ee.call(this,t,n):new oe(t,n)}function ie(t,n){return this instanceof ie?void re.call(this,t,n):new ie(t,n)}function ue(t){return t.nodes()}function ae(t){return t.C()}function se(t,n){return t.v(n)}function ce(t,n){return t.g(n)}function fe(t,n){return t.B(n)}function le(t){return t.S()}function he(t){return t.R()}function pe(t){var n=t.S(),e=t.R();return 0===e?0:t.c()?e/(n*(n-1)):2*e/(n*(n-1))}function ge(t){t=t.t().n();var n=Math.max.apply(Math,t)+1,e=A(n);return io(t,function(t){e[t]+=1}),e}function de(t){return t.c()}function ve(t){function e(){n(new un("Frozen graph can't be modified"))}return t.add_node=t.N=e,t.add_nodes_from=t.i=e,t.remove_node=t.U=e,t.remove_nodes_from=t.da=e,t.add_edge=t.b=e,t.add_edges_from=t.d=e,t.remove_edge=t.z=e,t.remove_edges_from=t.L=e,t.clear=t.clear=e,t.frozen=t.La=$r,t}function ye(t){return!!t.La}function me(t,n){return t.H(n)}function _e(t,n){i(n)||(n=$r);var e=new t.constructor;return n&&e.i(t),e}function xe(t,e){var r="";if(e!=Qr)t.o(e)||n(new un("node "+e+" not in graph")),r=r+("Node "+e+" has the following properties:\n")+("Degree: "+t.t(e)+"\n"),r+="Neighbors: "+t.B(e).join(" ");else{var r=r+("Name: "+t.name()+"\n"),r=r+("Type: "+t.constructor.__name__+"\n"),r=r+("Number of nodes: "+t.S()+"\n"),r=r+("Number of edges: "+t.R()+"\n"),o=t.S();if(o>0)if(t.c())r+="Average in degree: "+(go.w.apply(Qr,t.va().n())/o).toFixed(4)+"\n",r+="Average out degree: "+(go.w.apply(Qr,t.ya().n())/o).toFixed(4);else var i=go.w.apply(Qr,t.t().n()),r=r+("Average degree: "+(i/o).toFixed(4))}return r}function we(t,n,e){B(e,function(e,r){t.node.get(r)[n]=e})}function be(t,n){var e=new gn;return t.node.forEach(function(t,r){n in r&&e.set(t,r[n])}),e}function Me(t,n,e){e.forEach(function(e,r){t.get(e[0]).get(e[1])[n]=r})}function je(t,n){var e=new gn;return B(t.v(Qr,$r),function(t){if(n in t[2]){var r=t[2][n];t.length=2,e.set(t,r)}}),e}function Ee(t,e){if(t.c()&&n(new un("triangles() is not defined for directed graphs.")),e!=Qr&&t.o(e))return Math.floor(ke(t,e).next()[2]/2);var r=new gn;return L(ke(t,e),function(t){r.set(t[0],Math.floor(t[2]/2))}),r}function ke(t,e){t.m()&&n(new un("Not defined for multigraphs."));var r;return r=e!=Qr?qn(t.f(e),function(n){return[n,t.get(n)]}):z(t.adj),R(r,function(n){var e=new vn(n[1].keys()),r=0;return e.remove(n[0]),L(e,function(n){var o=new vn(t.get(n).keys());o.remove(n),r+=e.q(o).count()}),[n[0],e.count(),r]})}function Se(t,e,r){t.m()&&n(new un("Not defined for multigraphs.")),s(r)||(r="weight");var o;return o=0===t.R()?1:Mn(t.v($r),function(t){return Q(t[2],r,1)}),e=e!=Qr?qn(t.f(e),function(n){return[n,t.get(n)]}):z(t.adj),R(e,function(n){var e=n[0],i=new vn(n[1].keys());i.remove(e);var u=0,a=new vn;return L(i,function(n){var s=Q(t.get(e).get(n),r,1)/o;a.add(n);var c=new vn(t.get(n).keys()).O(a);L(i.q(c),function(i){var a=Q(t.get(n).get(i),r,1)/o;i=Q(t.get(e).get(i),r,1)/o,u+=Math.pow(s*a*i,1/3)})}),[e,i.count(),2*u]})}function Ne(t,n,e,r){2===arguments.length?s(n)?(e=n,n=Qr):c(n)&&(r=n,n=Qr):3===arguments.length&&c(e)&&(r=e,e=Qr),r!=Qr||(r=$r);var o=Ae(t,n,e).n();return r||(o=uo(o,function(t){return t>0})),go.w.apply(go,o)/o.length}function Ae(t,e,r){t.c()&&n(new un("Clustering algorithms are not defined for directed graphs.")),r=r!=Qr?Se(t,e,r):ke(t,e);var o=new gn;return L(r,function(t){o.set(t[0],0===t[2]?0:t[2]/(t[1]*(t[1]-1)))}),e!=Qr&&t.o(e)?o.n()[0]:o}function Te(t){var n=0,e=0;return L(ke(t),function(t){e+=t[1]*(t[1]-1),n+=t[2]}),0===n?0:n/e}function qe(t,n){var e=n==Qr?Tn(t):t.f(n),r=new gn;return L(e,function(n){r.set(n,0);var e=0;L(En(t.get(n).keys()),function(o){var i=o[0];o=o[1];var u=new vn(t.get(i).keys()).q(t.get(o).keys());u.remove(n),u=u.count(),r.set(n,r.get(n)+u);var a=u+1;t.get(i).a(o)&&(a+=1),e+=(t.get(i).count()-a)*(t.get(o).count()-a)+u}),e>0&&r.set(n,r.get(n)/e)}),n!=Qr&&t.o(n)?r.n()[0]:r}function Ce(t){var e=-1,r=new gn,o=new vn;L(t.p(),function(t){var n=new vn(t[1].keys());n.remove(t[0]);var i=n.count();i>e?(r.set(t[0],n),o=n,e=i):r.set(t[0],n)});var i=new vn(r.keys()),u=i.O(o),a=new vn,s=[],c=[];return t=new C,t.next=function(){0===u.count()&&0===s.length&&n(co);var t,f;if(!(0<u.count())){var l=s.pop();return i=l[0],a=l[1],u=l[2],c.pop(),this.next()}t=z(u).next(),u.remove(t),c.push(t),i.remove(t),a.add(t);var h=r.get(t),l=i.q(h),h=a.q(h);if(0===l.count()&&(0===h.count()&&(f=M(c)),c.pop(),f))return f;if(0===h.count()&&1===l.count())return f=b(c,l.n()),c.pop(),f;var p,g,d=l.count(),v=-1;for(f=z(h);(t=I(f,Qr))!==Qr&&(t=l.q(r.get(t)),g=t.count(),!(g>v&&(p=t,v=g,v===d))););if(v===d)return c.pop(),this.next();for(e=-1,f=z(l);(t=I(f,Qr))!==Qr&&(t=l.q(r.get(t)),g=t.count(),!(g>e&&(o=t,e=g,e===d-1))););return v>e&&(o=p),s.push([i,a,u]),i=l,a=h,u=i.O(o),this.next()},t}function ze(t){var n=new gn;if(L(t.p(),function(t){var e=new vn(t[1].keys());e.remove(t[0]),n.set(t[0],e)}),0===n.count())return[];t=new vn(n.keys());var e=new vn,r=[];return Le(n,t,e,[],r),r}function Le(t,n,e,r,o){var i,u,a,s,c=-1,f=n.count();for(u=z(e);(a=I(u,Qr))!==Qr;)if(a=n.q(t.get(a)),s=a.count(),s>c&&(i=a,c=s,s===f))return;L(n,function(e){e=n.q(t.get(e));var r=e.count();r>c&&(i=e,c=r)}),f=n.O(i),L(f,function(i){n.remove(i),r.push(i);var u=t.get(i);i=n.q(u),u=e.q(u),0===i.count()&&0===u.count()?o.push(M(r)):0===u.count()&&1===i.count()?o.push(b(r,i.n())):Le(t,i,u,r,o),e.add(r.pop())})}function Re(t,n){n!=Qr||(n=Ce(t));var e=0;return xn(n,function(t){e=t.length>e?t.length:e}),e}function Oe(t,n){return n!=Qr||(n=Ce(t)),Nn(n).length}function Pe(t,n,e){e=D(e!=Qr?e:Ce(t)),n!=Qr||(n=t.nodes());var r;if(u(n))r=new gn,io(n,function(t){r.set(t,uo(e,function(n){return new vn(n).a(t)}).length)});else{var o=n;r=uo(e,function(t){return new vn(t).a(o)}).length}return r}function De(t,n){if(t.K()!=n.K())return Wr;var e=t.t(),r=Ee(t),o=Pe(t),i=[];e.forEach(function(t){i.push([e.get(t),r.get(t),o.get(t)])}),i.sort(function(t,n){return t[0]!==n[0]?t[0]-n[0]:t[1]!==n[1]?t[1]-n[1]:t[2]-n[2]});var u=n.t(),a=Ee(n),s=Pe(n),c=[];return u.forEach(function(t){c.push([u.get(t),a.get(t),s.get(t)])}),c.sort(function(t,n){return t[0]!==n[0]?t[0]-n[0]:t[1]!==n[1]?t[1]-n[1]:t[2]-n[2]}),k(i,c,function(t,n){return k(t,n)})?$r:Wr}function Ie(t,n){if(t.K()!=n.K())return Wr;var e=t.t(),r=Ee(t),o=[];e.forEach(function(t){o.push([e.get(t),r.get(t)])}),o.sort(function(t,n){return t[0]!==n[0]?t[0]-n[0]:t[1]-n[1]});var i=n.t(),u=Ee(n),a=[];return i.forEach(function(t){a.push([i.get(t),u.get(t)])}),a.sort(function(t,n){return t[0]!==n[0]?t[0]-n[0]:t[1]-n[1]}),k(o,a,function(t,n){return k(t,n)})?$r:Wr}function Ue(t,n){if(t.K()!=n.K())return Wr;var e=t.t().n();e.sort();var r=n.t().n();return r.sort(),k(e,r)?$r:Wr}function Fe(t,e){return"eg"===e?Je(t):e==Qr||"hh"===e?He(t):void n(new on("`opt_method` must be 'eg' or 'hh'"))}function He(t){if(0===t.length)return $r;if(!F(t)||0>Math.min.apply(Qr,t)||0!==go.w.apply(Qr,t)%2)return Wr;for(t=M(t);0<t.length&&(ro.sort.call(t,S),!(0>t[0]));){var n=t.pop();if(0===n)return $r;if(n>t.length)break;for(var e=t.length-1,n=t.length-(n+1);e>n;e--)t[e]-=1}return Wr}function Je(t){if(0===t.length)return $r;if(!F(t)||0>Math.min.apply(Qr,t)||0!==go.w.apply(Qr,t)%2)return Wr;var n,e=t.length,r=M(t).sort(function(t,n){return n-t}),o=[];for(n=1,t=r.length;t>n;n++)r[n]<r[n-1]&&o.push(n);var i,u;for(n=0,t=o.length;t>n;n++)if(i=go.w.apply(Qr,r.slice(0,o[n])),u=o[n]*(o[n]-1)+go.w.apply(Qr,D(R(jn(o[n],e),function(t){return Math.min(o[n],r[t])}))),i>u)return Wr;return $r}function Be(t){try{return Ge(t),$r}catch(e){if(e instanceof cn)return Wr;n(e)}}function Ge(t,e){t.c()||n(new un("Topological sort not defined on undirected graphs."));
var r=new vn,o=[],i=new vn;return e!=Qr||(e=t.C()),xn(e,function(e){if(!i.a(e))for(e=[e];0<e.length;){var u=e[e.length-1];if(i.a(u))e.pop();else{r.add(u);var a=[];t.get(u).forEach(function(t){i.a(t)||(r.a(t)&&n(new cn("Graph contains a cycle")),a.push(t))}),0<a.length?e.push.apply(e,a):(i.add(u),j(o,Zr,0,u))}}}),o}function Xe(t,e){function r(t,e,o,i){return e.add(i),t.get(i).forEach(function(i){if(e.a(i))e.a(i)&&!(0<=oo(o,i))&&n(new cn("Graph contains a cycle"));else if(!r(t,e,o,i))return Wr}),j(o,Zr,0,i),$r}t.c()||n(new un("Topological sort not defined on undirected graphs."));var o=new vn,i=[];return e!=Qr||(e=t.C()),xn(e,function(e){!(0<=oo(i,e))&&!r(t,o,i,e)&&n(new cn("Graph contains a cycle"))}),i}function Ye(t,n){this.xa=t,this.ra=n}function Ke(t){if(this.s=[],t)t:{var n,e;if(t instanceof Ke){if(n=t.na(),e=t.P(),0>=t.ia()){t=this.s;for(var r=0;r<n.length;r++)t.push(new Ye(n[r],e[r]));break t}}else n=V(t),e=K(t);for(r=0;r<n.length;r++)Ve(this,n[r],e[r])}}function Ve(t,n,e){var r=t.s;for(r.push(new Ye(n,e)),n=r.length-1,t=t.s,e=t[n];n>0&&(r=n-1>>1,t[r].getKey()>e.getKey());)t[n]=t[r],n=r;t[n]=e}function Ze(){Ke.call(this)}function $e(t,n){Ve(t,0,n)}function Qe(t,e){e!=Qr||(e={}),"object"!==o(e)&&n(new un("The arg_dict argument must be an object."));var r=yn(t),i=t.nodes();return"k"in e&&(q(i),i=i.slice(0,e.k)),xn(i.sort(),function(n){var o=[],o=Q(e,"weight",Qr)===Qr?tr(t,n):nr(t,n,e.weight),i=o[0],u=o[1],o=o[2];r=Q(e,"endpoints",Wr)?rr(r,i,u,o,n):er(r,i,u,o,n)}),r=ir(r,_n(t),Q(e,"normalized",$r),t.c(),Q(e,"k",Qr))}function We(t,e){e!=Qr||(e={}),"object"!==o(e)&&n(new un("The arg_dict argument must be an object."));var r=yn(t);L(t.g(),function(t){r.set(t,0)});var i=t.nodes();return xn(i.sort(),function(n){var o=[],o=Q(e,"weight",Qr)===Qr?tr(t,n):nr(t,n,e.weight);r=or(r,o[0],o[1],o[2],n)}),xn(i,function(t){r.remove(t)}),r=ur(r,_n(t),Q(e,"normalized",$r),t.c())}function tr(t,n){var e=[],r=new gn;L(t.C(),function(t){r.set(t,[])});var o=yn(t),i=new gn;o.set(n,1),i.set(n,0);for(var u=[n];0<u.length;){var a=u.shift();e.push(a);var s=i.get(a),c=o.get(a);io(t.B(a),function(t){i.a(t)||(u.push(t),i.set(t,s+1)),i.get(t)===s+1&&(o.set(t,o.get(t)+c),r.get(t).push(a))})}return[e,r,o]}function nr(t,n,e){var r=[],o=new gn;xn(t.nodes(),function(t){o.set(t,[])});var i=yn(t),u=new gn;i.set(n,1);var a=new gn;a.set(n,0);var s=new Ze;for($e(s,[n,n]);!s.ja();){var c=s.s[0]&&s.s[0].getKey();n=s.remove();var f=n[0],l=n[1];u.a(l)||(i.set(l,i.get(l)+i.get(f)),r.push(l),u.set(l,c),L(t.g(l,$r),function(t){var n=t[1];t=c+Q(t[2],e,1),u.a(n)||a.a(n)&&!(t<a.get(n))?t===a.get(n)&&(i.set(n,i.get(n)+i.get(l)),o.get(n).push(l)):(a.set(n,t),Ve(s,t,[l,n]),i.set(n,0),o.set(n,[l]))}))}return[r,o,i]}function er(t,n,e,r,o){for(var i=yn(n);0<n.length;){var u=n.pop(),a=(1+i.get(u))/r.get(u);io(e.get(u),function(t){i.set(t,i.get(t)+r.get(t)*a)}),(u!==o||h(u)&&u.toString()!==o.toString())&&t.set(u,t.get(u)+i.get(u))}return t}function rr(t,n,e,r,o){t.set(o,t.get(o)+n.length-1);for(var i=yn(n);0<n.length;){var u=n.pop(),a=(1+i.get(u))/r.get(u);io(e.get(u),function(t){i.set(t,i.get(t)+r.get(t)*a)}),(u!==o||h(u)&&u.toString()!==o.toString())&&t.set(u,t.get(u)+i.get(u)+1)}return t}function or(t,n,e,r,o){for(var i=yn(n);0<n.length;){var u=n.pop(),a=(1+i.get(u))/r.get(u);io(e.get(u),function(n){var e=r.get(n)*a,o=[n,u];t.a(o)||(o=[u,n]),t.set(o,t.get(o)+e),i.set(n,i.get(n)+e)}),(u!==o||h(u)&&u.toString()!==o.toString())&&t.set(u,t.get(u)+i.get(u))}return t}function ir(t,n,e,r,o){var u;return c(e)&&e?n>2&&(u=1/((n-1)*(n-2))):c(r)&&!r&&(u=.5),i(u)&&(o!=Qr&&(u=u*n/o),t.forEach(function(n,e){t.set(n,e*u)})),t}function ur(t,n,e,r){var o;return c(e)&&e?n>1&&(o=1/(n*(n-1))):c(r)&&!r&&(o=.5),i(o)&&t.forEach(function(n,e){t.set(n,e*o)}),t}function ar(t,n,e){var r=new gn,o=0,i=new gn;for(i.set(n,1);0<i.count()&&(n=i,i=new gn,n.forEach(function(n){r.a(n)||(r.set(n,o),t.get(n).forEach(function(t){i.set(t,1)}))}),!(f(e)&&o>=e));)o+=1;return r}function sr(t,n){var e=new gn;return xn(t,function(r){e.set(r,ar(t,r,n))}),e}function cr(t,n,e){e=fr(t,n,e),t=e[0],n=e[1],e=e[2];for(var r=[];e!=Qr;)r.push(e),e=n.get(e);for(e=t.get(r[0]);e!=Qr;)r.unshift(e),e=t.get(e);return r}function fr(t,e,r){(!i(e)||!i(r))&&n(new on("Bidirectional shortest path called without source or target"));var o=new gn,u=new gn;if(r===e)return o.set(r,Qr),u.set(e,Qr),[o,u,e];var a,s;t.c()?(a=t.za,s=t.qa):s=a=t.ba,o.set(e,Qr),u.set(r,Qr);for(var c,f,l=[e],h=[r];0<l.length&&0<h.length&&!f;)l.length<=h.length?(c=l,l=[],io(c,function(n){f||L(s.call(t,n),function(t){f||(o.a(t)||(l.push(t),o.set(t,n)),u.a(t)&&(f=[o,u,t]))})})):(c=h,h=[],io(c,function(n){f||L(a.call(t,n),function(t){f||(u.a(t)||(u.set(t,n),h.push(t)),o.a(t)&&(f=[o,u,t]))})}));return f?f:void n(new fn("No path between "+e+" and "+r+"."))}function lr(t,n,e){var r=0,o=new gn([[n,1]]),u=new gn([[n,[n]]]);if(0===e)return u;for(;0<o.count()&&(n=o,o=new gn,n.forEach(function(n){t.get(n).forEach(function(t){u.a(t)||(u.set(t,u.get(n).concat([t])),o.set(t,1))})}),r+=1,!(i(e)&&r>=e)););return u}function hr(t,n){var e=new gn;return xn(t,function(r){e.set(r,lr(t,r,n))}),e}function pr(t,n,e,r,o){for(var i=0,u=[n],a=new gn([[n,i]]),s=new gn([[n,[]]]);0<u.length&&(i+=1,n=u,u=[],io(n,function(n){t.get(n).forEach(function(t){a.a(t)?a.get(t)===i&&s.get(t).push(n):(s.set(t,[n]),a.set(t,i),u.push(t))})}),!(r!=Qr&&i>=r)););return e!=Qr?o?s.a(e)?[s.get(e),a.get(e)]:[[],-1]:s.a(e)?s.get(e):[]:o?[s,a]:s}function gr(t,n,e,r,o,i){var u=e.nodes();return xn(n,function(n){var e=t.node.get(n);n={node:n,data:e,G:t},u.push(n),e.__d3datum__=n}),r=r.data(u,mr),n=r.enter().append("g").classed("node",$r).call(e.drag),n.append(o).classed("node-shape",$r),i&&n.append("text").text(i),r}function dr(t,n,e,r,o){var i=e.links();return xn(n,function(n){var e=n[0],r=n[1];n=n[2]||t.W(e,r),e={edge:[e,r],redge:[r,e],source:t.node.get(e).__d3datum__,target:t.node.get(r).__d3datum__,data:n,G:t},i.push(e),n.__d3datum__=e}),r=r.data(i,_r),n=r.enter().append("g").classed("edge",$r),n.append("path").classed("line",$r),o&&n.append("text").text(o),r}function vr(t,n,e,r){if(r!=Qr){var o={};xn(r,function(t){o[a(t)?t[0]:t]=$r}),t=t.filter(function(t){return t.node in o})}var i=t.selectAll(".node-shape");if(B(n.attr,function(t,n){i.attr(n,t)}),B(n.style,function(t,n){i.style(n,t)}),e){var u=t.selectAll("text");B(n.$,function(t,n){u.attr(n,t)}),B(n.aa,function(t,n){u.style(n,t)})}}function yr(t,n,e,r,o){if(r!=Qr){var i={};xn(r,function(t){i[[t[0],t[1]]]=$r}),t=t.filter(function(t){return t.edge in i||o||t.redge in i})}var u=t.selectAll(".line");if(B(n.attr,function(t,n){u.attr(n,t)}),B(n.style,function(t,n){"stroke-width"!=n&&u.style(n,t)}),u.style("stroke-width",0),e){var a=t.selectAll("text");B(n.$,function(t,n){a.attr(n,t)}),B(n.aa,function(t,n){a.style(n,t)})}}function mr(t){return t.node}function _r(t){return t.edge}function xr(t,n,e,r){var o=e.nodes();return xn(t.f(n),function(n){w(o,t.node.get(n).__d3datum__)}),r=r.data(o,mr),r.exit().remove(),r}function wr(t,n,e,r){var o=e.links();return xn(n,function(n){w(o,Q(t.W(n[0],n[1],{}),"__d3datum__",Qr))}),r=r.data(o,_r),r.exit().remove(),r}function br(t,n,e,r){Mr(t,Wr);var o=t.constructor.prototype,i=e.node_shape,u={attr:e.node_attr,style:e.node_style,$:e.label_attr,aa:e.label_style},s={attr:e.edge_attr,style:e.edge_style,$:e.edge_label_attr,aa:e.edge_label_style},c=e.labels,f=e.edge_labels,l=e.with_labels,h=e.with_edge_labels,p=t.c();t.add_node=t.N=function(t){var e=!this.o(t);o.add_node.apply(this,arguments),e&&(r.j=gr(this,[t],n,r.j,i,c)),vr(r.j,u,l,[t]),n.start()},t.add_nodes_from=t.i=function(t){var e=uo(Nn(t),function(t){return!this.o(a(t)?t[0]:t)},this);o.add_nodes_from.apply(this,arguments),0<e.length&&(r.j=gr(this,e,n,r.j,i,c)),vr(r.j,u,l,t),n.start()},t.add_edge=t.b=function(e,a){var g=!this.T(e,a),d=[];g&&(d=uo(e==a?[e]:[e,a],function(t){return!this.o(t)},this)),o.add_edge.apply(t,arguments),0<d.length&&(r.j=gr(this,d,n,r.j,i,c),vr(r.j,u,l,d)),g&&(r.l=dr(this,[[e,a]],n,r.l,f)),yr(r.l,s,h,[[e,a]],p),n.start()},t.add_edges_from=t.d=function(e){var a=[],p=[],g={},d={},v=this.c();xn(e,function(t){var n=t[0];t=t[1],this.T(n,t)||[n,t]in g||!v&&[t,n]in g||(a.push([n,t]),g[[n,t]]=$r,!this.o(n)&&!(n in d)&&(p.push(n),d[n]=$r),!this.o(t)&&!(t in d)&&(p.push(t),d[t]=$r))},this),o.add_edges_from.apply(t,arguments),0<p.length&&(r.j=gr(this,p,n,r.j,i,c),vr(r.j,u,l,p)),0<a.length&&(r.l=dr(this,a,n,r.l,f)),yr(r.l,s,h,a,v),n.start()},t.remove_node=t.U=function(e){try{if(this.o(e)){r.j=xr(this,[e],n,r.j);var i=this.g([e]);this.c()&&(i=P(i,this.Q([e]))),r.l=wr(this,i,n,r.l),n.resume()}}catch(u){}o.remove_node.apply(t,arguments)},t.remove_nodes_from=t.da=function(e){try{r.j=xr(this,e,n,r.j);var i=this.g(e);this.c()&&(i=P(i,this.Q(e))),r.l=wr(this,i,n,r.l),n.resume()}catch(u){}o.remove_nodes_from.apply(t,arguments)},t.remove_edge=t.z=function(e,i){try{r.l=wr(this,[[e,i]],n,r.l),n.resume()}catch(u){}o.remove_edge.apply(t,arguments)},t.remove_edges_from=t.L=function(e){try{r.l=wr(this,e,n,r.l),n.resume()}catch(i){}o.remove_edges_from.apply(t,arguments)},t.clear=t.clear=function(){r.j=r.j.data([],mr),r.j.exit().remove(),r.l=r.l.data([],_r),r.l.exit().remove(),n.nodes([]).links([]).resume(),o.clear.apply(t,arguments)},t.bound=$r}function Mr(t,n){if(t.bound){var e=t.constructor.prototype;io(bo,function(n){t[n]=e[n]}),delete t.bound,(!i(n)||n)&&jr(t)}}function jr(t){xn(t.C($r),function(t){$(t[1],"__d3datum__")}),xn(t.g(Qr,$r),function(t){$(t[2],"__d3datum__")})}function Er(t,e){var r,o,i=jn(t),u=new C;try{o=[i.next()]}catch(a){return a!==co&&n(a),u}return u.next=function(){return 0===o.length&&n(co),o.splice(0,1)[0]},qn(u,function(t){return r=t,jn(e)},function(){try{var t=i.next();return o.push(t),[r,t]}catch(e){e!==co&&n(e)}})}function kr(t,n,e){return e=Tr(n,e),e.d(Er(n,t)),e}function Sr(t,n,e){return n=1===t?2:Math.floor((1-Math.pow(t,n+1))/(1-t)),e=Tr(n,e),e.d(Er(n,t)),e}function Nr(t,n){var e=Tr(t,n);return e.name("complete_graph("+t+")"),t>1&&e.d(e.c()?kn(jn(t)):En(jn(t))),e}function Ar(t,n){var e=zr(t,n);return e.name("cycle_graph("+t+")"),t>1&&e.b(t-1,0),e}function Tr(t,n){t instanceof ee&&(n=t,t=Qr),t!=Qr||(t=0);var e;return n!=Qr?(e=n,e.clear()):e=new ee,e.i(jn(t)),e.name("empty_graph("+t+")"),e}function qr(t,n,e,r){var o=Tr(0,r);o.name("grid_2d_graph"),r=D(jn(t));var i=D(jn(n));return io(r,function(t){io(i,function(n){o.N([t,n])})}),L(jn(1,t),function(t){io(i,function(n){o.b([t,n],[t-1,n])})}),io(r,function(t){L(jn(1,n),function(n){o.b([t,n],[t,n-1])})}),o.c()&&(L(jn(0,t-1),function(t){io(i,function(n){o.b([t,n],[t+1,n])})}),io(r,function(t){L(jn(0,n-1),function(n){o.b([t,n],[t,n+1])})})),e&&(n>2&&(io(r,function(t){o.b([t,0],[t,n-1])}),o.c()&&io(r,function(t){o.b([t,n-1],[t,0])})),t>2&&(io(i,function(n){o.b([0,n],[t-1,n])}),o.c()&&io(i,function(n){o.b([t-1,n],[0,n])})),o.name("periodic_grid_2d_graph("+t+","+n+")")),o}function Cr(t){return t=Tr(0,t),t.name("null_graph()"),t}function zr(t,n){var e=Tr(t,n);return e.name("path_graph("+t+")"),e.d(R(jn(t-1),function(t){return[t,t+1]})),e}function Lr(t){return t=Tr(1,t),t.name("null_graph()"),t}function Rr(t,n,e){e!=Qr||(e=Wr);var r=Tr(t);if(r.name("fast_gnp_random_graph("+t+","+n+")"),0>=n||n>=1)return Or(t,n,e);var o=1,i=-1;if(n=Math.log(1-n),e)for(r=new re(r);t>o;){for(e=Math.log(1-Math.random()),i=i+1+Math.floor(e/n),o===i&&(i+=1);i>=t&&t>o;)i-=t,o+=1,o==i&&(i+=1);t>o&&r.b(o,i)}else for(;t>o;){for(e=Math.log(1-Math.random()),i=i+1+Math.floor(e/n);i>=o&&t>o;)i-=o,o+=1;t>o&&r.b(o,i)}return r}function Or(t,n,e){var r;return r=e?new re:new ee,r.i(jn(t)),r.name("gnp_random_graph("+t+","+n+")"),0>=n?r:n>=1?Nr(t,r):(t=r.c()?kn(jn(t)):En(jn(t)),L(t,function(t){Math.random()<n&&r.b(t[0],t[1])}),r)}function Pr(t,e){Fe(t)||n(new un("Invalid degree sequence")),e!=Qr&&(e.c()&&n(new un("Directed Graph not supported")),e.m()&&n(new un("Havel-Hakimi requires simple graph")));var r=t.length,o=Tr(r,e);if(0===r||0===Math.max.apply(Qr,t))return o;for(r=D(wn(o,function(n){return[t[n],n]}));0<r.length;){if(r.sort(function(t,n){return t[0]!==n[0]?t[0]-n[0]:+t[1]-+n[1]}),0>r[0][0])return Wr;var i=r.pop();if(0===i[0])break;if(i[0]>r.length)return Wr;for(var u=r.length,a=u-i[0];u>a;a++)o.b(i[1],r[a][1]),r[a][0]-=1}return o.name("havel_hakimi_graph "+o.K()+" nodes "+o.size()+" edges"),o}function Dr(){var t=new ee;t.i(jn(34)),t.name("Zachary's Karate Club");var n=0;return io("0 1 1 1 1 1 1 1 1 0 1 1 1 1 0 0 0 1 0 1 0 1 0 0 0 0 0 0 0 0 0 1 0 0;1 0 1 1 0 0 0 1 0 0 0 0 0 1 0 0 0 1 0 1 0 1 0 0 0 0 0 0 0 0 1 0 0 0;1 1 0 1 0 0 0 1 1 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 1 0;1 1 1 0 0 0 0 1 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;1 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;1 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;1 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1 1;0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1;1 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;1 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1;0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1;1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1;1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1 0 1 0 0 1 1;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1 0 0 0 1 0 0;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 1 0 0;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 1;0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 1;0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1;0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 1 0 0 0 0 0 1 1;0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1;1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 1 0 0 0 1 1;0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 1 0 0 1 0 1 0 1 1 0 0 0 0 0 1 1 1 0 1;0 0 0 0 0 0 0 0 1 1 0 0 0 1 1 1 0 0 1 1 1 0 1 1 0 0 1 1 1 1 1 1 1 0".split(";"),function(e){xn(e.split(" "),function(e,r){"1"===e&&t.b(n,r)}),n+=1}),t}function Ir(){var t=new ee;return t.i("Evelyn Jefferson;Laura Mandeville;Theresa Anderson;Brenda Rogers;Charlotte McDowd;Frances Anderson;Eleanor Nye;Pearl Oglethorpe;Ruth DeSand;Verne Sanderson;Myra Liddel;Katherina Rogers;Sylvia Avondale;Nora Fayette;Helen Lloyd;Dorothy Murchison;Olivia Carleton;Flora Price".split(";"),{Ja:0}),t.i("E1 E2 E3 E4 E5 E6 E7 E8 E9 E10 E11 E12 E13 E14".split(" "),{Ja:1}),t.d([["Evelyn Jefferson","E1"],["Evelyn Jefferson","E2"],["Evelyn Jefferson","E3"],["Evelyn Jefferson","E4"],["Evelyn Jefferson","E5"],["Evelyn Jefferson","E6"],["Evelyn Jefferson","E8"],["Evelyn Jefferson","E9"],["Laura Mandeville","E1"],["Laura Mandeville","E2"],["Laura Mandeville","E3"],["Laura Mandeville","E5"],["Laura Mandeville","E6"],["Laura Mandeville","E7"],["Laura Mandeville","E8"],["Theresa Anderson","E2"],["Theresa Anderson","E3"],["Theresa Anderson","E4"],["Theresa Anderson","E5"],["Theresa Anderson","E6"],["Theresa Anderson","E7"],["Theresa Anderson","E8"],["Theresa Anderson","E9"],["Brenda Rogers","E1"],["Brenda Rogers","E3"],["Brenda Rogers","E4"],["Brenda Rogers","E5"],["Brenda Rogers","E6"],["Brenda Rogers","E7"],["Brenda Rogers","E8"],["Charlotte McDowd","E3"],["Charlotte McDowd","E4"],["Charlotte McDowd","E5"],["Charlotte McDowd","E7"],["Frances Anderson","E3"],["Frances Anderson","E5"],["Frances Anderson","E6"],["Frances Anderson","E8"],["Eleanor Nye","E5"],["Eleanor Nye","E6"],["Eleanor Nye","E7"],["Eleanor Nye","E8"],["Pearl Oglethorpe","E6"],["Pearl Oglethorpe","E8"],["Pearl Oglethorpe","E9"],["Ruth DeSand","E5"],["Ruth DeSand","E7"],["Ruth DeSand","E8"],["Ruth DeSand","E9"],["Verne Sanderson","E7"],["Verne Sanderson","E8"],["Verne Sanderson","E9"],["Verne Sanderson","E12"],["Myra Liddel","E8"],["Myra Liddel","E9"],["Myra Liddel","E10"],["Myra Liddel","E12"],["Katherina Rogers","E8"],["Katherina Rogers","E9"],["Katherina Rogers","E10"],["Katherina Rogers","E12"],["Katherina Rogers","E13"],["Katherina Rogers","E14"],["Sylvia Avondale","E7"],["Sylvia Avondale","E8"],["Sylvia Avondale","E9"],["Sylvia Avondale","E10"],["Sylvia Avondale","E12"],["Sylvia Avondale","E13"],["Sylvia Avondale","E14"],["Nora Fayette","E6"],["Nora Fayette","E7"],["Nora Fayette","E9"],["Nora Fayette","E10"],["Nora Fayette","E11"],["Nora Fayette","E12"],["Nora Fayette","E13"],["Nora Fayette","E14"],["Helen Lloyd","E7"],["Helen Lloyd","E8"],["Helen Lloyd","E10"],["Helen Lloyd","E11"],["Helen Lloyd","E12"],["Dorothy Murchison","E8"],["Dorothy Murchison","E9"],["Olivia Carleton","E9"],["Olivia Carleton","E11"],["Flora Price","E9"],["Flora Price","E11"]]),t}function Ur(){var t=new ee;return t.b("Acciaiuoli","Medici"),t.b("Castellani","Peruzzi"),t.b("Castellani","Strozzi"),t.b("Castellani","Barbadori"),t.b("Medici","Barbadori"),t.b("Medici","Ridolfi"),t.b("Medici","Tornabuoni"),t.b("Medici","Albizzi"),t.b("Medici","Salviati"),t.b("Salviati","Pazzi"),t.b("Peruzzi","Strozzi"),t.b("Peruzzi","Bischeri"),t.b("Strozzi","Ridolfi"),t.b("Strozzi","Bischeri"),t.b("Ridolfi","Tornabuoni"),t.b("Tornabuoni","Guadagni"),t.b("Albizzi","Ginori"),t.b("Albizzi","Guadagni"),t.b("Bischeri","Guadagni"),t.b("Guadagni","Lamberteschi"),t}function Fr(t,e){return e!=Qr&&e.c()&&n(new un("Directed Graph not supported")),Hr(t,e)}function Hr(t,e){var r=t[0],o=t[1],i=t[2],u=Tr(i,e),a=u.nodes();if("adjacencylist"==r){var s=t[3];s.length!=i&&n(new un("invalid graph_description")),io(a,function(t){xn(s[t],function(n){u.b(n-1,t)})})}else"edgelist"==r&&xn(t[3],function(t){var e=t[0]-1;t=t[1]-1,(0>e||e>i-1||0>t||t>i-1)&&n(new un("invalid graph_description")),u.b(e,t)});return u.name=o,u}function Jr(t){return Fr(["adjacencylist","Bull Graph",5,[[2,3],[1,3,4],[1,2,5],[2],[3]]],t)}function Br(t){return Fr(["adjacencylist","Krackhardt Kite Social Network",10,[[2,3,4,6],[1,4,5,7],[1,4,6],[1,2,3,5,6,7],[2,4,7],[1,3,4,7,8],[2,4,5,6,8],[6,7,9],[8,10],[9]]],t)}function Gr(t,n,e){var r=n;return!l(r.set)&&!l(r.get)&&(r=new gn(r)),l(n)&&(r=new gn,L(t.C(),function(t){r.set(t,n(t))})),!i(e)||e?Yr(t,r):Xr(t,r)}function Xr(t,e){var r,o=new vn(e.keys());if(0<o.q(e.n()).count()){o=new re(e),o.L(o.ea());try{r=Ge(o)}catch(i){i instanceof cn&&n(new cn("The node label sets are overlapping and no ordering can resolve the mapping. Use copy=True."))}r.reverse()}else r=o;var u,a=t.m(),s=t.c();return L(r,function(r){var o;e.a(r)&&(o=e.get(r),t.o(r)||n(new un("Node "+r+" is not in the graph.")),t.N(o,t.node.get(r)),a?(u=ao(t.v(r,$r,$r),function(t){return[o,t[1],t[2],t[3]]}),s&&(u=b(u,ao(t.Y(r,$r,$r),function(t){return[t[0],o,t[2],t[3]]})))):(u=ao(t.v(r,$r),function(t){return[o,t[1],t[2]]}),s&&(u=b(u,ao(t.Y(r,$r),function(t){return[t[0],o,t[2]]})))),t.U(r),t.d(u))}),t}function Yr(t,n){var e=new t.constructor;e.name("("+t.name()+")"),e.d(t.m()?R(t.g(Qr,$r,$r),function(t){return[n.get(t[0],t[0]),n.get(t[1],t[1]),t[2],W(t[3])]}):R(t.g(Qr,$r),function(t){return[n.get(t[0],t[0]),n.get(t[1],t[1]),W(t[2])]})),e.i(R(Tn(t),function(t){return n.get(t,t)}));var r=new gn;return t.node.forEach(function(e){r.set(n.get(e,e),W(t.node.get(e)))}),r.forEach(function(t,n){e.node.set(t,n)}),tn(e.graph,W(t.graph)),e}function Kr(t,e,r,o){3===arguments.length&&c(r)?(o=r,r=Qr):2===arguments.length&&(c(e)?(o=e,e=Qr):s(e)&&(r=e,e=Qr)),e!=Qr||(e=0),r!=Qr||(r="default"),o!=Qr||(o=$r),t.S();var i,u,a,f,l=new gn;if("default"===r)for(i=t.nodes(),u=0,a=e,f=i.length;f>u;u++,a++)l.set(i[u],a);else if("sorted"===r)for(i=t.nodes(),ro.sort.call(i,S),u=0,a=e,f=i.length;f>u;u++,a++)l.set(i[u],a);else if("increasing degree"===r)for(i=D(t.u()),i.sort(function(t,n){return t[1]-n[1]}),u=0,a=e,f=i.length;f>u;u++,a++)l.set(i[u][0],a);else if("decreasing degree"===r)for(i=D(t.u()),i.sort(function(t,n){return n[1]-t[1]}),u=0,a=e,f=i.length;f>u;u++,a++)l.set(i[u][0],a);else n(new un("Unkown node ordering: "+r));return u=Gr(t,l),u.name("("+t.name()+")_with_int_labels"),o||(u.node_labels=l),u}var Vr,Zr=void 0,$r=!0,Qr=null,Wr=!1,to=this,no="closure_uid_"+(1e9*Math.random()>>>0),eo=0,ro=Array.prototype,oo=ro.indexOf?function(t,n,e){return ro.indexOf.call(t,n,e)}:function(t,n,e){if(e=e==Qr?0:0>e?Math.max(0,t.length+e):e,s(t))return s(n)&&1==n.length?t.indexOf(n,e):-1;for(;e<t.length;e++)if(e in t&&t[e]===n)return e;return-1},io=ro.forEach?function(t,n,e){ro.forEach.call(t,n,e)}:function(t,n,e){for(var r=t.length,o=s(t)?t.split(""):t,i=0;r>i;i++)i in o&&n.call(e,o[i],i,t)},uo=ro.filter?function(t,n,e){return ro.filter.call(t,n,e)}:function(t,n,e){for(var r=t.length,o=[],i=0,u=s(t)?t.split(""):t,a=0;r>a;a++)if(a in u){var c=u[a];n.call(e,c,a,t)&&(o[i++]=c)}return o},ao=ro.map?function(t,n,e){return ro.map.call(t,n,e)}:function(t,n,e){for(var r=t.length,o=Array(r),i=s(t)?t.split(""):t,u=0;r>u;u++)u in i&&(o[u]=n.call(e,i[u],u,t));return o},so=ro.some?function(t,n,e){return ro.some.call(t,n,e)}:function(t,n,e){for(var r=t.length,o=s(t)?t.split(""):t,i=0;r>i;i++)if(i in o&&n.call(e,o[i],i,t))return $r;return Wr},co="StopIteration"in to?to.StopIteration:Error("StopIteration");C.prototype.next=function(){n(co)},C.prototype.I=function(){return this},U.ua=function(){return U.wa?U.wa:U.wa=new U},U.prototype.Qa=0,U.ua(),v("jsnx.utils.misc.is_list_of_ints",F),v("jsnx.utils.is_list_of_ints",F),v("jsnx.utils.misc.cumulative_sum",H),v("jsnx.utils.cumulative_sum",H),v("jsnx.utils.misc.generate_unique_node",J),v("jsnx.utils.generate_unique_node",J);var fo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");en.prototype.ga="",en.prototype.length=0,v("jsnx.contrib.Tuple.prototype.length",en.prototype.length),en.prototype.toString=function(){return this.ga},v("jsnx.contrib.Tuple.prototype.toString",en.prototype.toString),v("jsnx.Tuple",rn),v("jsnx.t",rn),v("jsnx.exception.JSNetworkXException",on),on.prototype=Error(),on.prototype.constructor=on,v("jsnx.JSNetworkXException",on),y(un,on),v("jsnx.exception.JSNetworkXError",un),v("jsnx.JSNetworkXError",un),y(an,on),v("jsnx.exception.JSNetworkXPointlessConcept",an),v("jsnx.JSNetworkXPointlessConcept",an),y(sn,on),v("jsnx.exception.JSNetworkXAlgorithmError",sn),v("jsnx.JSNetworkXAlgorithmError",sn),y(cn,sn),v("jsnx.exception.JSNetworkXUnfeasible",cn),v("jsnx.JSNetworkXUnfeasible",cn),y(fn,cn),v("jsnx.exception.JSNetworkXNoPath",fn),v("jsnx.JSNetworkXNoPath",fn),y(ln,sn),v("jsnx.exception.JSNetworkXUnbounded",ln),v("jsnx.JSNetworkXUnbounded",ln),hn.prototype=Error(),hn.prototype.constructor=hn,v("jsnx.KeyError",hn),v("jsnx.version","0.2.0"),v("jsnx.contrib.misc.get_hash",pn),v("jsnx.contrib.Map",gn),v("jsnx.Map",gn),gn.prototype.get=function(t,e){var r=dn(this,t);return"undefined"!=typeof r[t]?r[t]:i(e)?e:void n(new hn("Map does not contain key "+Qn(t)))},gn.prototype.get=gn.prototype.get,gn.prototype.a=function(t){return"undefined"!=typeof dn(this,t)[t]},gn.prototype.has=gn.prototype.a,gn.prototype.set=function(t,n){var e=dn(this,t);return e[t]=n,e===this.A&&(this.h[t]=t),n},gn.prototype.set=gn.prototype.set,gn.prototype.remove=function(t){var e=dn(this,t);"undefined"!=typeof e[t]?(delete e[t],e===this.A&&delete this.h[t]):n(new hn("Map does not contain key "+Qn(t)))},gn.prototype.remove=gn.prototype.remove,gn.prototype.Z=function(){var t,n=[];for(t in this.D)n.push([+t,this.D[t]]);for(t in this.F)n.push([t,this.F[t]]);for(t in this.A)n.push([this.h[t],this.A[t]]);return n},gn.prototype.items=gn.prototype.Z,gn.prototype.copy=function(t){return Ln(this,t)},gn.prototype.keys=function(){return ao(V(this.D),function(t){return+t}).concat(V(this.F)).concat(K(this.h))},gn.prototype.keys=gn.prototype.keys,gn.prototype.n=function(){return K(this.D).concat(K(this.F)).concat(K(this.A))},gn.prototype.values=gn.prototype.n,gn.prototype.I=function(){var t=new C,e=V(this.F),r=V(this.D),o=V(this.A),i=0,u=0,a=0;return t.next=d(function(){var t;return i<r.length?(t=r[i++],[+t,this.D[t]]):u<e.length?(t=e[u++],[t,this.F[t]]):a<o.length?(t=o[a++],[this.h[t],this.A[t]]):void n(co)},this),t},gn.prototype.count=function(){return X(this.A)+X(this.D)+X(this.F)},gn.prototype.count=gn.prototype.count,gn.prototype.clear=function(){Z(this.F),Z(this.D),Z(this.A),Z(this.h)},gn.prototype.clear=gn.prototype.clear,gn.prototype.forEach=function(t,n){L(this,function(e){t.apply(n,e)})},gn.prototype.forEach=gn.prototype.forEach,v("jsnx.contrib.Set",vn),v("jsnx.Set",vn),vn.prototype.a=function(t){return this.e.a(t)},vn.prototype.has=vn.prototype.a,vn.prototype.add=function(t){this.e.set(t,$r)},vn.prototype.add=vn.prototype.add,vn.prototype.remove=function(t){try{this.e.remove(t)}catch(e){e instanceof hn||n(e)}},vn.prototype.remove=vn.prototype.remove,vn.prototype.copy=function(t){return Ln(this,t)},vn.prototype.n=function(){return this.e.keys()},vn.prototype.values=vn.prototype.n,vn.prototype.I=function(){return R(this.e,function(t){return t[0]})},vn.prototype.O=function(){for(var t=new vn(this.n()),n=0,e=arguments.length;e>n;n++){var r=arguments[n];r instanceof vn&&(r=r.n());for(var o=0,i=r.length;i>o;o++)t.remove(r[o])}return t},vn.prototype.difference=vn.prototype.O,vn.prototype.q=function(){for(var t=new vn,n=0,e=arguments.length;e>n;n++){var r=arguments[n];r instanceof vn&&(r=r.n());for(var o=0,i=r.length;i>o;o++)this.a(r[o])&&t.add(r[o])}return t},vn.prototype.intersection=vn.prototype.q,vn.prototype.count=function(){return this.e.count()},vn.prototype.count=vn.prototype.count,vn.prototype.clear=function(){this.e.clear()},vn.prototype.clear=vn.prototype.clear,vn.prototype.forEach=function(t,n){L(this,t,n)},vn.prototype.forEach=vn.prototype.forEach,v("jsnx.filter",function(t,n,e){var r=z(t);return t=new C,t.next=function(){for(;;){var t=r.next();if(n.call(e,t,Zr,r))return t}},t}),v("jsnx.forEach",xn),v("jsnx.map",wn),v("jsnx.toArray",Nn),v("jsnx.sentinelIterator",function(t,n){var e=new C;return e.next=function(){return I(t,n)},e});var lo=function jo(t,n){return 0===n?t:jo(n,t%n)};v("jsnx.contrib.convert.to_map_of_lists",Rn),v("jsnx.to_map_of_lists",Rn),v("jsnx.contrib.convert.from_map_of_lists",On),v("jsnx.contrib.convert.to_map_of_maps",function(t,n,e){var r=new gn;return n!=Qr?(n=Nn(n),e!=Qr?io(n,function(o){var i=r.set(o,new gn);t.get(o).forEach(function(t){0<=oo(n,t)&&i.set(t,e)})}):io(n,function(e){var o=r.set(e,new gn);t.get(e).forEach(function(t,e){0<=oo(n,t)&&o.set(t,e)})})):e!=Qr?L(t.p(),function(t,n){var o=r.set(n,new gn);t.forEach(function(t){o.set(t,e)})}):L(t.p(),function(t,n){var e=r.set(n,new gn);t.forEach(function(t,n){e.set(t,n)})}),r}),v("jsnx.contrib.convert.from_map_of_maps",Pn),Vr=In.prototype,Vr.J=0,Vr.fa=0,Vr.ia=function(){return this.J},Vr.P=function(){Un(this);for(var t=[],n=0;n<this.h.length;n++)t.push(this.e[this.h[n]]);return t},Vr.na=function(){return Un(this),this.h.concat()},Vr.ta=function(t){return Fn(this.e,t)},Vr.ja=function(){return 0==this.J},Vr.clear=function(){this.e={},this.fa=this.J=this.h.length=0},Vr.remove=function(t){return Fn(this.e,t)?(delete this.e[t],this.J--,this.fa++,this.h.length>2*this.J&&Un(this),$r):Wr},Vr.get=function(t,n){return Fn(this.e,t)?this.e[t]:n},Vr.set=function(t,n){Fn(this.e,t)||(this.J++,this.h.push(t),this.fa++),this.e[t]=n},Vr.ma=function(t){var n;t instanceof In?(n=t.na(),t=t.P()):(n=V(t),t=K(t));for(var e=0;e<n.length;e++)this.set(n[e],t[e])},Vr.ha=function(){return new In(this)},Vr.I=function(t){Un(this);var e=0,r=this.h,o=this.e,i=this.fa,u=this,a=new C;return a.next=function(){for(;;){i!=u.fa&&n(Error("The map has changed since the iterator was created")),e>=r.length&&n(co);var a=r[e++];return t?a:o[a]}},a},Vr=Hn.prototype,Vr.ia=function(){return this.e.ia()},Vr.add=function(t){this.e.set(Jn(t),t)},Vr.ma=function(t){t=Dn(t);for(var n=t.length,e=0;n>e;e++)this.add(t[e])},Vr.remove=function(t){return this.e.remove(Jn(t))},Vr.clear=function(){this.e.clear()},Vr.ja=function(){return this.e.ja()},Vr.contains=function(t){return this.e.ta(Jn(t))},Vr.q=function(t){var n=new Hn;t=Dn(t);for(var e=0;e<t.length;e++){var r=t[e];this.contains(r)&&n.add(r)}return n},Vr.O=function(t){var n=this.ha();t=Dn(t);for(var e=t.length,r=0;e>r;r++)n.remove(t[r]);return n},Vr.P=function(){return this.e.P()},Vr.ha=function(){return new Hn(this)},Vr.I=function(){return this.e.I(Wr)},v("jsnx.convert.to_networkx_graph",Gn),v("jsnx.to_networkx_graph",Gn),v("jsnx.convert.convert_to_undirected",Xn),v("jsnx.convert_to_undirected",Xn),v("jsnx.convert.convert_to_directed",Yn),v("jsnx.convert_to_undirected",Yn),v("jsnx.convert.to_dict_of_lists",Kn),v("jsnx.to_dict_of_lists",Kn),v("jsnx.convert.from_dict_of_lists",Vn),v("jsnx.convert.to_dict_of_dicts",function(t,n,e){var r={};return n!=Qr?(n=Nn(n),e!=Qr?io(n,function(o){r[o]={},B(t.get(o),function(t,i){0<=oo(n,i)&&(r[o][i]=e)})}):io(n,function(e){r[e]={},B(t.get(e),function(t,o){0<=oo(n,o)&&(r[e][o]=t)})})):e!=Qr?L(t.p(),function(t,n){r[n]=G(t,function(){return e})}):L(t.p(),function(t,n){r[n]=W(t)}),r}),v("jsnx.convert.from_dict_of_dicts",Zn),v("jsnx.convert.to_edgelist",function(t,n){return n!=Qr?t.v(n,$r):t.v(Qr,$r)}),v("jsnx.convert.from_edgelist",$n);var ho={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},po=/\uffff/.test("")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,go={hb:function(t){return Math.floor(Math.random()*t)},nb:function(t,n){return t+Math.random()*(n-t)},ab:function(t,n,e){return Math.min(Math.max(t,n),e)},Pa:function(t,n){var e=t%n;return 0>e*n?e+n:e},eb:function(t,n,e){return t+e*(n-t)},gb:function(t,n,e){return Math.abs(t-n)<=(e||1e-6)},pa:function(t){return go.Pa(t,360)},Ba:function(t){return t*Math.PI/180},Xa:function(t){return 180*t/Math.PI},Za:function(t,n){return n*Math.cos(go.Ba(t))},$a:function(t,n){return n*Math.sin(go.Ba(t))},sa:function(t,n,e,r){return go.pa(go.Xa(Math.atan2(r-n,e-t)))},Ya:function(t,n){var e=go.pa(n)-go.pa(t);return e>180?e-=360:-180>=e&&(e=360+e),e},kb:function(t){return 0==t?0:0>t?-1:1},fb:function(t,n,e,r){e=e||function(t,n){return t==n},r=r||function(n){return t[n]};for(var o=t.length,i=n.length,u=[],a=0;o+1>a;a++)u[a]=[],u[a][0]=0;for(var s=0;i+1>s;s++)u[0][s]=0;for(a=1;o>=a;a++)for(s=1;o>=s;s++)u[a][s]=e(t[a-1],n[s-1])?u[a-1][s-1]+1:Math.max(u[a-1][s],u[a][s-1]);for(var c=[],a=o,s=i;a>0&&s>0;)e(t[a-1],n[s-1])?(c.unshift(r(a-1,s-1)),a--,s--):u[a-1][s]>u[a][s-1]?a--:s--;return c},w:function(){return _(arguments,function(t,n){return t+n})},Ia:function(){return go.w.apply(Qr,arguments)/arguments.length},lb:function(){var t=arguments.length;if(2>t)return 0;var n=go.Ia.apply(Qr,arguments),t=go.w.apply(Qr,ao(arguments,function(t){return Math.pow(t-n,2)}))/(t-1);return Math.sqrt(t)},cb:function(t){return isFinite(t)&&0==t%1},bb:function(t){return isFinite(t)&&!isNaN(t)},jb:function(t,n){return Math.floor(t+(n||2e-15))},ib:function(t,n){return Math.ceil(t-(n||2e-15))}};v("jsnx.classes.Graph",ee),v("jsnx.Graph",ee),ee.__name__="Graph",ee.prototype.Ma=Qr,ee.prototype.graph=ee.prototype.Ma,ee.prototype.Ra=Qr,ee.prototype.node=ee.prototype.Ra,ee.prototype.Ga=Qr,ee.prototype.adj=ee.prototype.Ga,ee.prototype.Ka=Qr,ee.prototype.edge=ee.prototype.Ka,ee.prototype.name=function(t){return i(t)?void(this.graph.name=t.toString()):this.graph.name||""},ee.prototype.name=ee.prototype.name,ee.prototype.toString=function(){return this.name()},ee.prototype.toString=ee.prototype.toString,ee.prototype.get=function(t){try{return this.adj.get(t)
}catch(e){e instanceof hn||n(e),n(new hn("Graph does not contain node "+t+"."))}},ee.prototype.get=ee.prototype.get,ee.prototype.N=function(t,e){e!=Qr||(e={}),"object"!==o(e)&&n(new un("The attr_dict argument must be an object.")),this.adj.a(t)?tn(this.node.get(t),e):(this.adj.set(t,new gn),this.node.set(t,e))},ee.prototype.add_node=ee.prototype.N,ee.prototype.i=function(t,n){n!=Qr||(n={}),xn(t,function(t){if(u(t)&&2===t.length&&h(t[1])){var e=t[0];if(t=t[1],this.adj.a(e))e=this.node.get(e),tn(e,n,t);else{this.adj.set(e,new gn);var r=W(n);tn(r,t),this.node.set(e,r)}}else this.adj.a(t)?tn(this.node.get(t),n):(this.adj.set(t,new gn),this.node.set(t,W(n)))},this)},ee.prototype.add_nodes_from=ee.prototype.i,ee.prototype.U=function(t){var e=this.adj;try{var r=this.adj.get(t).keys();this.node.remove(t),io(r,function(n){e.get(n).remove(t)}),e.remove(t)}catch(o){o instanceof hn||n(o),n(new un(m("The node %s is not in the graph",Qn(t))))}},ee.prototype.remove_node=ee.prototype.U,ee.prototype.da=function(t){var e=this.adj;xn(t,function(t){try{this.node.remove(t),e.get(t).forEach(function(n){e.get(n).remove(t)}),e.remove(t)}catch(r){r instanceof hn||n(r)}},this)},ee.prototype.remove_nodes_from=ee.prototype.da,ee.prototype.C=function(t){return z(t?this.node:this.adj.keys())},ee.prototype.nodes_iter=ee.prototype.C,ee.prototype.nodes=function(t){return t?this.node.Z():this.node.keys()},ee.prototype.nodes=ee.prototype.nodes,ee.prototype.S=function(){return this.adj.count()},ee.prototype.number_of_nodes=ee.prototype.S,ee.prototype.K=function(){return this.adj.count()},ee.prototype.order=ee.prototype.K,ee.prototype.o=function(t){try{return this.adj.a(t)}catch(e){if(e instanceof TypeError)return Wr;n(e)}},ee.prototype.has_node=ee.prototype.o,ee.prototype.b=function(t,e,r){r=r||{},"object"!==o(r)&&n(new un("The attr_dict argument must be an object.")),this.adj.a(t)||(this.adj.set(t,new gn),this.node.set(t,{})),this.adj.a(e)||(this.adj.set(e,new gn),this.node.set(e,{}));var i=this.adj.get(t).get(e,{});tn(i,r),this.adj.get(t).set(e,i),this.adj.get(e).set(t,i)},ee.prototype.add_edge=ee.prototype.b,ee.prototype.d=function(t,e){e=e||{},"object"!==o(e)&&n(new un("The attr_dict argument must be an object.")),xn(t,function(t){var r,o,i,u=_n(t);3===u?(r=t[0],o=t[1],i=t[2]):2===u?(r=t[0],o=t[1],i={}):n(new un(m("Edge tuple %s must be a 2-tuple or 3-tuple.",Qn(t)))),this.adj.a(r)||(this.adj.set(r,new gn),this.node.set(r,{})),this.adj.a(o)||(this.adj.set(o,new gn),this.node.set(o,{})),t=this.adj.get(r).get(o,{}),tn(t,e,i),this.adj.get(r).set(o,t),this.adj.get(o).set(r,t)},this)},ee.prototype.add_edges_from=ee.prototype.d,ee.prototype.Fa=function(t,e,r){r=r||{},s(e)||(r=e,e="weight"),this.d(wn(t,function(t){var r={};return r[e]=t[2],i(r[e])||n(new TypeError("Values must consist of three elements: "+Qn(t))),[t[0],t[1],r]}),r)},ee.prototype.add_weighted_edges_from=ee.prototype.Fa,ee.prototype.z=function(t,e){try{this.adj.get(t).remove(e),pn(t)!==pn(e)&&this.adj.get(e).remove(t)}catch(r){r instanceof hn&&n(new un(m("The edge %s-%s is not in the graph",Qn(t),Qn(e)))),n(r)}},ee.prototype.remove_edge=ee.prototype.z,ee.prototype.L=function(t){xn(t,function(t){var n=t[0];t=t[1],this.adj.a(n)&&this.adj.get(n).a(t)&&(this.adj.get(n).remove(t),pn(n)!==pn(t)&&this.adj.get(t).remove(n))},this)},ee.prototype.remove_edges_from=ee.prototype.L,ee.prototype.T=function(t,n){return this.adj.a(t)&&this.adj.get(t).a(n)},ee.prototype.has_edge=ee.prototype.T,ee.prototype.B=function(t){try{return this.adj.get(t).keys()}catch(e){e instanceof hn&&n(new un(m("The node %s is not in the graph.",Qn(t)))),n(e)}},ee.prototype.neighbors=ee.prototype.B,ee.prototype.ba=function(t){try{return z(this.adj.get(t).keys())}catch(e){e instanceof hn&&n(new un(m("The node %s is not in the graph.",Qn(t)))),n(e)}},ee.prototype.neighbors_iter=ee.prototype.ba,ee.prototype.v=function(t,n){return D(this.g(t,n))},ee.prototype.edges=ee.prototype.v,ee.prototype.g=function(t,e){c(t)&&(e=t,t=Qr);var r,o,i=new gn;return r=t!=Qr?R(this.f(t),function(t){return[t,this.adj.get(t)]},this):z(this.adj),e?qn(r,function(t){o=t[0];var e=new C,r=z(t[1]);return e.next=function(){try{return r.next()}catch(t){t===co&&i.set(o,1),n(t)}},e},function(t){return i.a(t[0])?void 0:[o,t[0],t[1]]}):qn(r,function(t){o=t[0];var e=new C,r=z(t[1]);return e.next=function(){try{return r.next()}catch(t){t===co&&i.set(o,1),n(t)}},e},function(t){return i.a(t[0])?void 0:[o,t[0]]})},ee.prototype.edges_iter=ee.prototype.g,ee.prototype.W=function(t,e,r){try{return this.adj.get(t).get(e)}catch(o){if(o instanceof hn)return r;n(o)}},ee.prototype.get_edge_data=ee.prototype.W,ee.prototype.Ha=function(){return D(R(this.p(),function(t){return t[1].keys()}))},ee.prototype.adjacency_list=ee.prototype.Ha,ee.prototype.p=function(){return z(this.adj)},ee.prototype.adjacency_iter=ee.prototype.p,ee.prototype.t=function(t,n){return t!=Qr&&this.o(t)?this.u(t,n).next()[1]:new gn(this.u(t,n))},ee.prototype.degree=ee.prototype.t,ee.prototype.u=function(t,n){var e;return e=t!=Qr?R(this.f(t),function(t){return[t,this.adj.get(t)]},this):z(this.adj),n?R(e,function(t){var e=t[0],r=t[1],o=0;return r.forEach(function(t,e){o+=+Q(e,n,1)}),o+=+(r.a(e)&&Q(r.get(e),n,1)),t[1]=o,t}):R(e,function(t){return t[1]=t[1].count()+ +t[1].a(t[0]),t})},ee.prototype.degree_iter=ee.prototype.u,ee.prototype.clear=function(){this.name(""),this.adj.clear(),this.node.clear(),Z(this.graph)},ee.prototype.clear=ee.prototype.clear,ee.prototype.copy=function(){return Ln(this)},ee.prototype.copy=ee.prototype.copy,ee.prototype.m=e(Wr),ee.prototype.is_multigraph=ee.prototype.m,ee.prototype.c=e(Wr),ee.prototype.is_directed=ee.prototype.c,ee.prototype.M=function(){var t=new re;return t.name(this.name()),t.i(this),t.d(function(){var t;return qn(this.p(),function(n){return t=n[0],z(n[1])},function(n){return n[2]=zn(n[1]),n[1]=n[0],n[0]=t,n})}.call(this)),t.graph=zn(this.graph),t.node=zn(this.node),t},ee.prototype.to_directed=ee.prototype.M,ee.prototype.V=function(){return Ln(this)},ee.prototype.to_undirected=ee.prototype.V,ee.prototype.H=function(t){t=this.f(t);var n=new this.constructor,e=n.adj,r=this.adj;return L(t,function(t){var n=new gn;e.set(t,n),r.get(t).forEach(function(r,o){e.a(r)&&(n.set(r,o),e.get(r).set(t,o))})}),xn(n,function(t){n.node.set(t,this.node.get(t))},this),n.graph=this.graph,n},ee.prototype.subgraph=ee.prototype.H,ee.prototype.Sa=function(){return ao(uo(this.adj.Z(),function(t){return t[1].a(t[0])}),function(t){return t[0]})},ee.prototype.nodes_with_selfloops=ee.prototype.Sa,ee.prototype.ea=function(t){return t?ao(uo(this.adj.Z(),function(t){return t[1].a(t[0])}),function(t){return t[2]=t[1].get(t[0]),t[1]=t[0],t}):ao(uo(this.adj.Z(),function(t){return t[1].a(t[0])}),function(t){return t[1]=t[0],t})},ee.prototype.selfloop_edges=ee.prototype.ea,ee.prototype.Ta=function(){return this.ea().length},ee.prototype.number_of_selfloops=ee.prototype.Ta,ee.prototype.size=function(t){var n=go.w.apply(Qr,this.t(Qr,t).n())/2;return t!=Qr?n:Math.floor(n)},ee.prototype.size=ee.prototype.size,ee.prototype.R=function(t,n){return t==Qr?Math.floor(this.size()):this.adj.get(t).a(n)?1:0},ee.prototype.number_of_edges=ee.prototype.R,ee.prototype.Ea=function(t,n){var e=Nn(t),r=e[0],e=R(E(e,1),function(t){return[r,t]});this.d(e,n)},ee.prototype.add_star=ee.prototype.Ea,ee.prototype.Da=function(t,n){var e=Nn(t),e=T(E(e,0,e.length-1),E(e,1));this.d(e,n)},ee.prototype.add_path=ee.prototype.Da,ee.prototype.Ca=function(t,n){var e=Nn(t),e=T(e,b(E(e,1),[e[0]]));this.d(e,n)},ee.prototype.add_cycle=ee.prototype.Ca,ee.prototype.f=function(t){return t!=Qr?this.o(t)?z([t]):function(t,e){var r=new C,o=qn(t,function(t){return e.a(t)?t:void 0});return r.next=function(){try{return o.next()}catch(t){t instanceof TypeError&&n(new un("nbunch is not a node or a sequence of nodes")),n(t)}},r}(t,this.adj):z(this.adj.keys())},ee.prototype.nbunch_iter=ee.prototype.f,v("jsnx.classes.DiGraph",re),v("jsnx.DiGraph",re),y(re,ee),re.__name__="DiGraph",re.prototype.Ua=Qr,re.prototype.pred=re.prototype.Ua,re.prototype.Wa=Qr,re.prototype.succ=re.prototype.Wa,re.prototype.N=function(t,e){e!=Qr||(e={}),"object"!==o(e)&&n(new un("The attr_dict argument must be an object.")),this.succ.a(t)?tn(this.node.get(t),e):(this.succ.set(t,new gn),this.pred.set(t,new gn),this.node.set(t,e))},re.prototype.add_node=re.prototype.N,re.prototype.i=function(t,n){var e,r,o,i,a;n!=Qr||(n={}),xn(Tn(t),function(t){e=!this.succ.a(t),u(t)&&2===t.length&&h(t[1])?(r=t[0],o=t[1],this.succ.a(r)?(a=this.node.get(r),tn(a,n,o)):(this.succ.set(r,new gn),this.pred.set(r,new gn),i=W(n),tn(i,o),this.node.set(r,i))):e?(this.succ.set(t,new gn),this.pred.set(t,new gn),this.node.set(t,W(n))):tn(this.node.get(t),n)},this)},re.prototype.add_nodes_from=re.prototype.i,re.prototype.U=function(t){var e;try{e=this.succ.get(t),this.node.remove(t)}catch(r){r instanceof hn||n(r),n(new un(m("The node %s is not in the graph",Qn(t))))}e.forEach(function(n){this.pred.get(n).remove(t)},this),this.succ.remove(t),this.pred.get(t).forEach(function(n){this.succ.get(n).remove(t)},this),this.pred.remove(t)},re.prototype.remove_node=re.prototype.U,re.prototype.da=function(t){var n;xn(t,function(t){this.succ.a(t)&&(n=this.succ.get(t),this.node.remove(t),n.forEach(function(n){this.pred.get(n).remove(t)},this),this.succ.remove(t),this.pred.get(t).forEach(function(n){this.succ.get(n).remove(t)},this),this.pred.remove(t))},this)},re.prototype.remove_nodes_from=re.prototype.da,re.prototype.b=function(t,e,r){r=r||{},"object"!==o(r)&&n(new un("The attr_dict argument must be an object.")),this.succ.a(t)||(this.succ.set(t,new gn),this.pred.set(t,new gn),this.node.set(t,{})),this.succ.a(e)||(this.succ.set(e,new gn),this.pred.set(e,new gn),this.node.set(e,{}));var i=this.adj.get(t).get(e,{});tn(i,r),this.succ.get(t).set(e,i),this.pred.get(e).set(t,i)},re.prototype.add_edge=re.prototype.b,re.prototype.d=function(t,e){e=e||{},"object"!==o(e)&&n(new un("The attr_dict argument must be an object.")),xn(t,function(t){var r,o,i,u=_n(t);3===u?(r=t[0],o=t[1],i=t[2]):2===u?(r=t[0],o=t[1],i={}):n(new un("Edge tuple "+t.toString()+" must be a 2-tuple or 3-tuple.")),this.succ.a(r)||(this.succ.set(r,new gn),this.pred.set(r,new gn),this.node.set(r,{})),this.succ.a(o)||(this.succ.set(o,new gn),this.pred.set(o,new gn),this.node.set(o,{})),t=this.adj.get(r).get(o,{}),tn(t,e,i),this.succ.get(r).set(o,t),this.pred.get(o).set(r,t)},this)},re.prototype.add_edges_from=re.prototype.d,re.prototype.z=function(t,e){try{this.succ.get(t).remove(e),this.pred.get(e).remove(t)}catch(r){r instanceof TypeError&&n(new un(m("The edge %s-%s is not in the graph",Qn(t),Qn(e)))),n(r)}},re.prototype.remove_edge=re.prototype.z,re.prototype.L=function(t){xn(t,function(t){var n=t[0];t=t[1];try{this.succ.get(n).remove(t),this.pred.get(t).remove(n)}catch(e){}},this)},re.prototype.remove_edges_from=re.prototype.L,re.prototype.Oa=function(t,n){return this.succ.a(t)&&this.succ.get(t).a(n)},re.prototype.has_successor=re.prototype.Oa,re.prototype.Na=function(t,n){return this.pred.a(t)&&this.pred.get(t).a(n)},re.prototype.has_predecessor=re.prototype.Na,re.prototype.qa=function(t){try{return R(this.succ.get(t),function(t){return t[0]})}catch(e){e instanceof hn||n(e),n(new un("The node "+t+" is not in the digraph."))}},re.prototype.successors_iter=re.prototype.qa,re.prototype.za=function(t){try{return R(this.pred.get(t),function(t){return t[0]})}catch(e){e instanceof hn||n(e),n(new un("The node "+t+" is not in the digraph."))}},re.prototype.predecessors_iter=re.prototype.za,re.prototype.Aa=function(t){try{return this.succ.get(t).keys()}catch(e){e instanceof hn||n(e),n(new un("The node "+t+" is not in the digraph."))}},re.prototype.successors=re.prototype.Aa,re.prototype.Va=function(t){try{return this.pred.get(t).keys()}catch(e){e instanceof hn||n(e),n(new un("The node "+t+" is not in the digraph."))}},re.prototype.predecessors=re.prototype.Va,re.prototype.B=re.prototype.Aa,re.prototype.neighbors=re.prototype.B,re.prototype.ba=re.prototype.qa,re.prototype.neighbors_iter=re.prototype.ba,re.prototype.g=function(t,n){c(t)&&(n=t,t=Qr);var e,r;if(t!=Qr){var o=[];e=wn(this.f(t),function(t){return o[0]=t,o[1]=this.adj.get(t),o},this)}else e=this.adj;return n?qn(e,function(t){return r=t[0],z(t[1])},function(t){return[r,t[0],t[1]]}):qn(e,function(t){return r=t[0],z(t[1])},function(t){return[r,t[0]]})},re.prototype.edges_iter=re.prototype.g,re.prototype.ka=re.prototype.g,re.prototype.out_edges_iter=re.prototype.ka,re.prototype.oa=ee.prototype.v,re.prototype.out_edges=re.prototype.oa,re.prototype.Q=function(t,n){c(t)&&(n=t,t=Qr);var e,r;if(t!=Qr){var o=[];e=wn(this.f(t),function(t){return o[0]=t,o[1]=this.pred.get(t),o},this)}else e=this.pred;return n?qn(e,function(t){return r=t[0],z(t[1])},function(t){return t[2]=t[1],t[1]=r,t}):qn(e,function(t){return r=t[0],z(t[1])},function(t){return t[1]=r,t})},re.prototype.in_edges_iter=re.prototype.Q,re.prototype.Y=function(t,n){return Nn(this.Q(t,n))},re.prototype.in_edges=re.prototype.Y,re.prototype.u=function(t,n){var e;return e=t!=Qr?bn(R(this.f(t),function(t){return[t,this.succ.get(t)]},this),wn(this.f(t),function(t){return[t,this.pred.get(t)]},this)):bn(z(this.succ),z(this.pred)),s(n)?wn(e,function(t){var e=t[1][1],r=0;return t[0][1].forEach(function(t,e){r+=+Q(e,n,1)}),e.forEach(function(t,e){r+=+Q(e,n,1)}),[t[0][0],r]}):R(e,function(t){return[t[0][0],t[0][1].count()+t[1][1].count()]})},re.prototype.degree_iter=re.prototype.u,re.prototype.X=function(t,n){var e;return e=t!=Qr?wn(this.f(t),function(t){return[t,this.pred.get(t)]},this):this.pred,n!=Qr?wn(e,function(t){var e=0;return t[1].forEach(function(t,r){e+=+Q(r,n,1)}),t[1]=e,t}):wn(e,function(t){return t[1]=t[1].count(),t})},re.prototype.in_degree_iter=re.prototype.X,re.prototype.ca=function(t,n){var e;if(t!=Qr){var r=[];e=wn(this.f(t),function(t){return r[0]=t,r[1]=this.succ.get(t),r},this)}else e=z(this.succ);return n!=Qr?wn(e,function(t){var e=0;return t[1].forEach(function(t,r){e+=+Q(r,n,1)}),[t[0],e]}):wn(e,function(t){return[t[0],t[1].count()]})},re.prototype.out_degree_iter=re.prototype.ca,re.prototype.va=function(t,n){return t!=Qr&&this.o(t)?this.X(t,n).next()[1]:new gn(this.X(t,n))},re.prototype.in_degree=re.prototype.va,re.prototype.ya=function(t,n){return t!=Qr&&this.o(t)?this.ca(t,n).next()[1]:new gn(this.ca(t,n))},re.prototype.out_degree=re.prototype.ya,re.prototype.clear=function(){this.succ.clear(),this.pred.clear(),this.node.clear(),Z(this.graph)},re.prototype.clear=re.prototype.clear,re.prototype.m=e(Wr),re.prototype.is_multigraph=re.prototype.m,re.prototype.c=e($r),re.prototype.is_directed=re.prototype.c,re.prototype.M=function(){return Ln(this)},re.prototype.to_directed=re.prototype.M,re.prototype.V=function(t){var n=new ee;n.name(this.name()),n.i(this);var e=this.pred,r=[];return n.d(t?qn(this.p(),function(t){return r[0]=t[0],z(t[1])},function(t){return e.get(r[0]).a(t[0])?(r[1]=t[0],r[2]=zn(t[1]),r):void 0}):qn(this.p(),function(t){return r[0]=t[0],z(t[1])},function(t){return r[1]=t[0],r[2]=zn(t[1]),r})),n.graph=zn(this.graph),n.node=zn(this.node),n},re.prototype.to_undirected=re.prototype.V,re.prototype.reverse=function(t){return(t=!i(t)||t)?(t=new this.constructor(Qr,{name:"Reverse of ("+this.name()+")"}),t.i(this),t.d(wn(this.g(Qr,$r),function(t){var n=t[0];return t[0]=t[1],t[1]=n,t[2]=zn(t[2]),t})),t.graph=zn(this.graph),t.node=zn(this.node)):(t=this.succ,this.succ=this.pred,this.pred=t,this.adj=this.succ,t=this),t},re.prototype.reverse=re.prototype.reverse,re.prototype.H=function(t){t=this.f(t);var n=new this.constructor,e=n.succ,r=n.pred,o=this.succ;return xn(t,function(t){e.set(t,new gn),r.set(t,new gn)}),e.forEach(function(t,n){o.get(t).forEach(function(o,i){e.a(o)&&(n.set(o,i),r.get(o).set(t,i))})}),xn(n,function(t){n.node.set(t,this.node.get(t))},this),n.graph=this.graph,n},re.prototype.subgraph=re.prototype.H,y(oe,ee),v("jsnx.classes.MultiGraph",oe),v("jsnx.MultiGraph",oe),oe.__name__="MultiGraph",oe.prototype.b=function(t,e,r,i){var u,a;if(r!=Qr&&!s(r)&&!f(r)&&(i=r,r=Qr),i=i||{},"object"!==o(i)&&n(new un("The attr_dict argument must be an object.")),this.adj.a(t)||(this.adj.set(t,new gn),this.node.set(t,{})),this.adj.a(e)||(this.adj.set(e,new gn),this.node.set(e,{})),this.adj.get(t).a(e)){if(a=this.adj.get(t).get(e),r==Qr)for(r=X(a);r in a;)r+=1;u=Q(a,""+r,{}),tn(u,i),a[r]=u}else r!=Qr||(r=0),u={},tn(u,i),a=nn(r,u),this.adj.get(t).set(e,a),this.adj.get(e).set(t,a)},oe.prototype.add_edge=oe.prototype.b,oe.prototype.d=function(t,e){e=e||{},"object"!==o(e)&&n(new un("The attr_dict argument must be an object.")),xn(t,function(t){var r,o,i=_n(t),u=Qr,a={};if(4===i?(r=t[0],o=t[1],u=t[2],a=t[3]):3===i?(r=t[0],o=t[1],a=t[2]):2===i?(r=t[0],o=t[1]):n(new un("Edge tuple "+Qn(t)+" must be a 2-tuple, 3-tuple or 4-tuple.")),t=this.adj.a(r)?this.adj.get(r).get(o,{}):{},u==Qr)for(u=X(t);u in t;)u+=1;t=Q(t,u,{}),tn(t,e,a),this.b(r,o,u,t)},this)},oe.prototype.add_edges_from=oe.prototype.d,oe.prototype.z=function(t,e,r){var o;try{o=this.adj.get(t).get(e)}catch(i){i instanceof hn||n(i),n(new un("The edge "+t+"-"+e+" is not in the graph"))}r!=Qr?(r in o||n(new un("The edge "+t+"-"+e+" with key "+r+" is not in the graph")),$(o,r)):$(o,Y(o)),0===X(o)&&(this.adj.get(t).remove(e),t!==e&&this.adj.get(e).remove(t))},oe.prototype.remove_edge=oe.prototype.z,oe.prototype.L=function(t){xn(t,function(t){try{this.z(t[0],t[1],t[2])}catch(e){e instanceof un||n(e)}},this)},oe.prototype.remove_edges_from=oe.prototype.L,oe.prototype.T=function(t,e,r){try{var o;if(r!=Qr){var i=this.adj.get(t).get(e);o=r in i}else o=this.adj.get(t).a(e);return o}catch(u){return u instanceof hn||n(u),Wr}},oe.prototype.has_edge=oe.prototype.T,oe.prototype.v=function(t,n,e){return D(this.g(t,n,e))},oe.prototype.edges=oe.prototype.v,oe.prototype.g=function(t,e,r){c(t)&&(c(e)&&(r=e),e=t,t=Qr);var o,i,u=new gn;if(t!=Qr){var a=[];t=wn(this.f(t),function(t){return a[0]=t,a[1]=this.adj.get(t),a},this)}else t=z(this.adj);return e?qn(t,function(t){o=t[0];var e=new C,r=z(t[1]);return e.next=function(){try{return r.next()}catch(t){t===co&&u.set(o,$r),n(t)}},e},function(t){return i=t[0],u.a(i)?void 0:An(t[1])},function(t){return r?[o,i,t[0],t[1]]:[o,i,t[1]]}):qn(t,function(t){o=t[0];var e=new C,r=z(t[1]);return e.next=function(){try{return r.next()}catch(t){t===co&&u.set(o,$r),n(t)}},e},function(t){return i=t[0],u.a(i)?void 0:An(t[1])},function(t){return r?[o,i,t[0]]:[o,i]})},oe.prototype.edges_iter=oe.prototype.g,oe.prototype.W=function(t,e,r,o){i(o)||(o=Qr);try{return r!=Qr?Q(this.adj.get(t).get(e),""+r,o):this.adj.get(t).get(e)}catch(u){return u instanceof hn||n(u),o}},oe.prototype.get_edge_data=oe.prototype.W,oe.prototype.u=function(t,n){var e;if(t!=Qr){var r=[];e=wn(this.f(t),function(t){return r[0]=t,r[1]=this.adj.get(t),r},this)}else e=z(this.adj);return n!=Qr?R(e,function(t){var e=t[0];t=t[1];var r=0;return t.forEach(function(t,e){B(e,function(t){r+=Q(t,n,1)})}),t.a(e)&&B(t.get(e),function(t){r+=Q(t,n,1)}),[e,r]}):R(e,function(t){var n=t[0];t=t[1];var e=0;return t.forEach(function(t,n){e+=X(n)}),[n,e+ +(t.a(n)&&X(t.get(n)))]})},oe.prototype.degree_iter=oe.prototype.u,oe.prototype.m=e($r),oe.prototype.is_multigraph=oe.prototype.m,oe.prototype.c=e(Wr),oe.prototype.is_directed=oe.prototype.c,oe.prototype.M=function(){var t=new ie;return t.i(this),t.d(function(){var t,n;return qn(this.p(),function(n){return t=n[0],z(n[1])},function(t){return n=t[0],An(t[1])},function(e){return[t,n,e[0],zn(e[1])]})}.call(this)),t.graph=zn(this.graph),t.node=zn(this.node),t},oe.prototype.to_directed=oe.prototype.M,oe.prototype.ea=function(t,n){var e=[];return this.adj.forEach(t?n?function(t,n){n.a(t)&&B(n.get(t),function(n,r){e.push([t,t,r,n])})}:function(t,n){n.a(t)&&B(n.get(t),function(n){e.push([t,t,n])})}:n?function(t,n){n.a(t)&&B(n.get(t),function(n,r){e.push([t,t,r])})}:function(t,n){n.a(t)&&B(n.get(t),function(){e.push([t,t])})}),e},oe.prototype.selfloop_edges=oe.prototype.ea,oe.prototype.R=function(t){if(t==Qr)return this.size();try{return X(this.adj.get(t).get(t))}catch(e){return e instanceof hn||n(e),0}},oe.prototype.number_of_edges=oe.prototype.R,oe.prototype.H=function(t){t=this.f(t);var n=new this.constructor,e=n.adj,r=this.adj;return L(t,function(t){var n=new gn;e.set(t,n),r.get(t).forEach(function(r,o){if(e.a(r)){var i=W(o);n.set(r,i),e.get(r).set(t,i)}})}),this.node.forEach(function(t,e){n.node.set(t,e)}),n.graph=this.graph,n},oe.prototype.subgraph=oe.prototype.H,y(ie,re);var vo,yo=ie.prototype,mo=oe.prototype;for(vo in mo)mo.hasOwnProperty(vo)&&"constructor"!==vo&&(yo[vo]=mo[vo]);v("jsnx.classes.MultiDiGraph",ie),v("jsnx.MultiDiGraph",ie),ie.__name__="MultiDiGraph",ie.prototype.b=function(t,e,r,i){var u,a;if(r!=Qr&&!s(r)&&!f(r)&&(i=r,r=Qr),i=i||{},"object"!==o(i)&&n(new un("The attr_dict argument must be an object.")),this.succ.a(t)||(this.succ.set(t,new gn),this.pred.set(t,new gn),this.node.set(t,{})),this.succ.a(e)||(this.succ.set(e,new gn),this.pred.set(e,new gn),this.node.set(e,{})),this.succ.get(t).a(e)){if(a=this.adj.get(t).get(e),r==Qr)for(r=X(a);r in a;)r+=1;u=Q(a,r.toString(),{}),tn(u,i),a[r]=u}else r!=Qr||(r=0),u={},tn(u,i),a=nn(r,u),this.succ.get(t).set(e,a),this.pred.get(e).set(t,a)},ie.prototype.add_edge=ie.prototype.b,ie.prototype.z=function(t,e,r){var o;try{o=this.adj.get(t).get(e)}catch(i){i instanceof hn||n(i),n(new un("The edge "+t+"-"+e+" is not in the graph"))}r!=Qr?(r in o||n(new un("The edge "+t+"-"+e+" with key "+r+" is not in the graph")),$(o,r)):$(o,Y(o)),0===X(o)&&(this.succ.get(t).remove(e),this.pred.get(e).remove(t))},ie.prototype.remove_edge=ie.prototype.z,ie.prototype.g=function(t,n,e){c(t)&&(c(n)&&(e=n),n=t,t=Qr);var r,o;if(t!=Qr){var i=[];t=wn(this.f(t),function(t){return i[0]=t,i[1]=this.adj.get(t),i},this)}else t=z(this.adj);return n?qn(t,function(t){return r=t[0],z(t[1])},function(t){return o=t[0],An(t[1])},function(t){return e?[r,o,t[0],t[1]]:[r,o,t[1]]}):qn(t,function(t){return r=t[0],z(t[1])},function(t){return o=t[0],An(t[1])},function(t){return e?[r,o,t[0]]:[r,o]})},ie.prototype.edges_iter=ie.prototype.g,ie.prototype.ka=ie.prototype.g,ie.prototype.out_edges_iter=ie.prototype.ka,ie.prototype.oa=function(t,n,e){return D(this.ka(t,n,e))},ie.prototype.out_edges=ie.prototype.oa,ie.prototype.Q=function(t,n,e){c(t)&&(n=t,t=Qr);var r,o;if(t!=Qr){var i=[];t=wn(this.f(t),function(t){return i[0]=t,i[1]=this.pred.get(t),i},this)}else t=z(this.pred);return n?qn(t,function(t){return r=t[0],z(t[1])},function(t){return o=t[0],An(t[1])},function(t){return e?[o,r,t[0],t[1]]:[o,r,t[1]]}):qn(t,function(t){return r=t[0],z(t[1])},function(t){return o=t[0],An(t[1])},function(t){return e?[o,r,t[0]]:[o,r]})},ie.prototype.in_edges_iter=ie.prototype.Q,ie.prototype.Y=function(t,n,e){return D(this.Q(t,n,e))},ie.prototype.in_edges=ie.prototype.Y,ie.prototype.u=function(t,n){var e;if(t!=Qr){var r=[],o=[];e=bn(R(this.f(t),function(t){return r[0]=t,r[1]=this.succ.get(t),r},this),R(this.f(t),function(t){return o[0]=t,o[1]=this.pred.get(t),o},this))}else e=bn(z(this.succ),z(this.pred));return n!=Qr?wn(e,function(t){var e=t[0][1],r=0;return t[1][1].forEach(function(t,e){B(e,function(t){r+=+Q(t,n,1)})}),e.forEach(function(t,e){B(e,function(t){r+=+Q(t,n,1)})}),[t[0][0],r]}):wn(e,function(t){var n=0,e=0;return t[1][1].forEach(function(t,e){n+=X(e)}),t[0][1].forEach(function(t,n){e+=X(n)}),[t[0][0],n+e]})},ie.prototype.degree_iter=ie.prototype.u,ie.prototype.X=function(t,n){var e;if(t!=Qr){var r=[];e=wn(this.f(t),function(t){return r[0]=t,r[1]=this.pred.get(t),r},this)}else e=z(this.pred);return n!=Qr?wn(e,function(t){var e=0;return t[1].forEach(function(t,r){B(r,function(t){e+=+Q(t,n,1)})}),[t[0],e]}):wn(e,function(t){var n=0;return t[1].forEach(function(t,e){n+=X(e)}),[t[0],n]})},ie.prototype.in_degree_iter=ie.prototype.X,ie.prototype.ca=function(t,n){var e;if(t!=Qr){var r=[];e=wn(this.f(t),function(t){return r[0]=t,r[1]=this.succ.get(t),r},this)}else e=z(this.succ);return n!=Qr?wn(e,function(t){var e=0;return t[1].forEach(function(t,r){B(r,function(t){e+=+Q(t,n,1)})}),[t[0],e]}):wn(e,function(t){var n=0;return t[1].forEach(function(t,e){n+=X(e)}),[t[0],n]})},ie.prototype.out_degree_iter=ie.prototype.ca,ie.prototype.m=e($r),ie.prototype.is_multigraph=ie.prototype.m,ie.prototype.c=e($r),ie.prototype.is_directed=ie.prototype.c,ie.prototype.M=function(){return Ln(this)},ie.prototype.to_directed=ie.prototype.M,ie.prototype.V=function(t){var n=new oe;n.name(this.name()),n.i(this);var e,r;return n.d(t?qn(this.p(),function(t){return e=t[0],z(t[1])},function(t){return r=t[0],An(t[1])},d(function(t){return this.T(r,e,t[0])?[e,r,t[0],zn(t[1])]:void 0},this)):qn(this.p(),function(t){return e=t[0],z(t[1])},function(t){return r=t[0],An(t[1])},function(t){return[e,r,t[0],zn(t[1])]})),n.graph=zn(this.graph),n.node=zn(this.node),n},ie.prototype.to_undirected=ie.prototype.V,ie.prototype.H=function(t){t=this.f(t);var n=new this.constructor,e=n.succ,r=n.pred,o=this.succ;return L(t,function(t){e.set(t,new gn),r.set(t,new gn)}),e.forEach(function(t,n){o.get(t).forEach(function(o,i){if(e.a(o)){var u=W(i);n.set(o,u),r.get(o).set(t,u)}})}),this.node.forEach(function(t,e){n.node.set(t,e)}),n.graph=this.graph,n},ie.prototype.subgraph=ie.prototype.H,ie.prototype.reverse=function(t){return(t=!i(t)||t)?(t=new this.constructor(Qr,{name:"Reverse of ("+this.name()+")"}),t.i(this),t.d(R(this.g(Qr,$r,$r),function(t){return[t[1],t[0],t[2],zn(t[3])]})),t.graph=zn(this.graph),t.node=zn(this.node)):(t=this.succ,this.succ=this.pred,this.pred=t,this.adj=this.succ,t=this),t},ie.prototype.reverse=ie.prototype.reverse,v("jsnx.classes.func.nodes",ue),v("jsnx.nodes",ue),v("jsnx.classes.func.nodes_iter",ae),v("jsnx.nodes_iter",ae),v("jsnx.classes.func.edges",se),v("jsnx.edges",se),v("jsnx.classes.func.edges_iter",ce),v("jsnx.edges_iter",ce),v("jsnx.degree",function(t,n,e){return t.t(n,e)}),v("jsnx.classes.func.neighbors",fe),v("jsnx.neighbors",fe),v("jsnx.classes.func.number_of_nodes",le),v("jsnx.number_of_nodes",le),v("jsnx.classes.func.number_of_edges",he),v("jsnx.number_of_edges",he),v("jsnx.classes.func.density",pe),v("jsnx.density",pe),v("jsnx.classes.func.degree_histogram",ge),v("jsnx.degree_histogram",ge),v("jsnx.classes.func.is_directed",de),v("jsnx.is_directed",de),v("jsnx.classes.func.freeze",ve),v("jsnx.freeze",ve),v("jsnx.classes.func.is_frozen",ye),v("jsnx.is_frozen",ye),v("jsnx.classes.func.subgraph",me),v("jsnx.subgraph",me),v("jsnx.classes.func.create_empty_copy",_e),v("jsnx.create_empty_copy",_e),v("jsnx.classes.func.info",xe),v("jsnx.info",xe),v("jsnx.classes.func.set_node_attributes",we),v("jsnx.set_node_attributes",we),v("jsnx.classes.func.get_node_attributes",be),v("jsnx.get_node_attributes",be),v("jsnx.classes.func.set_edge_attributes",Me),v("jsnx.set_edge_attributes",Me),v("jsnx.classes.func.get_edge_attributes",je),v("jsnx.get_edge_attributes",je),v("jsnx.algorithms.cluster.triangles",Ee),v("jsnx.triangles",Ee),v("jsnx.algorithms.cluster.average_clustering",Ne),v("jsnx.average_clustering",Ne),v("jsnx.algorithms.cluster.clustering",Ae),v("jsnx.clustering",Ae),v("jsnx.algorithms.cluster.transitivity",Te),v("jsnx.transitivity",Te),v("jsnx.algorithms.cluster.square_clustering",qe),v("jsnx.square_clustering",qe),v("jsnx.algorithms.clique.find_cliques",Ce),v("jsnx.find_cliques",Ce),v("jsnx.algorithms.clique.find_cliques_recursive",ze),v("jsnx.find_cliques_recursive",ze),v("jsnx.algorithms.clique.graph_clique_number",Re),v("jsnx.graph_clique_number",Re),v("jsnx.algorithms.clique.graph_number_of_cliques",Oe),v("jsnx.graph_number_of_cliques",Oe),v("jsnx.algorithms.clique.number_of_cliques",Pe),v("jsnx.number_of_cliques",Pe),v("jsnx.algorithms.isomorphism.could_be_isomorphic",De),v("jsnx.could_be_isomorphic",De),v("jsnx.algorithms.isomorphism.fast_could_be_isomorphic",Ie),v("jsnx.fast_could_be_isomorphic",Ie),v("jsnx.algorithms.isomorphism.faster_could_be_isomorphic",Ue),v("jsnx.faster_could_be_isomorphic",Ue),v("jsnx.algorithms.graphical.is_valid_degree_sequence",Fe),v("jsnx.is_valid_degree_sequence",Fe),v("jsnx.algorithms.graphical.is_valid_degree_sequence_havel_hakimi",He),v("jsnx.is_valid_degree_sequence_havel_hakimi",He),v("jsnx.algorithms.graphical.is_valid_degree_sequence_erdos_gallai",Je),v("jsnx.is_valid_degree_sequence_erdos_gallai",Je),v("jsnx.algorithms.dag.is_directed_acyclic_graph",Be),v("jsnx.is_directed_acyclic_graph",Be),v("jsnx.algorithms.dag.topological_sort",Ge),v("jsnx.topological_sort",Ge),v("jsnx.algorithms.dag.topological_sort_recursive",Xe),v("jsnx.topological_sort_recursive",Xe);var _o=function Eo(t){t.c()||n(new un("is_aperiodic not defined for undirected graphs."));var e=t.C().next(),r=new gn;r.set(e,0);for(var e=[e],o=0,i=1;0<e.length;){var u=[];io(e,function(n){t.get(n).forEach(function(t){r.a(t)?o=lo(o,r.get(n)-r.get(t)+1):(u.push(t),r.set(t,i))})}),e=u,i+=1}return r.count()===_n(t)?1===o:1===o&&Eo(t.H(new vn(t.nodes()).O(r.keys())))};v("jsnx.algorithms.dag.is_aperiodic",_o),v("jsnx.is_aperiodic",_o),Ye.prototype.getKey=function(){return this.xa},Ye.prototype.ha=function(){return new Ye(this.xa,this.ra)},Vr=Ke.prototype,Vr.remove=function(){var t=this.s,n=t.length,e=t[0];if(!(0>=n)){if(1==n)x(t);else{t[0]=t.pop();for(var t=0,n=this.s,r=n.length,o=n[t];r>>1>t;){var i=2*t+1,u=2*t+2,i=r>u&&n[u].getKey()<n[i].getKey()?u:i;if(n[i].getKey()>o.getKey())break;n[t]=n[i],t=i}n[t]=o}return e.ra}},Vr.P=function(){for(var t=this.s,n=[],e=t.length,r=0;e>r;r++)n.push(t[r].ra);return n},Vr.na=function(){for(var t=this.s,n=[],e=t.length,r=0;e>r;r++)n.push(t[r].getKey());return n},Vr.ta=function(t){return so(this.s,function(n){return n.getKey()==t})},Vr.ha=function(){return new Ke(this)},Vr.ia=function(){return this.s.length},Vr.ja=function(){return 0==this.s.length},Vr.clear=function(){x(this.s)},y(Ze,Ke),v("jsnx.algorithms.centrality.betweenness.betweenness_centrality",Qe),v("jsnx.betweenness_centrality",Qe),v("jsnx.algorithms.centrality.betweenness.edge_betweenness_centrality",We),v("jsnx.edge_betweenness_centrality",We),v("jsnx.algorithms.shortest_paths.unweighted.single_source_shortest_path_length",ar),v("jsnx.single_source_shortest_path_length",ar),v("jsnx.algorithms.shortest_paths.unweighted.all_pairs_shortest_path_length",sr),v("jsnx.all_pairs_shortest_path_length",sr),v("jsnx.algorithms.shortest_paths.unweighted.bidirectional_shortest_path",cr),v("jsnx.bidirectional_shortest_path",cr),v("jsnx.algorithms.shortest_paths.unweighted.single_source_shortest_path",lr),v("jsnx.single_source_shortest_path",lr),v("jsnx.algorithms.shortest_paths.unweighted.all_pairs_shortest_path",hr),v("jsnx.all_pairs_shortest_path",hr),v("jsnx.algorithms.shortest_paths.unweighted.predecessor",pr),v("jsnx.predecessor",pr);var xo,wo=Qr,bo="add_node add_nodes_from add_edge add_edges_from remove_node remove_nodes_from remove_edge remove_edges_from clear".split(" ");v("jsnx.draw",function(a,h,p){function g(){T.j.attr("transform",function(t){return["translate(",t.x,",",t.y,")scale(",D,")"].join("")}),U()}c(h)&&(p=h,h=Qr),h=h||wo||{};var d=h.d3||t.d3,v={};Sn(v,Mo,h),wo=h,d||n(Error("D3 requried for draw()")),v.element==Qr&&xo==Qr&&n(Error("Output element required for draw()")),xo=Q(v,"element",xo),d.select(xo).select("svg.jsnx").remove();var y=d.select(xo),m=y.append("svg").classed("jsnx",$r).attr("pointer-events","all"),_=m.append("g");h=_.append("g").classed("edges",$r).selectAll("g.edge");var x,w,b,M=_.append("g").classed("nodes",$r).selectAll("g.node"),j=d.layout.force(),E=v.width||parseInt(y.style("width"),10),k=v.height||parseInt(y.style("height"),10),S=v.layout_attr,y=v.nodelist||Qr,N=a.c(),A=v.weighted,T={j:M,l:h};if(v.with_labels){var q=v.labels;x="object"===o(q)?function(t){return Q(q,t.node,"")}:l(q)?q:s(q)?function(t){return t.data[q]}:function(t){return t.node}}if(v.labels=x,A){var C=v.weights;b="object"===o(C)?function(t){return Q(C,t.node,1)}:l(C)?C:s(C)?function(t){return Q(t.data,C,1)}:e(1)}if(v.with_edge_labels){var z=v.edge_labels;w=A&&!i(z)?b:"object"===o(z)?function(t){return Q(q,t.node,"")
}:l(z)?z:s(z)?function(t){return t.data[z]}:function(t){return t.edge},v.edge_labels=w}if(A&&v.weighted_stroke){var A=O(a.g(Qr,$r),function(t,n){return n=b({data:n[2]}),t>n?t:n}),L=d.scale.linear().range([2,v.edge_style["stroke-width"]]).domain([0,A]);v.edge_style["stroke-width"]=function(t){return L(b.call(this,t))}}m.select("svg.jsnx").remove(),m.attr("width",E+"px").attr("height",k+"px").style("opacity",1e-6).transition().duration(1e3).style("opacity",1);var R={size:$r,nodes:$r,links:$r,start:$r};xn(S,function(t){t in R||j[t](S[t])}),j.nodes([]).links([]).size([E,k]);var P=1,D=1;if(v.pan_zoom.enabled){var I=v.pan_zoom.scale;!function(){var t=Wr,n=1,e=P;m.call(d.behavior.zoom().on("zoom",function(){var r=d.event.sourceEvent.shiftKey;(r=I&&r||!(I||r))&&!t?(n=d.event.scale,e=P,t=$r):!r&&t&&(t=Wr),P=r?e*(d.event.scale/n):P,D=r?D:P/d.event.scale,r=d.event.translate,_.attr("transform","translate("+r[0]+","+r[1]+")scale("+d.event.scale+")"),g()}))}()}var U=r,F=v.edge_offset,H=v.node_attr.r,J=v.node_style["stroke-width"];"circle"===v.node_shape?(l(H)||(H=function(){return v.node_attr.r}),l(J)||(J=function(){return v.node_style["stroke-width"]}),F=function(t){return[H(t.source)+J(t.source),H(t.target)+J(t.target)]}):(u(F)&&(F=function(){return v.edge_offset}),f(F)&&(F=function(){return[v.edge_offset,v.edge_offset]}));var B=v.edge_style["stroke-width"];l(B)||(B=function(){return v.edge_style["stroke-width"]});var G=v.edge_label_offset,U=N?function(){T.l.each(function(t){if(t.source!==t.target){var n=d.select(this),e=t.source.x,r=t.source.y,o=t.target.x,i=t.target.y,u=go.sa(e,r,o,i),o=Math.sqrt(Math.pow(o-e,2)+Math.pow(i-r,2)),i=F(t),i=[i[0]*D,i[1]*D];n.attr("transform",["translate(",e,",",r,")rotate(",u,")"].join("")),e=B(t)*D,r=o-i[1]-2*e,u=e/2,n.select(".line").attr("d",["M",i[0],0,"L",i[0],-u,"L",r,-u,"L",r,-e,"L",o-i[1],0,"z"].join(" ")),e=1/D,n.select("text").attr("x",G.x*e+i[0]+(o*e-i[0]-i[1])/2).attr("y",-B(t)/2+-G.y*e).attr("transform","scale("+D+")")}})}:function(){T.l.each(function(t){if(t.source!==t.target){var n=d.select(this),e=t.source.x,r=t.source.y,o=t.target.x,i=t.target.y,u=go.sa(e,r,o,i),o=Math.sqrt(Math.pow(o-e,2)+Math.pow(i-r,2)),i=o/2,a=F(t),a=[a[0]*D,a[1]*D],s=1/D,c=B(t)*D,f=u>90&&279>u;n.attr("transform",["translate(",e,",",r,")rotate(",u,")"].join("")),n.select(".line").attr("d",["M",a[0],c/4,"L",a[0],-c/4,"L",o-a[1],-c/4,"L",o-a[1],c/4,"z"].join(" ")),v.with_edge_labels&&n.select("text").attr("x",(f?1:-1)*G.x*s+a[0]+(o*s-a[0]-a[1])/2).attr("y",-B(t)/4+-G.y*s).attr("transform","scale("+D+")"+(f?"rotate(180,"+i*(1/D)+",0)":""))}})};return j.on("tick",g),E=a.C(),k=a.g(),y&&(p=Wr,E=a.f(y),k=a.g(y)),T.j=gr(a,E,j,M,v.node_shape,x),T.l=dr(a,k,j,h,w),vr(T.j,{attr:v.node_attr,style:v.node_style,aa:v.label_style,$:v.label_attr},v.with_labels),yr(T.l,{attr:v.edge_attr,style:v.edge_style,aa:v.edge_label_style,$:v.edge_label_attr},v.with_edge_labels,Qr,N),p?br(a,j,v,T):a.bound?Mr(a):jr(a),j.start(),j}),v("jsnx.is_bound",function(t){return t.bound}),v("jsnx.unbind",Mr);var Mo={layout_attr:{charge:-120,linkDistance:60},node_shape:"circle",node_attr:{r:10},node_style:{"stroke-width":2,stroke:"#333",fill:"#999",cursor:"pointer"},edge_attr:{},edge_style:{fill:"#000","stroke-width":3},label_attr:{},label_style:{"text-anchor":"middle","dominant-baseline":"central",cursor:"pointer","-webkit-user-select":"none",fill:"#000"},edge_label_attr:{},edge_label_style:{"font-size":"0.8em","text-anchor":"middle","-webkit-user-select":"none"},edge_label_offset:{x:0,y:.5},with_labels:Wr,with_edge_labels:Wr,edge_offset:10,weighted:Wr,weights:"weight",weighted_stroke:$r,pan_zoom:{enabled:$r,scale:$r}};v("jsnx.generators.classic.full_rary_tree",kr),v("jsnx.full_rary_tree",kr),v("jsnx.generators.classic.balanced_tree",Sr),v("jsnx.balanced_tree",Sr),v("jsnx.generators.classic.complete_graph",Nr),v("jsnx.complete_graph",Nr),v("jsnx.generators.classic.cycle_graph",Ar),v("jsnx.cycle_graph",Ar),v("jsnx.generators.classic.empty_graph",Tr),v("jsnx.empty_graph",Tr),v("jsnx.generators.classic.grid_2d_graph",qr),v("jsnx.grid_2d_graph",qr),v("jsnx.generators.classic.null_graph",Cr),v("jsnx.null_graph",Cr),v("jsnx.generators.classic.path_graph",zr),v("jsnx.path_graph",zr),v("jsnx.generators.classic.trivial_graph",Lr),v("jsnx.trivial_graph",Lr),v("jsnx.generators.random_graphs.fast_gnp_random_graph",Rr),v("jsnx.fast_gnp_random_graph",Rr),v("jsnx.generators.random_graphs.gnp_random_graph",Or),v("jsnx.gnp_random_graph",Or),v("jsnx.binomial_graph",Or),v("jsnx.erdos_renyi_graph",Or),v("jsnx.generators.degree_seq.havel_hakimi_graph",Pr),v("jsnx.havel_hakimi_graph",Pr),v("jsnx.generators.social.karate_club_graph",Dr),v("jsnx.karate_club_graph",Dr),v("jsnx.generators.social.davis_southern_women_graph",Ir),v("jsnx.davis_southern_women_graph",Ir),v("jsnx.generators.social.florentine_families_graph",Ur),v("jsnx.florentine_families_graph",Ur),v("jsnx.generators.small.make_small_undirected_graph",Fr),v("jsnx.generators.small.make_small_graph",Hr),v("jsnx.make_small_graph",Hr),v("jsnx.generators.small.bull_graph",Jr),v("jsnx.bull_graph",Jr),v("jsnx.generators.small.krackhardt_kite_graph",Br),v("jsnx.krackhardt_kite_graph",Br),v("jsnx.relabel.relabel_nodes",Gr),v("jsnx.relabel_nodes",Gr),v("jsnx.relabel.convert_node_labels_to_integers",Kr),v("jsnx.convert_node_labels_to_integers",Kr)}),e("Graph",["d3","jsnx"],function(t,n){function e(){this.G=n.DiGraph()}return e.prototype.addAdjacentNodes=function(t,n){this.G.add_nodes_from([t]),this.G.add_nodes_from(n);var e=n.map(function(n){return[t,n]});this.G.add_edges_from(e)},e.prototype.removeWeakNodes=function(t){for(var n,e=this.G.degree_iter(),r=[];;){try{n=e.next()}catch(o){if("StopIteration"!==o.message)throw o;break}n[1]<t&&r.push(n[0])}console.log("Removing weak nodes",r),this.G.remove_nodes_from(r)},e.prototype.removeSpamNodes=function(){for(var t,n,e,r,o=this.G.nodes_iter(),i=[];;){try{r=o.next()}catch(u){if("StopIteration"!==u.message)throw u;break}t=this.G.in_degree(r),n=this.G.out_degree(r),e=Math.max(t,1)/Math.max(n,1),.03>e&&(console.log(r,e,n),i.push(r))}console.log("Removing spammy nodes",i),this.G.remove_nodes_from(i)},e.prototype.draw=function(){this.removeSpamNodes(),this.removeWeakNodes(2),this.removeWeakNodes(1),n.draw(this.G,{element:"#canvas",with_labels:!0,weighted:!1,edge_offset:300,label_style:{fill:"rgb(9,24,76)"},edge_style:{fill:"rgb(172,178,198)","stroke-width":5},node_style:{fill:"rgba(0,0,0,0)","stroke-width":0}},!1)},e}),function(t){t.MakeArg=function(){var n=function(){return n.get.apply(t,arguments)};return n.version="1.0.1",n.parse=function(t){if(!t)return{};if(-1===t.indexOf("=")&&-1===t.indexOf("&"))return{};t=n._cleanParamStr(t);var e={},r=t.split("&");for(var o in r){var i=r[o].split("="),u=decodeURIComponent(i[0]),a=decodeURIComponent(i[1]);n._access(e,u,a)}return e},n._access=function(t,e,r){var o="undefined"!=typeof r,i=-1,u={"true":!0,"false":!1,"null":null};if(("string"==typeof e||"[object String]"==toString.call(e))&&(i=e.search(/[\.\[]/)),-1===i)return n.coerceMode&&(r=r&&!isNaN(r)?+r:"undefined"===r?void 0:void 0!==u[r]?u[r]:r),o?t[e]=r:t[e];var a=e.substr(0,i),s=e.substr(i+1);switch(e.charAt(i)){case"[":return t[a]=t[a]||[],s=s.replace("]",""),-1===s.search(/[\.\[]/)&&(s=parseInt(s,10)),n._access(t[a],s,r);case".":return t[a]=t[a]||{},n._access(t[a],s,r)}return t},n.stringify=function(t,e){switch(typeof t){case"object":var r,o=[];for(var i in t)if(t.hasOwnProperty(i)){var u=t[i];"undefined"!=typeof i&&0!==i.length&&"undefined"!=typeof u&&(r=e?e+"."+i:i,"undefined"!=typeof t.length&&(r=e?e+"["+i+"]":i),o.push("object"==typeof u?n.stringify(u,r):encodeURIComponent(r)+"="+encodeURIComponent(u)))}return o.join("&")}return encodeURIComponent(t)},n.url=function(){var t=n.urlUseHash?n.hashQuerySeperator:n.querySeperator,e=[location.pathname,t],r={};switch(arguments.length){case 1:e.push(n.stringify(arguments[0]));break;case 2:e[0]=n._cleanPath(arguments[0]),r=n.parse(arguments[0]),r=n.merge(r,arguments[1]),e.push(n.stringify(r));break;case 3:e[0]=n._cleanPath(arguments[0]),e[1]=n.querySeperator,e.push(n.stringify(arguments[1])),e.push("string"==typeof arguments[2]?n.hashSeperator:n.hashQuerySeperator),e.push(n.stringify(arguments[2]))}var o=e.join("");return o.indexOf(t)==o.length-t.length&&(o=o.substr(0,o.length-t.length)),o},n.urlUseHash=!1,n.querySeperator="?",n.hashSeperator="#",n.hashQuerySeperator="#?",n.coerceMode=!0,n.all=function(){var t=n.parse(n.querystring()+"&"+n.hashstring());return n._all?n._all:n._all=t},n.get=function(t,e){var r=n._access(n.all(),t);return"undefined"==typeof r?e:r},n.query=function(){return n._query?n._query:n._query=n.parse(n.querystring())},n.hash=function(){return n._hash?n._hash:n._hash=n.parse(n.hashstring())},n.querystring=function(){return n._cleanParamStr(location.search)},n.hashstring=function(){return n._cleanParamStr(location.hash)},n._cleanParamStr=function(t){if(t.indexOf(n.querySeperator)>-1&&(t=t.split(n.querySeperator)[1]),t.indexOf(n.hashSeperator)>-1&&(t=t.split(n.hashSeperator)[1]),-1===t.indexOf("=")&&-1===t.indexOf("&"))return"";for(;0==t.indexOf(n.hashSeperator)||0==t.indexOf(n.querySeperator);)t=t.substr(1);return t},n._cleanPath=function(t){return t.indexOf(n.querySeperator)>-1&&(t=t.substr(0,t.indexOf(n.querySeperator))),t.indexOf(n.hashSeperator)>-1&&(t=t.substr(0,t.indexOf(n.hashSeperator))),t},n.merge=function(){var t={};for(var n in arguments)for(var e in arguments[n])t[e]=arguments[n][e];return t},n},t.Arg=MakeArg()}(window),e("Arg",function(t){return function(){var n;return n||t.Arg}}(this)),e("lib/request",["Arg","when"],function(t,n){function e(e){var i=t.url(e.path,e.params),u=new XMLHttpRequest,a=n.defer();return console.log(e.method,"=>",i),u.open(e.method,i,!0),u.onload=function(){var t=r(u.getAllResponseHeaders()),n={request:{options:e,url:i},status:u.status,headers:t,links:o(t.link),body:null};try{n.body=JSON.parse(u.responseText)}catch(s){n.body=u.responseText}console.log(e.method,"=>",i,"=>",n),u.status>=200&&u.status<400?a.resolve(n):a.reject(n)},u.onerror=function(t){console.error(t),a.reject(t)},u.send(),a.promise}function r(t){var n={};return t.split("\n").forEach(function(t){var e=t.indexOf(":"),r=t.substr(0,e),o=t.substr(e+1);r&&(r=r.trim().toLowerCase(),o=o.trim(),n[r]=o)}),n}function o(t){if(!t)return{};for(var n={},e=t.split(","),r=/\brel="?([^"]+)"?\s*;?/,o=/(\b[0-9a-z\.-]+\b)/g,i=/^<(.*)>/,u=0;u<e.length;u++){var a=e[u].trim(),s=r.exec(a);if(s){var c,f=s[1].match(o),l=i.exec(a)[1],h=f.length;for(c=0;h>c;c+=1)n[f[c]]=l}}return n}return e}),e("GitHub",["when","lib/request"],function(t,n){function e(t){this.accessToken=t}var r=100,o=3,i=10,u=50;return e.prototype.fetchAll=function(e){function r(){n(e).then(function(t){s=s.concat(t.body),t.links.next&&e.params.page<=o?(e.params.page+=1,setTimeout(r,Math.random(i,u))):(console.log("Resolving fetchAll",e),a.resolve(s))}.bind(this)).catch(function(t){console.error(t),a.reject(t)})}var a=t.defer(),s=[];return setTimeout(r,Math.random(i,u)),a.promise},e.prototype.followers=function(n){var e,o=t.defer(),i=JSON.parse(localStorage.getItem("flowerers:github:followers:"+n));return i?(console.debug("followers cache hit",n),o.resolve(i)):(console.debug("followers cache miss",n),e={method:"GET",path:"https://api.github.com/users/"+n+"/followers",params:{page:0,per_page:r,access_token:this.accessToken}},this.fetchAll(e).then(function(t){localStorage.setItem("flowerers:github:followers:"+n,JSON.stringify(t)),o.resolve(t)}).catch(function(t){console.error(t),o.reject(t)})),o.promise},e}),e("main",["domReady","when","Graph","GitHub"],function(t,n,e,r){function o(t){function n(){e.style.top="-500px",r.innerHTML=null}var e=document.getElementById("nav"),r=document.getElementById("toast");t?(console.log("msg",t),e.style.top=0,r.innerHTML=t):n()}function i(){var t=localStorage.getItem("flowerers:github:access_token"),i=localStorage.getItem("flowerers:github:username"),u=new r(t),a=window.graph=new e;o("Loading..."),u.followers(i).then(function(t){return a.addAdjacentNodes(i,t),t.map(function(t){return u.followers(t.login).then(function(n){o("Loaded "+t.login);var e=n.map(function(t){return t.login}),r=t.login;a.addAdjacentNodes(r,e)})})}).then(function(t){return n.all(t)}).tap(function(){o(i+"'s Followers"),a.draw(i)}).catch(function(t){var n=t;console.error(t),typeof t===String?n=t:t.message?n=t.message:t.body&&t.body.message?n=t.body.message:typeof t===Object&&(n=JSON.stringify(t)),o(n)})}t(function(){var t=document.getElementById("username"),n=document.getElementById("token"),e=document.getElementById("visualize"),r=localStorage.getItem("flowerers:github:username"),u=localStorage.getItem("flowerers:github:access_token");t.value=r,n.value=u,e.onclick=function(){return o(),t.value&&n.value?(localStorage.setItem("flowerers:github:username",t.value),localStorage.setItem("flowerers:github:access_token",n.value),document.getElementById("main").hidden=!0,document.getElementById("canvas").style.visibility="visible",document.getElementById("canvas").style.display="block",void i()):void o("Username or token is missing",!0)}})}),n(["main"])}();
//# sourceMappingURL=built.js.map